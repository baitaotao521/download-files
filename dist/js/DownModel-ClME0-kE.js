var Ia=Object.defineProperty;var Er=e=>{throw TypeError(e)};var Pa=(e,t,n)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var On=(e,t,n)=>Pa(e,typeof t!="symbol"?t+"":t,n),Rr=(e,t,n)=>t.has(e)||Er("Cannot "+n);var Qe=(e,t,n)=>(Rr(e,t,"read from private field"),n?n.call(e):t.get(e)),rn=(e,t,n)=>t.has(e)?Er("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>(Rr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var An=(e,t,n,r)=>({set _(o){ot(e,t,o,n)},get _(){return Qe(e,t,r)}});import{s as Da,o as Ma,i as Ua,a as or,b as _n,c as $a,e as ps,d as ms,f as Wa,g as ja,k as Ha,h as Va,j as Ka,l as gs,m as qa,n as Za,p as Un,q as Ga,r as Ya,t as Xa,u as Tr,v as Ja,w as Qa,S as ei,x as ti,y as ni,z as ri,A as xt,B as Ye,C as Cn,D as si,E as ai,T as vs,_ as ft,F as Le,G as lr,H as De,I as q,J as re,K as ii,L as Fn,M as Ne,N as le,O as Ce,P as Ct,Q as $n,R as oe,U as Ee,V as H,W as Nt,X as we,Y as $e,Z as Zt,$ as ve,a0 as Be,a1 as fe,a2 as _e,a3 as oi,a4 as dt,a5 as li,a6 as Gt,a7 as Xe,a8 as ct,a9 as ut,aa as bs,ab as ur,ac as Sn,ad as je,ae as ui,af as cr,ag as He,ah as We,ai as ys,aj as gt,ak as Wn,al as Ie,am as St,an as zt,ao as Or,ap as ws,aq as jn,ar as _s,as as Nn,at as Cs,au as dr,av as Ss,aw as fr,ax as st,ay as ht,az as hr,aA as ci,aB as pr,aC as Kt,aD as mr,aE as $t,aF as At,aG as tt,aH as ks,aI as Ar,aJ as di,aK as xs,aL as fi,aM as Fr,aN as Es,aO as gn,aP as et,aQ as Rs,aR as hi,aS as pi,aT as mi,aU as gi,aV as Ts,aW as Os,aX as As,aY as Rt,aZ as vi,a_ as gr,a$ as Ht,b0 as qt,b1 as bi,b2 as vn,b3 as Se,b4 as yi,b5 as vr,b6 as Vt,b7 as Nr,b8 as zr,b9 as Fs,ba as Ns,bb as wi,bc as zs,bd as _i,be as Ci,bf as Si,bg as Wt,bh as Lr,bi as Yt,bj as Br,bk as mt,bl as ki,bm as xi,bn as Ei,bo as Ri,bp as zn,bq as Ti,br as Oi,bs as Ai,bt as Fi,bu as Ni,bv as zi,bw as Li}from"./index-BYKNi765.js";function Bi(e,t){return Da(Ma(e,t,Ua),e+"")}function Ii(e,t,n){if(!or(n))return!1;var r=typeof t;return(r=="number"?_n(n)&&$a(t,n.length):r=="string"&&t in n)?ps(n[t],e):!1}function Pi(e){return Bi(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&Ii(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}var Di="[object Object]",Mi=Function.prototype,Ui=Object.prototype,Ls=Mi.toString,$i=Ui.hasOwnProperty,Wi=Ls.call(Object);function ji(e){if(!ms(e)||Wa(e)!=Di)return!1;var t=ja(e);if(t===null)return!0;var n=$i.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ls.call(n)==Wi}function Hi(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[++o];if(n(i[l],l,i)===!1)break}return t}}var Bs=Hi();function Vi(e,t){return e&&Bs(e,t,Ha)}function Ki(e,t){return function(n,r){if(n==null)return n;if(!_n(n))return e(n,r);for(var o=n.length,i=-1,a=Object(n);++i<o&&r(a[i],i,a)!==!1;);return n}}var qi=Ki(Vi);function Hn(e,t,n){(n!==void 0&&!ps(e[t],n)||n===void 0&&!(t in e))&&Va(e,t,n)}function Zi(e){return ms(e)&&_n(e)}function Vn(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Gi(e){return Ka(e,gs(e))}function Yi(e,t,n,r,o,i,a){var s=Vn(e,n),l=Vn(t,n),u=a.get(l);if(u){Hn(e,n,u);return}var c=i?i(s,l,n+"",e,t,a):void 0,h=c===void 0;if(h){var v=Un(l),f=!v&&qa(l),p=!v&&!f&&Za(l);c=l,v||f||p?Un(s)?c=s:Zi(s)?c=Ga(s):f?(h=!1,c=Ya(l,!0)):p?(h=!1,c=Xa(l,!0)):c=[]:ji(l)||Tr(l)?(c=s,Tr(s)?c=Gi(s):(!or(s)||Ja(s))&&(c=Qa(l))):h=!1}h&&(a.set(l,c),o(c,l,r,i,a),a.delete(l)),Hn(e,n,c)}function Is(e,t,n,r,o){e!==t&&Bs(t,function(i,a){if(o||(o=new ei),or(i))Yi(e,t,a,n,Is,r,o);else{var s=r?r(Vn(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),Hn(e,a,s)}},gs)}function Xi(e,t){var n=-1,r=_n(e)?Array(e.length):[];return qi(e,function(o,i,a){r[++n]=t(o,i,a)}),r}function Ji(e,t){var n=Un(e)?ti:Xi;return n(e,ni(t))}function Ps(e,t){return ri(Ji(e,t))}function Xt(e){return e===null}var Ds=Pi(function(e,t,n){Is(e,t,n)});const Qi=e=>xt?window.requestAnimationFrame(e):setTimeout(e,16),eo=["light","dark"],to=Cn({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:ai(vs),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:eo,default:"light"},...si,showAfter:Number}),no={open:()=>!0,close:e=>Ye(e)||e instanceof Event},ro=Le({name:"ElAlert"}),so=Le({...ro,props:to,emits:no,setup(e,{emit:t}){const n=e,{Close:r}=oi,o=lr(),i=De("alert"),a=q(Ye(n.showAfter)),s=re(()=>vs[n.type]),l=re(()=>!!(n.description||o.default)),u=()=>{a.value=!0,t("open")},c=f=>{a.value=!1,t("close",f)},{onOpen:h,onClose:v}=ii({showAfter:Fn(n,"showAfter",0),hideAfter:Fn(n,"hideAfter"),autoClose:Fn(n,"autoClose"),open:u,close:c});return xt&&h(),(f,p)=>(le(),Ne(li,{name:H(i).b("fade"),persisted:""},{default:Ce(()=>[Ct(oe("div",{class:we([H(i).b(),H(i).m(f.type),H(i).is("center",f.center),H(i).is(f.effect)]),role:"alert"},[f.showIcon&&(f.$slots.icon||H(s))?(le(),Ne(H(Nt),{key:0,class:we([H(i).e("icon"),{[H(i).is("big")]:H(l)}])},{default:Ce(()=>[$e(f.$slots,"icon",{},()=>[(le(),Ne(Zt(H(s))))])]),_:3},8,["class"])):Ee("v-if",!0),oe("div",{class:we(H(i).e("content"))},[f.title||f.$slots.title?(le(),ve("span",{key:0,class:we([H(i).e("title"),{"with-description":H(l)}])},[$e(f.$slots,"title",{},()=>[Be(fe(f.title),1)])],2)):Ee("v-if",!0),H(l)?(le(),ve("p",{key:1,class:we(H(i).e("description"))},[$e(f.$slots,"default",{},()=>[Be(fe(f.description),1)])],2)):Ee("v-if",!0),f.closable?(le(),ve(dt,{key:2},[f.closeText?(le(),ve("div",{key:0,class:we([H(i).e("close-btn"),H(i).is("customed")]),onClick:c},fe(f.closeText),3)):(le(),Ne(H(Nt),{key:1,class:we(H(i).e("close-btn")),onClick:H(v)},{default:Ce(()=>[_e(H(r))]),_:1},8,["class","onClick"]))],64)):Ee("v-if",!0)],2)],2),[[$n,a.value]])]),_:3},8,["name"]))}});var ao=ft(so,[["__file","alert.vue"]]);const io=Gt(ao),Ms={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:ur,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...bs(["ariaControls"])},Us={[Sn]:e=>Xe(e)||ct(e)||ut(e),change:e=>Xe(e)||ct(e)||ut(e)},Pt=Symbol("checkboxGroupContextKey"),oo=({model:e,isChecked:t})=>{const n=je(Pt,void 0),r=re(()=>{var i,a;const s=(i=n==null?void 0:n.max)==null?void 0:i.value,l=(a=n==null?void 0:n.min)==null?void 0:a.value;return!Ye(s)&&e.value.length>=s&&!t.value||!Ye(l)&&e.value.length<=l&&t.value});return{isDisabled:ui(re(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},lo=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:o,isLabeledByFormItem:i})=>{const a=je(Pt,void 0),{formItem:s}=cr(),{emit:l}=He();function u(p){var d,m,y,_;return[!0,e.trueValue,e.trueLabel].includes(p)?(m=(d=e.trueValue)!=null?d:e.trueLabel)!=null?m:!0:(_=(y=e.falseValue)!=null?y:e.falseLabel)!=null?_:!1}function c(p,d){l(Wn,u(p),d)}function h(p){if(n.value)return;const d=p.target;l(Wn,u(d.checked),p)}async function v(p){n.value||!r.value&&!o.value&&i.value&&(p.composedPath().some(y=>y.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await gt(),c(t.value,p)))}const f=re(()=>(a==null?void 0:a.validateEvent)||e.validateEvent);return We(()=>e.modelValue,()=>{f.value&&(s==null||s.validate("change").catch(p=>ys()))}),{handleChange:h,onClickRoot:v}},uo=e=>{const t=q(!1),{emit:n}=He(),r=je(Pt,void 0),o=re(()=>Ye(r)===!1),i=q(!1),a=re({get(){var s,l;return o.value?(s=r==null?void 0:r.modelValue)==null?void 0:s.value:(l=e.modelValue)!=null?l:t.value},set(s){var l,u;o.value&&Ie(s)?(i.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&s.length>(r==null?void 0:r.max.value)&&s.length>a.value.length,i.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,s))):(n(Sn,s),t.value=s)}});return{model:a,isGroup:o,isLimitExceeded:i}},co=(e,t,{model:n})=>{const r=je(Pt,void 0),o=q(!1),i=re(()=>St(e.value)?e.label:e.value),a=re(()=>{const c=n.value;return ut(c)?c:Ie(c)?zt(i.value)?c.map(Or).some(h=>ws(h,i.value)):c.map(Or).includes(i.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),s=jn(re(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),l=jn(re(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),u=re(()=>!!t.default||!St(i.value));return{checkboxButtonSize:s,isChecked:a,isFocused:o,checkboxSize:l,hasOwnLabel:u,actualValue:i}},$s=(e,t)=>{const{formItem:n}=cr(),{model:r,isGroup:o,isLimitExceeded:i}=uo(e),{isFocused:a,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:h}=co(e,t,{model:r}),{isDisabled:v}=oo({model:r,isChecked:s}),{inputId:f,isLabeledByFormItem:p}=_s(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:o}),{handleChange:d,onClickRoot:m}=lo(e,{model:r,isLimitExceeded:i,hasOwnLabel:c,isDisabled:v,isLabeledByFormItem:p});return(()=>{function _(){var C,w;Ie(r.value)&&!r.value.includes(h.value)?r.value.push(h.value):r.value=(w=(C=e.trueValue)!=null?C:e.trueLabel)!=null?w:!0}e.checked&&_()})(),Nn({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},re(()=>o.value&&St(e.value))),Nn({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},re(()=>!!e.trueLabel)),Nn({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},re(()=>!!e.falseLabel)),{inputId:f,isLabeledByFormItem:p,isChecked:s,isDisabled:v,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:h,handleChange:d,onClickRoot:m}},fo=Le({name:"ElCheckbox"}),ho=Le({...fo,props:Ms,emits:Us,setup(e){const t=e,n=lr(),{inputId:r,isLabeledByFormItem:o,isChecked:i,isDisabled:a,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:h,handleChange:v,onClickRoot:f}=$s(t,n),p=re(()=>{var _,C,w,S;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(C=(_=t.trueValue)!=null?_:t.trueLabel)!=null?C:!0,"false-value":(S=(w=t.falseValue)!=null?w:t.falseLabel)!=null?S:!1}:{value:h.value}}),d=De("checkbox"),m=re(()=>[d.b(),d.m(l.value),d.is("disabled",a.value),d.is("bordered",t.border),d.is("checked",i.value)]),y=re(()=>[d.e("input"),d.is("disabled",a.value),d.is("checked",i.value),d.is("indeterminate",t.indeterminate),d.is("focus",s.value)]);return(_,C)=>(le(),Ne(Zt(!H(u)&&H(o)?"span":"label"),{class:we(H(m)),"aria-controls":_.indeterminate?_.ariaControls:null,onClick:H(f)},{default:Ce(()=>[oe("span",{class:we(H(y))},[Ct(oe("input",dr({id:H(r),"onUpdate:modelValue":w=>fr(c)?c.value=w:null,class:H(d).e("original"),type:"checkbox",indeterminate:_.indeterminate,name:_.name,tabindex:_.tabindex,disabled:H(a)},H(p),{onChange:H(v),onFocus:w=>s.value=!0,onBlur:w=>s.value=!1,onClick:Ss(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[Cs,H(c)]]),oe("span",{class:we(H(d).e("inner"))},null,2)],2),H(u)?(le(),ve("span",{key:0,class:we(H(d).e("label"))},[$e(_.$slots,"default"),_.$slots.default?Ee("v-if",!0):(le(),ve(dt,{key:0},[Be(fe(_.label),1)],64))],2)):Ee("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Ws=ft(ho,[["__file","checkbox.vue"]]);const po=Le({name:"ElCheckboxButton"}),mo=Le({...po,props:Ms,emits:Us,setup(e){const t=e,n=lr(),{isFocused:r,isChecked:o,isDisabled:i,checkboxButtonSize:a,model:s,actualValue:l,handleChange:u}=$s(t,n),c=re(()=>{var d,m,y,_;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(m=(d=t.trueValue)!=null?d:t.trueLabel)!=null?m:!0,"false-value":(_=(y=t.falseValue)!=null?y:t.falseLabel)!=null?_:!1}:{value:l.value}}),h=je(Pt,void 0),v=De("checkbox"),f=re(()=>{var d,m,y,_;const C=(m=(d=h==null?void 0:h.fill)==null?void 0:d.value)!=null?m:"";return{backgroundColor:C,borderColor:C,color:(_=(y=h==null?void 0:h.textColor)==null?void 0:y.value)!=null?_:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),p=re(()=>[v.b("button"),v.bm("button",a.value),v.is("disabled",i.value),v.is("checked",o.value),v.is("focus",r.value)]);return(d,m)=>(le(),ve("label",{class:we(H(p))},[Ct(oe("input",dr({"onUpdate:modelValue":y=>fr(s)?s.value=y:null,class:H(v).be("button","original"),type:"checkbox",name:d.name,tabindex:d.tabindex,disabled:H(i)},H(c),{onChange:H(u),onFocus:y=>r.value=!0,onBlur:y=>r.value=!1,onClick:Ss(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[Cs,H(s)]]),d.$slots.default||d.label?(le(),ve("span",{key:0,class:we(H(v).be("button","inner")),style:st(H(o)?H(f):void 0)},[$e(d.$slots,"default",{},()=>[Be(fe(d.label),1)])],6)):Ee("v-if",!0)],2))}});var js=ft(mo,[["__file","checkbox-button.vue"]]);const go=Cn({modelValue:{type:ht(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ur,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:ht(Array)},props:{type:ht(Object),default:()=>Hs},...bs(["ariaLabel"])}),vo={[Sn]:e=>Ie(e),change:e=>Ie(e)},Hs={label:"label",value:"value",disabled:"disabled"},bo=Le({name:"ElCheckboxGroup"}),yo=Le({...bo,props:go,emits:vo,setup(e,{emit:t}){const n=e,r=De("checkbox"),{formItem:o}=cr(),{inputId:i,isLabeledByFormItem:a}=_s(n,{formItemContext:o}),s=async h=>{t(Sn,h),await gt(),t(Wn,h)},l=re({get(){return n.modelValue},set(h){s(h)}}),u=re(()=>({...Hs,...n.props})),c=h=>{const v={label:h[u.value.label],value:h[u.value.value],disabled:h[u.value.disabled]};return{...h,...v}};return hr(Pt,{...ci(pr(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),We(()=>n.modelValue,(h,v)=>{n.validateEvent&&!ws(h,v)&&(o==null||o.validate("change").catch(f=>ys()))}),(h,v)=>{var f;return le(),Ne(Zt(h.tag),{id:H(i),class:we(H(r).b("group")),role:"group","aria-label":H(a)?void 0:h.ariaLabel||"checkbox-group","aria-labelledby":H(a)?(f=H(o))==null?void 0:f.labelId:void 0},{default:Ce(()=>[$e(h.$slots,"default",{},()=>[(le(!0),ve(dt,null,Kt(n.options,(p,d)=>(le(),Ne(Ws,dr({key:d},c(p)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Vs=ft(yo,[["__file","checkbox-group.vue"]]);const Lt=Gt(Ws,{CheckboxButton:js,CheckboxGroup:Vs});mr(js);mr(Vs);const wo=Cn({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ht([Number,Object]),default:()=>$t({})},sm:{type:ht([Number,Object]),default:()=>$t({})},md:{type:ht([Number,Object]),default:()=>$t({})},lg:{type:ht([Number,Object]),default:()=>$t({})},xl:{type:ht([Number,Object]),default:()=>$t({})}}),Ks=Symbol("rowContextKey"),_o=Le({name:"ElCol"}),Co=Le({..._o,props:wo,setup(e){const t=e,{gutter:n}=je(Ks,{gutter:re(()=>0)}),r=De("col"),o=re(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),i=re(()=>{const a=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];ct(c)&&(u==="span"?a.push(r.b(`${t[u]}`)):c>0&&a.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{ct(t[u])?a.push(r.b(`${u}-${t[u]}`)):zt(t[u])&&Object.entries(t[u]).forEach(([c,h])=>{a.push(c!=="span"?r.b(`${u}-${c}-${h}`):r.b(`${u}-${h}`))})}),n.value&&a.push(r.is("guttered")),[r.b(),a]});return(a,s)=>(le(),Ne(Zt(a.tag),{class:we(H(i)),style:st(H(o))},{default:Ce(()=>[$e(a.$slots,"default")]),_:3},8,["class","style"]))}});var So=ft(Co,[["__file","col.vue"]]);const ko=Gt(So),xo=["start","center","end","space-around","space-between","space-evenly"],Eo=["top","middle","bottom"],Ro=Cn({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:xo,default:"start"},align:{type:String,values:Eo}}),To=Le({name:"ElRow"}),Oo=Le({...To,props:Ro,setup(e){const t=e,n=De("row"),r=re(()=>t.gutter);hr(Ks,{gutter:r});const o=re(()=>{const a={};return t.gutter&&(a.marginRight=a.marginLeft=`-${t.gutter/2}px`),a}),i=re(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(a,s)=>(le(),Ne(Zt(a.tag),{class:we(H(i)),style:st(H(o))},{default:Ce(()=>[$e(a.$slots,"default")]),_:3},8,["class","style"]))}});var Ao=ft(Oo,[["__file","row.vue"]]);const Fo=Gt(Ao),Ln=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},No=function(e,t,n,r,o){if(!t&&!r&&(!o||Ie(o)&&!o.length))return e;Xe(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=r?null:function(s,l){return o?Ps(Es(o),u=>Xe(u)?Fr(s,u):u(s,l,e)):(t!=="$key"&&zt(s)&&"$value"in s&&(s=s.$value),[zt(s)?t?Fr(s,t):null:s])},a=function(s,l){var u,c,h,v,f,p;if(r)return r(s.value,l.value);for(let d=0,m=(c=(u=s.key)==null?void 0:u.length)!=null?c:0;d<m;d++){if(((h=s.key)==null?void 0:h[d])<((v=l.key)==null?void 0:v[d]))return-1;if(((f=s.key)==null?void 0:f[d])>((p=l.key)==null?void 0:p[d]))return 1}return 0};return e.map((s,l)=>({value:s,index:l,key:i?i(s,l):null})).sort((s,l)=>{let u=a(s,l);return u||(u=s.index-l.index),u*+n}).map(s=>s.value)},qs=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},zo=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n||di("ElTable",`No column matching with column-key: ${t}`),n},Ir=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?qs(e,r[0]):null},Pe=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(Xe(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const o of n)r=r[o];return`${r}`}else if(tt(t))return t.call(null,e);return""},Ft=function(e,t,n=!1,r="children"){const o=e||[],i={};return o.forEach((a,s)=>{if(i[Pe(a,t)]={row:a,index:s},n){const l=a[r];Ie(l)&&Object.assign(i,Ft(l,t,!0,r))}}),i};function Lo(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(At(t,r)){const o=t[r];Ye(o)||(n[r]=o)}return n}function br(e){return e===""||Ye(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function Zs(e){return e===""||Ye(e)||(e=br(e),Number.isNaN(e)&&(e=80)),e}function Bo(e){return ct(e)?e:Xe(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Io(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function bn(e,t,n,r,o,i,a){let s=i??0,l=!1;const c=(()=>{if(!a)return e.indexOf(t);const d=Pe(t,a);return e.findIndex(m=>Pe(m,a)===d)})(),h=c!==-1,v=o==null?void 0:o.call(null,t,s),f=d=>{d==="add"?e.push(t):e.splice(c,1),l=!0},p=d=>{let m=0;const y=(r==null?void 0:r.children)&&d[r.children];return y&&Ie(y)&&(m+=y.length,y.forEach(_=>{m+=p(_)})),m};return(!o||v)&&(ut(n)?n&&!h?f("add"):!n&&h&&f("remove"):f(h?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Ie(t[r.children])&&t[r.children].forEach(d=>{const m=bn(e,d,n??!h,r,o,s+1,a);s+=p(d)+1,m&&(l=m)}),l}function Po(e,t,n="children",r="hasChildren",o=!1){const i=s=>!(Ie(s)&&s.length);function a(s,l,u){t(s,l,u),l.forEach(c=>{if(c[r]&&o){t(c,null,u+1);return}const h=c[n];i(h)||a(c,h,u+1)})}e.forEach(s=>{if(s[r]&&o){t(s,null,0);return}const l=s[n];i(l)||a(s,l,0)})}const Do=(e,t,n,r)=>{const o={strategy:"fixed",...e.popperOptions},i=tt(r==null?void 0:r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:xs(n,r.property).value}):void 0;return fi(i)?{slotContent:i,content:null,...e,popperOptions:o}:{slotContent:null,content:i??t,...e,popperOptions:o}};let Me=null;function Mo(e,t,n,r,o,i){var a;const s=Do(e,t,n,r),l={...s,slotContent:void 0};if((Me==null?void 0:Me.trigger)===o){const p=(a=Me.vm)==null?void 0:a.component;Ds(p==null?void 0:p.props,l),p&&s.slotContent&&(p.slots.content=()=>[s.slotContent]);return}Me==null||Me();const u=i==null?void 0:i.refs.tableWrapper,c=u==null?void 0:u.dataset.prefix,h=_e(ks,{virtualTriggering:!0,virtualRef:o,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},s.slotContent?{content:()=>s.slotContent}:void 0);h.appContext={...i.appContext,...i};const v=document.createElement("div");Ar(h,v),h.component.exposed.onOpen();const f=u==null?void 0:u.querySelector(`.${c}-scrollbar__wrap`);Me=()=>{var p,d;(d=(p=h.component)==null?void 0:p.exposed)!=null&&d.onClose&&h.component.exposed.onClose(),Ar(null,v);const m=Me;f==null||f.removeEventListener("scroll",m),m.trigger=void 0,m.vm=void 0,Me=null},Me.trigger=o??void 0,Me.vm=h,f==null||f.addEventListener("scroll",Me)}function Gs(e){return e.children?Ps(e.children,Gs):[e]}function Pr(e,t){return e+t.colSpan}const Ys=(e,t,n,r)=>{let o=0,i=e;const a=n.states.columns.value;if(r){const l=Gs(r[e]);o=a.slice(0,a.indexOf(l[0])).reduce(Pr,0),i=o+l.reduce(Pr,0)-1}else o=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:o,after:i}:{}},yr=(e,t,n,r,o,i=0)=>{const a=[],{direction:s,start:l,after:u}=Ys(t,n,r,o);if(s){const c=s==="left";a.push(`${e}-fixed-column--${s}`),c&&u+i===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!c&&l-i===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function Dr(e,t){return e+(Xt(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const wr=(e,t,n,r)=>{const{direction:o,start:i=0,after:a=0}=Ys(e,t,n,r);if(!o)return;const s={},l=o==="left",u=n.states.columns.value;return l?s.left=u.slice(0,i).reduce(Dr,0):s.right=u.slice(a+1).reverse().reduce(Dr,0),s},Bt=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Uo(e){const t=He(),n=q(!1),r=q([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=Ft(r.value,u);r.value=l.reduce((h,v)=>{const f=Pe(v,u);return c[f]&&h.push(v),h},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{bn(r.value,l,u,void 0,void 0,void 0,e.rowKey.value)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,h=Ft(u,c);r.value=l.reduce((v,f)=>{const p=h[f];return p&&v.push(p.row),v},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!Ft(r.value,u)[Pe(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function $o(e){const t=He(),n=q(null),r=q(null),o=u=>{t.store.assertRowKey(),n.value=u,a(u)},i=()=>{n.value=null},a=u=>{var c;const{data:h,rowKey:v}=e;let f=null;v.value&&(f=(c=(H(h)||[]).find(p=>Pe(p,v.value)===u))!=null?c:null),r.value=f??null,t.emit("current-change",r.value,null)};return{setCurrentRowKey:o,restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],h=r.value;if(h&&!c.includes(h)){if(u){const v=Pe(h,u);a(v)}else r.value=null;Xt(r.value)&&t.emit("current-change",null,h)}else n.value&&(a(n.value),i())},states:{_currentRowKey:n,currentRow:r}}}function Wo(e){const t=q([]),n=q({}),r=q(16),o=q(!1),i=q({}),a=q("hasChildren"),s=q("children"),l=q(!1),u=He(),c=re(()=>{if(!e.rowKey.value)return{};const w=e.data.value||[];return v(w)}),h=re(()=>{const w=e.rowKey.value,S=Object.keys(i.value),T={};return S.length&&S.forEach(R=>{if(i.value[R].length){const F={children:[]};i.value[R].forEach(O=>{const I=Pe(O,w);F.children.push(I),O[a.value]&&!T[I]&&(T[I]={children:[]})}),T[R]=F}}),T}),v=w=>{const S=e.rowKey.value,T={};return Po(w,(R,F,O)=>{const I=Pe(R,S);Ie(F)?T[I]={children:F.map(Z=>Pe(Z,S)),level:O}:o.value&&(T[I]={children:[],lazy:!0,level:O})},s.value,a.value,o.value),T},f=(w=!1,S)=>{var T,R;S||(S=(T=u.store)==null?void 0:T.states.defaultExpandAll.value);const F=c.value,O=h.value,I=Object.keys(F),Z={};if(I.length){const E=H(n),B=[],b=(ee,L)=>{if(w)return t.value?S||t.value.includes(L):!!(S||ee!=null&&ee.expanded);{const G=S||t.value&&t.value.includes(L);return!!(ee!=null&&ee.expanded||G)}};I.forEach(ee=>{const L=E[ee],G={...F[ee]};if(G.expanded=b(L,ee),G.lazy){const{loaded:$=!1,loading:j=!1}=L||{};G.loaded=!!$,G.loading=!!j,B.push(ee)}Z[ee]=G});const U=Object.keys(O);o.value&&U.length&&B.length&&U.forEach(ee=>{var L;const G=E[ee],$=O[ee].children;if(B.includes(ee)){if(((L=Z[ee].children)==null?void 0:L.length)!==0)throw new Error("[ElTable]children must be an empty array.");Z[ee].children=$}else{const{loaded:j=!1,loading:N=!1}=G||{};Z[ee]={lazy:!0,loaded:!!j,loading:!!N,expanded:b(G,ee),children:$,level:void 0}}})}n.value=Z,(R=u.store)==null||R.updateTableScrollY()};We(()=>t.value,()=>{f(!0)}),We(()=>c.value,()=>{f()}),We(()=>h.value,()=>{f()});const p=w=>{t.value=w,f()},d=w=>o.value&&w&&"loaded"in w&&!w.loaded,m=(w,S)=>{u.store.assertRowKey();const T=e.rowKey.value,R=Pe(w,T),F=R&&n.value[R];if(R&&F&&"expanded"in F){const O=F.expanded;S=Ye(S)?!F.expanded:S,n.value[R].expanded=S,O!==S&&u.emit("expand-change",w,S),d(F)&&_(w,R,F),u.store.updateTableScrollY()}},y=w=>{u.store.assertRowKey();const S=e.rowKey.value,T=Pe(w,S),R=n.value[T];d(R)?_(w,T,R):m(w,void 0)},_=(w,S,T)=>{const{load:R}=u.props;R&&!n.value[S].loaded&&(n.value[S].loading=!0,R(w,T,F=>{if(!Ie(F))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,F.length&&(i.value[S]=F),u.emit("expand-change",w,!0)}))};return{loadData:_,loadOrToggle:y,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:f,updateKeyChildren:(w,S)=>{const{lazy:T,rowKey:R}=u.props;if(T){if(!R)throw new Error("[Table] rowKey is required in updateKeyChild");i.value[w]&&(i.value[w]=S)}},normalize:v,states:{expandRowKeys:t,treeData:n,indent:r,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:s,checkStrictly:l}}}const jo=(e,t)=>{const n=t.sortingColumn;return!n||Xe(n.sortable)?e:No(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},ln=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,ln(n.children)):t.push(n)}),t};function Ho(){var e;const t=He(),{size:n}=pr((e=t.proxy)==null?void 0:e.$props),r=q(null),o=q([]),i=q([]),a=q(!1),s=q([]),l=q([]),u=q([]),c=q([]),h=q([]),v=q([]),f=q([]),p=q([]),d=[],m=q(0),y=q(0),_=q(0),C=q(!1),w=q([]),S=q(!1),T=q(!1),R=q(null),F=q({}),O=q(null),I=q(null),Z=q(null),E=q(null),B=q(null),b=re(()=>r.value?Ft(w.value,r.value):void 0);We(o,()=>{var ae;t.state&&(G(!1),t.props.tableLayout==="auto"&&((ae=t.refs.tableHeaderRef)==null||ae.updateFixedColumnStyle()))},{deep:!0});const U=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},ee=ae=>{var ge;(ge=ae.children)==null||ge.forEach(ue=>{ue.fixed=ae.fixed,ee(ue)})},L=()=>{s.value.forEach(Fe=>{ee(Fe)}),c.value=s.value.filter(Fe=>[!0,"left"].includes(Fe.fixed));const ae=s.value.find(Fe=>Fe.type==="selection");let ge;ae&&ae.fixed!=="right"&&!c.value.includes(ae)&&s.value.indexOf(ae)===0&&c.value.length&&(c.value.unshift(ae),ge=!0),h.value=s.value.filter(Fe=>Fe.fixed==="right");const ue=s.value.filter(Fe=>(ge?Fe.type!=="selection":!0)&&!Fe.fixed);l.value=Array.from(c.value).concat(ue).concat(h.value);const ye=ln(ue),Oe=ln(c.value),xe=ln(h.value);m.value=ye.length,y.value=Oe.length,_.value=xe.length,u.value=Array.from(Oe).concat(ye).concat(xe),a.value=c.value.length>0||h.value.length>0},G=(ae,ge=!1)=>{ae&&L(),ge?t.state.doLayout():t.state.debouncedUpdateLayout()},$=ae=>b.value?!!b.value[Pe(ae,r.value)]:w.value.includes(ae),j=()=>{C.value=!1;const ae=w.value;w.value=[],ae.length&&t.emit("selection-change",[])},N=()=>{var ae,ge;let ue;if(r.value){ue=[];const ye=(ge=(ae=t==null?void 0:t.store)==null?void 0:ae.states)==null?void 0:ge.childrenColumnName.value,Oe=Ft(o.value,r.value,!0,ye);for(const xe in b.value)At(b.value,xe)&&!Oe[xe]&&ue.push(b.value[xe].row)}else ue=w.value.filter(ye=>!o.value.includes(ye));if(ue.length){const ye=w.value.filter(Oe=>!ue.includes(Oe));w.value=ye,t.emit("selection-change",ye.slice())}},z=()=>(w.value||[]).slice(),ne=(ae,ge,ue=!0,ye=!1)=>{var Oe,xe,Fe,nt;const rt={children:(xe=(Oe=t==null?void 0:t.store)==null?void 0:Oe.states)==null?void 0:xe.childrenColumnName.value,checkStrictly:(nt=(Fe=t==null?void 0:t.store)==null?void 0:Fe.states)==null?void 0:nt.checkStrictly.value};if(bn(w.value,ae,ge,rt,ye?void 0:R.value,o.value.indexOf(ae),r.value)){const vt=(w.value||[]).slice();ue&&t.emit("select",vt,ae),t.emit("selection-change",vt)}},X=()=>{var ae,ge;const ue=T.value?!C.value:!(C.value||w.value.length);C.value=ue;let ye=!1,Oe=0;const xe=(ge=(ae=t==null?void 0:t.store)==null?void 0:ae.states)==null?void 0:ge.rowKey.value,{childrenColumnName:Fe}=t.store.states,nt={children:Fe.value,checkStrictly:!1};o.value.forEach((rt,Ot)=>{const vt=Ot+Oe;bn(w.value,rt,ue,nt,R.value,vt,xe)&&(ye=!0),Oe+=pe(Pe(rt,xe))}),ye&&t.emit("selection-change",w.value?w.value.slice():[]),t.emit("select-all",(w.value||[]).slice())},Y=()=>{var ae;if(((ae=o.value)==null?void 0:ae.length)===0){C.value=!1;return}const{childrenColumnName:ge}=t.store.states;let ue=0,ye=0;const Oe=Fe=>{var nt;for(const rt of Fe){const Ot=R.value&&R.value.call(null,rt,ue);if($(rt))ye++;else if(!R.value||Ot)return!1;if(ue++,(nt=rt[ge.value])!=null&&nt.length&&!Oe(rt[ge.value]))return!1}return!0},xe=Oe(o.value||[]);C.value=ye===0?!1:xe},pe=ae=>{var ge;if(!t||!t.store)return 0;const{treeData:ue}=t.store.states;let ye=0;const Oe=(ge=ue.value[ae])==null?void 0:ge.children;return Oe&&(ye+=Oe.length,Oe.forEach(xe=>{ye+=pe(xe)})),ye},Te=(ae,ge)=>{const ue={};return Es(ae).forEach(ye=>{F.value[ye.id]=ge,ue[ye.columnKey||ye.id]=ge}),ue},de=(ae,ge,ue)=>{I.value&&I.value!==ae&&(I.value.order=null),I.value=ae,Z.value=ge,E.value=ue},he=()=>{let ae=H(i);Object.keys(F.value).forEach(ge=>{const ue=F.value[ge];if(!ue||ue.length===0)return;const ye=qs({columns:u.value},ge);ye&&ye.filterMethod&&(ae=ae.filter(Oe=>ue.some(xe=>ye.filterMethod.call(null,xe,Oe,ye))))}),O.value=ae},te=()=>{var ae;o.value=jo((ae=O.value)!=null?ae:[],{sortingColumn:I.value,sortProp:Z.value,sortOrder:E.value})},se=(ae=void 0)=>{ae!=null&&ae.filter||he(),te()},me=ae=>{const{tableHeaderRef:ge}=t.refs;if(!ge)return;const ue=Object.assign({},ge.filterPanels),ye=Object.keys(ue);if(ye.length)if(Xe(ae)&&(ae=[ae]),Ie(ae)){const Oe=ae.map(xe=>zo({columns:u.value},xe));ye.forEach(xe=>{const Fe=Oe.find(nt=>nt.id===xe);Fe&&(Fe.filteredValue=[])}),t.store.commit("filterChange",{column:Oe,values:[],silent:!0,multi:!0})}else ye.forEach(Oe=>{const xe=u.value.find(Fe=>Fe.id===Oe);xe&&(xe.filteredValue=[])}),F.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Re=()=>{I.value&&(de(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:g,toggleRowExpansion:W,updateExpandRows:D,states:x,isRowExpanded:k}=Uo({data:o,rowKey:r}),{updateTreeExpandKeys:A,toggleTreeExpansion:V,updateTreeData:K,updateKeyChildren:P,loadOrToggle:J,states:ie}=Wo({data:o,rowKey:r}),{updateCurrentRowData:Q,updateCurrentRow:ce,setCurrentRowKey:Ae,states:ke}=$o({data:o,rowKey:r});return{assertRowKey:U,updateColumns:L,scheduleLayout:G,isSelected:$,clearSelection:j,cleanSelection:N,getSelectionRows:z,toggleRowSelection:ne,_toggleAllSelection:X,toggleAllSelection:null,updateAllSelected:Y,updateFilters:Te,updateCurrentRow:ce,updateSort:de,execFilter:he,execSort:te,execQuery:se,clearFilter:me,clearSort:Re,toggleRowExpansion:W,setExpandRowKeysAdapter:ae=>{g(ae),A(ae)},setCurrentRowKey:Ae,toggleRowExpansionAdapter:(ae,ge)=>{u.value.some(({type:ye})=>ye==="expand")?W(ae,ge):V(ae,ge)},isRowExpanded:k,updateExpandRows:D,updateCurrentRowData:Q,loadOrToggle:J,updateTreeData:K,updateKeyChildren:P,states:{tableSize:n,rowKey:r,data:o,_data:i,isComplex:a,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:h,leafColumns:v,fixedLeafColumns:f,rightFixedLeafColumns:p,updateOrderFns:d,leafColumnsLength:m,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:_,isAllSelected:C,selection:w,reserveSelection:S,selectOnIndeterminate:T,selectable:R,filters:F,filteredData:O,sortingColumn:I,sortProp:Z,sortOrder:E,hoverRow:B,...x,...ie,...ke}}}function Kn(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=Kn(n.children,t)),n)})}function qn(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&qn(t.children)}),e.sort((t,n)=>t.no-n.no)}function Vo(){const e=He(),t=Ho();return{ns:De("table"),...t,mutations:{setData(a,s){const l=H(a._data)!==s;a.data.value=s,a._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),H(a.reserveSelection)?e.store.assertRowKey():l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(a,s,l,u){var c;const h=H(a._columns);let v=[];l?(l&&!l.children&&(l.children=[]),(c=l.children)==null||c.push(s),v=Kn(h,l)):(h.push(s),v=h),qn(v),a._columns.value=v,a.updateOrderFns.push(u),s.type==="selection"&&(a.selectable.value=s.selectable,a.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(a,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&(qn(a._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(a,s,l,u){var c;const h=H(a._columns)||[];if(l)(c=l.children)==null||c.splice(l.children.findIndex(f=>f.id===s.id),1),gt(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),a._columns.value=Kn(h,l);else{const f=h.indexOf(s);f>-1&&(h.splice(f,1),a._columns.value=h)}const v=a.updateOrderFns.indexOf(u);v>-1&&a.updateOrderFns.splice(v,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(a,s){const{prop:l,order:u,init:c}=s;if(l){const h=H(a.columns).find(v=>v.property===l);h&&(h.order=u,e.store.updateSort(h,l,u),e.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(a,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=a,h=H(l),v=H(u),f=H(c);Xt(f)&&(a.sortingColumn.value=null,a.sortProp.value=null);const p={filter:!0};e.store.execQuery(p),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:h,prop:v,order:f}),e.store.updateTableScrollY()},filterChange(a,s){const{column:l,values:u,silent:c}=s,h=e.store.updateFilters(l,u);e.store.execQuery(),c||e.emit("filter-change",h),e.store.updateTableScrollY()},toggleAllSelection(){var a,s;(s=(a=e.store).toggleAllSelection)==null||s.call(a)},rowSelectedChanged(a,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(a,s){a.hoverRow.value=s},setCurrentRow(a,s){e.store.updateCurrentRow(s)}},commit:function(a,...s){const l=e.store.mutations;if(l[a])l[a].apply(e,[e.store.states,...s]);else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){gt(()=>e.layout.updateScrollY.apply(e.layout))}}}const _r={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function Ko(e,t){if(!e)throw new Error("Table is required.");const n=Vo();return n.toggleAllSelection=gn(n._toggleAllSelection,10),Object.keys(_r).forEach(r=>{Xs(Js(t,r),r,n)}),qo(n,t),n}function qo(e,t){Object.keys(_r).forEach(n=>{We(()=>Js(t,n),r=>{Xs(r,n,e)})})}function Xs(e,t,n){let r=e,o=_r[t];zt(o)&&(r=r||o.default,o=o.key),n.states[o].value=r}function Js(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(o=>{r=r[o]}),r}else return e[t]}class Zo{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=q(null),this.scrollX=q(!1),this.scrollY=q(!1),this.bodyWidth=q(null),this.fixedWidth=q(null),this.rightFixedWidth=q(null),this.gutterWidth=0;for(const n in t)At(t,n)&&(fr(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(Xt(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const o=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,o!==r}return!1}setHeight(t,n="height"){if(!xt)return;const r=this.table.vnode.el;if(t=Bo(t),this.height.value=Number(t),!r&&(t||t===0)){gt(()=>this.setHeight(t,n));return}r&&ct(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):r&&Xe(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var t;if(!xt)return;const n=this.fit,r=(t=this.table.vnode.el)==null?void 0:t.clientWidth;let o=0;const i=this.getFlattenColumns(),a=i.filter(u=>!ct(u.width));if(i.forEach(u=>{ct(u.width)&&u.realWidth&&(u.realWidth=null)}),a.length>0&&n){if(i.forEach(u=>{o+=Number(u.width||u.minWidth||80)}),o<=r){this.scrollX.value=!1;const u=r-o;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+u;else{const c=a.reduce((f,p)=>f+Number(p.minWidth||80),0),h=u/c;let v=0;a.forEach((f,p)=>{if(p===0)return;const d=Math.floor(Number(f.minWidth||80)*h);v+=d,f.realWidth=Number(f.minWidth||80)+d}),a[0].realWidth=Number(a[0].minWidth||80)+u-v}}else this.scrollX.value=!0,a.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(o,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),o+=u.realWidth}),this.scrollX.value=o>r,this.bodyWidth.value=o;const s=this.store.states.fixedColumns.value;if(s.length>0){let u=0;s.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var o,i;switch(t){case"columns":(o=r.state)==null||o.onColumnsChange(this);break;case"scrollable":(i=r.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:Go}=Lt,Yo=Le({name:"ElTableFilterPanel",components:{ElCheckbox:Lt,ElCheckboxGroup:Go,ElScrollbar:Ts,ElTooltip:ks,ElIcon:Nt,ArrowDown:gi,ArrowUp:mi},directives:{ClickOutside:pi},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:hi.appendTo},setup(e){const t=He(),{t:n}=Os(),r=De("table-filter"),o=t==null?void 0:t.parent;e.column&&!o.filterPanels.value[e.column.id]&&(o.filterPanels.value[e.column.id]=t);const i=q(!1),a=q(null),s=re(()=>e.column&&e.column.filters),l=re(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=re({get:()=>{var S;return(((S=e.column)==null?void 0:S.filteredValue)||[])[0]},set:S=>{c.value&&(St(S)?c.value.splice(0,1):c.value.splice(0,1,S))}}),c=re({get(){return e.column?e.column.filteredValue||[]:[]},set(S){var T;e.column&&((T=e.upDataColumn)==null||T.call(e,"filteredValue",S))}}),h=re(()=>e.column?e.column.filterMultiple:!0),v=S=>S.value===u.value,f=()=>{i.value=!1},p=S=>{S.stopPropagation(),i.value=!i.value},d=()=>{i.value=!1},m=()=>{C(c.value),f()},y=()=>{c.value=[],C(c.value),f()},_=S=>{u.value=S,St(S)?C([]):C(c.value),f()},C=S=>{var T,R;(T=e.store)==null||T.commit("filterChange",{column:e.column,values:S}),(R=e.store)==null||R.updateAllSelected()};We(i,S=>{var T;e.column&&((T=e.upDataColumn)==null||T.call(e,"filterOpened",S))},{immediate:!0});const w=re(()=>{var S,T;return(T=(S=a.value)==null?void 0:S.popperRef)==null?void 0:T.contentRef});return{tooltipVisible:i,multiple:h,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:m,handleReset:y,handleSelect:_,isPropAbsent:St,isActive:v,t:n,ns:r,showFilterPanel:p,hideFilterPanel:d,popperPaneRef:w,tooltip:a}}});function Xo(e,t,n,r,o,i){const a=et("el-checkbox"),s=et("el-checkbox-group"),l=et("el-scrollbar"),u=et("arrow-up"),c=et("arrow-down"),h=et("el-icon"),v=et("el-tooltip"),f=Rs("click-outside");return le(),Ne(v,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:Ce(()=>[e.multiple?(le(),ve("div",{key:0},[oe("div",{class:we(e.ns.e("content"))},[_e(l,{"wrap-class":e.ns.e("wrap")},{default:Ce(()=>[_e(s,{modelValue:e.filteredValue,"onUpdate:modelValue":p=>e.filteredValue=p,class:we(e.ns.e("checkbox-group"))},{default:Ce(()=>[(le(!0),ve(dt,null,Kt(e.filters,p=>(le(),Ne(a,{key:p.value,value:p.value},{default:Ce(()=>[Be(fe(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),oe("div",{class:we(e.ns.e("bottom"))},[oe("button",{class:we({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},fe(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),oe("button",{type:"button",onClick:e.handleReset},fe(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(le(),ve("ul",{key:1,class:we(e.ns.e("list"))},[oe("li",{class:we([e.ns.e("list-item"),{[e.ns.is("active")]:e.isPropAbsent(e.filterValue)}]),onClick:p=>e.handleSelect(null)},fe(e.t("el.table.clearFilter")),11,["onClick"]),(le(!0),ve(dt,null,Kt(e.filters,p=>(le(),ve("li",{key:p.value,class:we([e.ns.e("list-item"),e.ns.is("active",e.isActive(p))]),label:p.value,onClick:d=>e.handleSelect(p.value)},fe(p.text),11,["label","onClick"]))),128))],2))]),default:Ce(()=>[Ct((le(),ve("span",{class:we([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[_e(h,null,{default:Ce(()=>[$e(e.$slots,"filter-icon",{},()=>{var p;return[(p=e.column)!=null&&p.filterOpened?(le(),Ne(u,{key:0})):(le(),Ne(c,{key:1}))]})]),_:3})],10,["onClick"])),[[f,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var Jo=ft(Yo,[["render",Xo],["__file","filter-panel.vue"]]);function Cr(e){const t=He();As(()=>{n.value.addObserver(t)}),Rt(()=>{r(n.value),o(n.value)}),vi(()=>{r(n.value),o(n.value)}),gr(()=>{n.value.removeObserver(t)});const n=re(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),r=i=>{var a;const s=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=i.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,h=s.length;c<h;c++){const v=s[c],f=v.getAttribute("name"),p=u[f];p&&v.setAttribute("width",p.realWidth||p.width)}},o=i=>{var a,s;const l=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,h=l.length;c<h;c++)l[c].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,h=u.length;c<h;c++){const v=u[c];v.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",v.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:o}}const at=Symbol("ElTable");function Qo(e,t){const n=He(),r=je(at),o=d=>{d.stopPropagation()},i=(d,m)=>{!m.filters&&m.sortable?p(d,m,!1):m.filterable&&!m.sortable&&o(d),r==null||r.emit("header-click",m,d)},a=(d,m)=>{r==null||r.emit("header-contextmenu",m,d)},s=q(null),l=q(!1),u=q(),c=(d,m)=>{var y,_;if(xt&&!(m.children&&m.children.length>0)&&s.value&&e.border){l.value=!0;const C=r;t("set-drag-visible",!0);const w=C==null?void 0:C.vnode.el,S=w==null?void 0:w.getBoundingClientRect().left,T=(_=(y=n==null?void 0:n.vnode)==null?void 0:y.el)==null?void 0:_.querySelector(`th.${m.id}`),R=T.getBoundingClientRect(),F=R.left-S+30;vn(T,"noclick"),u.value={startMouseLeft:d.clientX,startLeft:R.right-S,startColumnLeft:R.left-S,tableLeft:S};const O=C==null?void 0:C.refs.resizeProxy;O.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const I=E=>{const B=E.clientX-u.value.startMouseLeft,b=u.value.startLeft+B;O.style.left=`${Math.max(F,b)}px`},Z=()=>{if(l.value){const{startColumnLeft:E,startLeft:B}=u.value,U=Number.parseInt(O.style.left,10)-E;m.width=m.realWidth=U,C==null||C.emit("header-dragend",m.width,B-E,m,d),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value=void 0,t("set-drag-visible",!1)}document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",Z),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{qt(T,"noclick")},0)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",Z)}},h=(d,m)=>{var y;if(m.children&&m.children.length>0)return;const _=d.target;if(!bi(_))return;const C=_==null?void 0:_.closest("th");if(!(!m||!m.resizable||!C)&&!l.value&&e.border){const w=C.getBoundingClientRect(),S=document.body.style,T=((y=C.parentNode)==null?void 0:y.lastElementChild)===C,R=e.allowDragLastColumn||!T;w.width>12&&w.right-d.clientX<8&&R?(S.cursor="col-resize",Ht(C,"is-sortable")&&(C.style.cursor="col-resize"),s.value=m):l.value||(S.cursor="",Ht(C,"is-sortable")&&(C.style.cursor="pointer"),s.value=null)}},v=()=>{xt&&(document.body.style.cursor="")},f=({order:d,sortOrders:m})=>{if(d==="")return m[0];const y=m.indexOf(d||null);return m[y>m.length-2?0:y+1]},p=(d,m,y)=>{var _;d.stopPropagation();const C=m.order===y?null:y||f(m),w=(_=d.target)==null?void 0:_.closest("th");if(w&&Ht(w,"noclick")){qt(w,"noclick");return}if(!m.sortable)return;const S=d.currentTarget;if(["ascending","descending"].some(I=>Ht(S,I)&&!m.sortOrders.includes(I)))return;const T=e.store.states;let R=T.sortProp.value,F;const O=T.sortingColumn.value;(O!==m||O===m&&Xt(O.order))&&(O&&(O.order=null),T.sortingColumn.value=m,R=m.property),C?F=m.order=C:F=m.order=null,T.sortProp.value=R,T.sortOrder.value=F,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:a,handleMouseDown:c,handleMouseMove:h,handleMouseOut:v,handleSortClick:p,handleFilterClick:o}}function el(e){const t=je(at),n=De("table");return{getHeaderRowStyle:s=>{const l=t==null?void 0:t.props.headerRowStyle;return tt(l)?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return Xe(u)?l.push(u):tt(u)&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var h;let v=(h=t==null?void 0:t.props.headerCellStyle)!=null?h:{};tt(v)&&(v=v.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const f=wr(l,c.fixed,e.store,u);return Bt(f,"left"),Bt(f,"right"),Object.assign({},v,f)},getHeaderCellClass:(s,l,u,c)=>{const h=yr(n.b(),l,c.fixed,e.store,u),v=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...h];c.children||v.push("is-leaf"),c.sortable&&v.push("is-sortable");const f=t==null?void 0:t.props.headerCellClassName;return Xe(f)?v.push(f):tt(f)&&v.push(f.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),v.push(n.e("cell")),v.filter(p=>!!p).join(" ")}}}const Qs=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,Qs(n.children))):t.push(n)}),t},ea=e=>{let t=1;const n=(i,a)=>{if(a&&(i.level=a.level+1,t<i.level&&(t=i.level)),i.children){let s=0;i.children.forEach(l=>{n(l,i),s+=l.colSpan}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.level=1,n(i,void 0)});const r=[];for(let i=0;i<t;i++)r.push([]);return Qs(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(a=>a.isSubColumn=!0)):i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function tl(e){const t=je(at),n=re(()=>ea(e.store.states.originColumns.value));return{isGroup:re(()=>{const i=n.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var nl=Le({name:"ElTableHeader",components:{ElCheckbox:Lt},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=He(),r=je(at),o=De("table"),i=q({}),{onColumnsChange:a,onScrollableChange:s}=Cr(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=yi(new Map),c=q();let h;const v=()=>{h=setTimeout(()=>{u.size>0&&(u.forEach((Z,E)=>{const B=c.value.querySelector(`.${E.replace(/\s/g,".")}`);if(B){const b=B.getBoundingClientRect().width;Z.width=b||Z.width}}),u.clear())})};We(u,v),vr(()=>{h&&(clearTimeout(h),h=void 0)}),Rt(async()=>{await gt(),await gt();const{prop:Z,order:E}=e.defaultSort;r==null||r.store.commit("sort",{prop:Z,order:E,init:!0}),v()});const{handleHeaderClick:f,handleHeaderContextMenu:p,handleMouseDown:d,handleMouseMove:m,handleMouseOut:y,handleSortClick:_,handleFilterClick:C}=Qo(e,t),{getHeaderRowStyle:w,getHeaderRowClass:S,getHeaderCellStyle:T,getHeaderCellClass:R}=el(e),{isGroup:F,toggleAllSelection:O,columnRows:I}=tl(e);return n.state={onColumnsChange:a,onScrollableChange:s},n.filterPanels=i,{ns:o,filterPanels:i,onColumnsChange:a,onScrollableChange:s,columnRows:I,getHeaderRowClass:S,getHeaderRowStyle:w,getHeaderCellClass:R,getHeaderCellStyle:T,handleHeaderClick:f,handleHeaderContextMenu:p,handleMouseDown:d,handleMouseMove:m,handleMouseOut:y,handleSortClick:_,handleFilterClick:C,isGroup:F,toggleAllSelection:O,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:v}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:h,handleMouseOut:v,store:f,$parent:p,saveIndexSelection:d,isTableLayoutAuto:m}=this;let y=1;return Se("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((_,C)=>Se("tr",{class:i(C),key:C,style:a(C)},_.map((w,S)=>{w.rowSpan>y&&(y=w.rowSpan);const T=o(C,S,_,w);return m&&w.fixed&&d.set(T,w),Se("th",{class:T,colspan:w.colSpan,key:`${w.id}-thead`,rowspan:w.rowSpan,style:r(C,S,_,w),onClick:R=>{var F;(F=R.currentTarget)!=null&&F.classList.contains("noclick")||s(R,w)},onContextmenu:R=>l(R,w),onMousedown:R=>u(R,w),onMousemove:R=>c(R,w),onMouseout:v},[Se("div",{class:["cell",w.filteredValue&&w.filteredValue.length>0?"highlight":""]},[w.renderHeader?w.renderHeader({column:w,$index:S,store:f,_self:p}):w.label,w.sortable&&Se("span",{onClick:R=>h(R,w),class:"caret-wrapper"},[Se("i",{onClick:R=>h(R,w,"ascending"),class:"sort-caret ascending"}),Se("i",{onClick:R=>h(R,w,"descending"),class:"sort-caret descending"})]),w.filterable&&Se(Jo,{store:f,placement:w.filterPlacement||"bottom-start",appendTo:p==null?void 0:p.appendFilterPanelTo,column:w,upDataColumn:(R,F)=>{w[R]=F}},{"filter-icon":()=>w.renderFilterIcon?w.renderFilterIcon({filterOpened:w.filterOpened}):null})])])}))))}});function Bn(e,t,n=.03){return e-t>n}function rl(e){const t=je(at),n=q(""),r=q(Se("div")),o=(p,d,m)=>{var y,_,C;const w=t,S=Ln(p);let T=null;const R=(y=w==null?void 0:w.vnode.el)==null?void 0:y.dataset.prefix;S&&(T=Ir({columns:(C=(_=e.store)==null?void 0:_.states.columns.value)!=null?C:[]},S,R),T&&(w==null||w.emit(`cell-${m}`,d,T,S,p))),w==null||w.emit(`row-${m}`,d,T,p)},i=(p,d)=>{o(p,d,"dblclick")},a=(p,d)=>{var m;(m=e.store)==null||m.commit("setCurrentRow",d),o(p,d,"click")},s=(p,d)=>{o(p,d,"contextmenu")},l=gn(p=>{var d;(d=e.store)==null||d.commit("setHoverRow",p)},30),u=gn(()=>{var p;(p=e.store)==null||p.commit("setHoverRow",null)},30),c=p=>{const d=window.getComputedStyle(p,null),m=Number.parseInt(d.paddingLeft,10)||0,y=Number.parseInt(d.paddingRight,10)||0,_=Number.parseInt(d.paddingTop,10)||0,C=Number.parseInt(d.paddingBottom,10)||0;return{left:m,right:y,top:_,bottom:C}},h=(p,d,m)=>{var y;let _=(y=d==null?void 0:d.target)==null?void 0:y.parentNode;for(;p>1&&(_=_==null?void 0:_.nextSibling,!(!_||_.nodeName!=="TR"));)m(_,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:i,handleClick:a,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,d,m)=>{var y,_,C,w,S,T,R,F;if(!t)return;const O=t,I=Ln(p),Z=(y=O==null?void 0:O.vnode.el)==null?void 0:y.dataset.prefix;let E=null;if(I){if(E=Ir({columns:(C=(_=e.store)==null?void 0:_.states.columns.value)!=null?C:[]},I,Z),!E)return;I.rowSpan>1&&h(I.rowSpan,p,vn);const Y=O.hoverState={cell:I,column:E,row:d};O==null||O.emit("cell-mouse-enter",Y.row,Y.column,Y.cell,p)}if(!m){((w=Me)==null?void 0:w.trigger)===I&&((S=Me)==null||S());return}const B=p.target.querySelector(".cell");if(!(Ht(B,`${Z}-tooltip`)&&B.childNodes.length))return;const b=document.createRange();b.setStart(B,0),b.setEnd(B,B.childNodes.length);const{width:U,height:ee}=b.getBoundingClientRect(),{width:L,height:G}=B.getBoundingClientRect(),{top:$,left:j,right:N,bottom:z}=c(B),ne=j+N,X=$+z;Bn(U+ne,L)||Bn(ee+X,G)||Bn(B.scrollWidth,L)?Mo(m,(T=(I==null?void 0:I.innerText)||(I==null?void 0:I.textContent))!=null?T:"",d,E,I,O):((R=Me)==null?void 0:R.trigger)===I&&((F=Me)==null||F())},handleCellMouseLeave:p=>{const d=Ln(p);if(!d)return;d.rowSpan>1&&h(d.rowSpan,p,qt);const m=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,p)},tooltipContent:n,tooltipTrigger:r}}function sl(e){const t=je(at),n=De("table");return{getRowStyle:(u,c)=>{const h=t==null?void 0:t.props.rowStyle;return tt(h)?h.call(null,{row:u,rowIndex:c}):h||null},getRowClass:(u,c,h)=>{var v;const f=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&u===((v=e.store)==null?void 0:v.states.currentRow.value)&&f.push("current-row"),e.stripe&&h%2===1&&f.push(n.em("row","striped"));const p=t==null?void 0:t.props.rowClassName;return Xe(p)?f.push(p):tt(p)&&f.push(p.call(null,{row:u,rowIndex:c})),f},getCellStyle:(u,c,h,v)=>{const f=t==null?void 0:t.props.cellStyle;let p=f??{};tt(f)&&(p=f.call(null,{rowIndex:u,columnIndex:c,row:h,column:v}));const d=wr(c,e==null?void 0:e.fixed,e.store);return Bt(d,"left"),Bt(d,"right"),Object.assign({},p,d)},getCellClass:(u,c,h,v,f)=>{const p=yr(n.b(),c,e==null?void 0:e.fixed,e.store,void 0,f),d=[v.id,v.align,v.className,...p],m=t==null?void 0:t.props.cellClassName;return Xe(m)?d.push(m):tt(m)&&d.push(m.call(null,{rowIndex:u,columnIndex:c,row:h,column:v})),d.push(n.e("cell")),d.filter(y=>!!y).join(" ")},getSpan:(u,c,h,v)=>{let f=1,p=1;const d=t==null?void 0:t.props.spanMethod;if(tt(d)){const m=d({row:u,column:c,rowIndex:h,columnIndex:v});Ie(m)?(f=m[0],p=m[1]):zt(m)&&(f=m.rowspan,p=m.colspan)}return{rowspan:f,colspan:p}},getColspanRealWidth:(u,c,h)=>{if(c<1)return u[h].realWidth;const v=u.map(({realWidth:f,width:p})=>f||p).slice(h,h+c);return Number(v.reduce((f,p)=>Number(f)+Number(p),-1))}}}const al=Le({name:"TableTdWrapper"}),il=Le({...al,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(le(),ve("td",{colspan:e.colspan,rowspan:e.rowspan},[$e(t.$slots,"default")],8,["colspan","rowspan"]))}});var ol=ft(il,[["__file","td-wrapper.vue"]]);function ll(e){const t=je(at),n=De("table"),{handleDoubleClick:r,handleClick:o,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:h}=rl(e),{getRowStyle:v,getRowClass:f,getCellStyle:p,getCellClass:d,getSpan:m,getColspanRealWidth:y}=sl(e);let _=-1;const C=re(()=>{var F;return(F=e.store)==null?void 0:F.states.columns.value.findIndex(({type:O})=>O==="default")}),w=(F,O)=>{var I;const Z=(I=t==null?void 0:t.props)==null?void 0:I.rowKey;return Z?Pe(F,Z):O},S=(F,O,I,Z=!1)=>{const{tooltipEffect:E,tooltipOptions:B,store:b}=e,{indent:U,columns:ee}=b.states,L=[];let G=!0;return I&&(L.push(n.em("row",`level-${I.level}`)),G=!!I.display),O===0&&(_=-1),e.stripe&&G&&_++,L.push(...f(F,O,_)),Se("tr",{style:[G?null:{display:"none"},v(F,O)],class:L,key:w(F,O),onDblclick:j=>r(j,F),onClick:j=>o(j,F),onContextmenu:j=>i(j,F),onMouseenter:()=>a(O),onMouseleave:s},ee.value.map((j,N)=>{const{rowspan:z,colspan:ne}=m(F,j,O,N);if(!z||!ne)return null;const X=Object.assign({},j);X.realWidth=y(ee.value,ne,N);const Y={store:b,_self:e.context||t,column:X,row:F,$index:O,cellIndex:N,expanded:Z};N===C.value&&I&&(Y.treeNode={indent:I.level&&I.level*U.value,level:I.level},ut(I.expanded)&&(Y.treeNode.expanded=I.expanded,"loading"in I&&(Y.treeNode.loading=I.loading),"noLazyChildren"in I&&(Y.treeNode.noLazyChildren=I.noLazyChildren)));const pe=`${w(F,O)},${N}`,Te=X.columnKey||X.rawColumnKey||"",de=j.showOverflowTooltip&&Ds({effect:E},B,j.showOverflowTooltip);return Se(ol,{style:p(O,N,F,j),class:d(O,N,F,j,ne-1),key:`${Te}${pe}`,rowspan:z,colspan:ne,onMouseenter:he=>l(he,F,de),onMouseleave:u},{default:()=>T(N,j,Y)})}))},T=(F,O,I)=>O.renderCell(I);return{wrappedRowRender:(F,O)=>{const I=e.store,{isRowExpanded:Z,assertRowKey:E}=I,{treeData:B,lazyTreeNodeMap:b,childrenColumnName:U,rowKey:ee}=I.states,L=I.states.columns.value;if(L.some(({type:$})=>$==="expand")){const $=Z(F),j=S(F,O,void 0,$),N=t==null?void 0:t.renderExpanded;if(!N)return console.error("[Element Error]renderExpanded is required."),j;const z=[[j]];return(t.props.preserveExpandedContent||$)&&z[0].push(Se("tr",{key:`expanded-row__${j.key}`,style:{display:$?"":"none"}},[Se("td",{colspan:L.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[N({row:F,$index:O,store:I,expanded:$})])])),z}else if(Object.keys(B.value).length){E();const $=Pe(F,ee.value);let j=B.value[$],N=null;j&&(N={expanded:j.expanded,level:j.level,display:!0,noLazyChildren:void 0,loading:void 0},ut(j.lazy)&&(N&&ut(j.loaded)&&j.loaded&&(N.noLazyChildren=!(j.children&&j.children.length)),N.loading=j.loading));const z=[S(F,O,N??void 0)];if(j){let ne=0;const X=(pe,Te)=>{pe&&pe.length&&Te&&pe.forEach(de=>{const he={display:Te.display&&Te.expanded,level:Te.level+1,expanded:!1,noLazyChildren:!1,loading:!1},te=Pe(de,ee.value);if(St(te))throw new Error("For nested data item, row-key is required.");if(j={...B.value[te]},j&&(he.expanded=j.expanded,j.level=j.level||he.level,j.display=!!(j.expanded&&he.display),ut(j.lazy)&&(ut(j.loaded)&&j.loaded&&(he.noLazyChildren=!(j.children&&j.children.length)),he.loading=j.loading)),ne++,z.push(S(de,O+ne,he)),j){const se=b.value[te]||de[U.value];X(se,j)}})};j.display=!0;const Y=b.value[$]||F[U.value];X(Y,j)}return z}else return S(F,O,void 0)},tooltipContent:c,tooltipTrigger:h}}const ul={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var cl=Le({name:"ElTableBody",props:ul,setup(e){var t;const n=He(),r=je(at),o=De("table"),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}=ll(e),{onColumnsChange:l,onScrollableChange:u}=Cr(r),c=[];return We((t=e.store)==null?void 0:t.states.hoverRow,(h,v)=>{var f,p;const d=n==null?void 0:n.vnode.el,m=Array.from((d==null?void 0:d.children)||[]).filter(C=>C==null?void 0:C.classList.contains(`${o.e("row")}`));let y=h;const _=(f=m[y])==null?void 0:f.childNodes;if(_!=null&&_.length){let C=0;Array.from(_).reduce((S,T,R)=>{var F,O;return((F=_[R])==null?void 0:F.colSpan)>1&&(C=(O=_[R])==null?void 0:O.colSpan),T.nodeName!=="TD"&&C===0&&S.push(R),C>0&&C--,S},[]).forEach(S=>{var T;for(y=h;y>0;){const R=(T=m[y-1])==null?void 0:T.childNodes;if(R[S]&&R[S].nodeName==="TD"&&R[S].rowSpan>1){vn(R[S],"hover-cell"),c.push(R[S]);break}y--}})}else c.forEach(C=>qt(C,"hover-cell")),c.length=0;!((p=e.store)!=null&&p.states.isComplex.value)||!xt||Qi(()=>{const C=m[v],w=m[h];C&&!C.classList.contains("hover-fixed-row")&&qt(C,"hover-row"),w&&vn(w,"hover-row")})}),gr(()=>{var h;(h=Me)==null||h()}),{ns:o,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:e,store:t}=this,n=(t==null?void 0:t.states.data.value)||[];return Se("tbody",{tabIndex:-1},[n.reduce((r,o)=>r.concat(e(o,r.length)),[])])}});function dl(){const e=je(at),t=e==null?void 0:e.store,n=re(()=>{var s;return(s=t==null?void 0:t.states.fixedLeafColumnsLength.value)!=null?s:0}),r=re(()=>{var s;return(s=t==null?void 0:t.states.rightFixedColumns.value.length)!=null?s:0}),o=re(()=>{var s;return(s=t==null?void 0:t.states.columns.value.length)!=null?s:0}),i=re(()=>{var s;return(s=t==null?void 0:t.states.fixedColumns.value.length)!=null?s:0}),a=re(()=>{var s;return(s=t==null?void 0:t.states.rightFixedColumns.value.length)!=null?s:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:o,leftFixedCount:i,rightFixedCount:a,columns:re(()=>{var s;return(s=t==null?void 0:t.states.columns.value)!=null?s:[]})}}function fl(e){const{columns:t}=dl(),n=De("table");return{getCellClasses:(i,a)=>{const s=i[a],l=[n.e("cell"),s.id,s.align,s.labelClassName,...yr(n.b(),a,s.fixed,e.store)];return s.className&&l.push(s.className),s.children||l.push(n.is("leaf")),l},getCellStyles:(i,a)=>{const s=wr(a,i.fixed,e.store);return Bt(s,"left"),Bt(s,"right"),s},columns:t}}var hl=Le({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const t=je(at),n=De("table"),{getCellClasses:r,getCellStyles:o,columns:i}=fl(e),{onScrollableChange:a,onColumnsChange:s}=Cr(t);return{ns:n,onScrollableChange:a,onColumnsChange:s,getCellClasses:r,getCellStyles:o,columns:i}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:o}=this,i=this.store.states.data.value;let a=[];return r?a=r({columns:e,data:i}):e.forEach((s,l)=>{if(l===0){a[l]=o;return}const u=i.map(f=>Number(f[s.property])),c=[];let h=!0;u.forEach(f=>{if(!Number.isNaN(+f)){h=!1;const p=`${f}`.split(".")[1];c.push(p?p.length:0)}});const v=Math.max.apply(null,c);h?a[l]="":a[l]=u.reduce((f,p)=>{const d=Number(p);return Number.isNaN(+d)?f:Number.parseFloat((f+p).toFixed(Math.min(v,20)))},0)}),Se(Se("tfoot",[Se("tr",{},[...e.map((s,l)=>Se("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:n(e,l),style:t(s,l)},[Se("div",{class:["cell",s.labelClassName]},[a[l]])]))])]))}});function pl(e){return{setCurrentRow:h=>{e.commit("setCurrentRow",h)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(h,v,f=!0)=>{e.toggleRowSelection(h,v,!1,f),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:h=>{e.clearFilter(h)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(h,v)=>{e.toggleRowExpansionAdapter(h,v)},clearSort:()=>{e.clearSort()},sort:(h,v)=>{e.commit("sort",{prop:h,order:v})},updateKeyChildren:(h,v)=>{e.updateKeyChildren(h,v)}}}function ml(e,t,n,r){const o=q(!1),i=q(null),a=q(!1),s=L=>{a.value=L},l=q({width:null,height:null,headerHeight:null}),u=q(!1),c={display:"inline-block",verticalAlign:"middle"},h=q(),v=q(0),f=q(0),p=q(0),d=q(0),m=q(0);Vt(()=>{var L;t.setHeight((L=e.height)!=null?L:null)}),Vt(()=>{var L;t.setMaxHeight((L=e.maxHeight)!=null?L:null)}),We(()=>[e.currentRowKey,n.states.rowKey],([L,G])=>{!H(G)||!H(L)||n.setCurrentRowKey(`${L}`)},{immediate:!0}),We(()=>e.data,L=>{r.store.commit("setData",L)},{immediate:!0,deep:!0}),Vt(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const y=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},_=(L,G)=>{const{pixelX:$,pixelY:j}=G;Math.abs($)>=Math.abs(j)&&(r.refs.bodyWrapper.scrollLeft+=G.pixelX/5)},C=re(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=re(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),S=()=>{C.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(O)};Rt(async()=>{await gt(),n.updateColumns(),I(),requestAnimationFrame(S);const L=r.vnode.el,G=r.refs.headerWrapper;e.flexible&&L&&L.parentElement&&(L.parentElement.style.minWidth="0"),l.value={width:h.value=L.offsetWidth,height:L.offsetHeight,headerHeight:e.showHeader&&G?G.offsetHeight:null},n.states.columns.value.forEach($=>{$.filteredValue&&$.filteredValue.length&&r.store.commit("filterChange",{column:$,values:$.filteredValue,silent:!0})}),r.$ready=!0});const T=(L,G)=>{if(!L)return;const $=Array.from(L.classList).filter(j=>!j.startsWith("is-scrolling-"));$.push(t.scrollX.value?G:"is-scrolling-none"),L.className=$.join(" ")},R=L=>{const{tableWrapper:G}=r.refs;T(G,L)},F=L=>{const{tableWrapper:G}=r.refs;return!!(G&&G.classList.contains(L))},O=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const X="is-scrolling-none";F(X)||R(X);return}const L=r.refs.scrollBarRef.wrapRef;if(!L)return;const{scrollLeft:G,offsetWidth:$,scrollWidth:j}=L,{headerWrapper:N,footerWrapper:z}=r.refs;N&&(N.scrollLeft=G),z&&(z.scrollLeft=G);const ne=j-$-1;G>=ne?R("is-scrolling-right"):R(G===0?"is-scrolling-left":"is-scrolling-middle")},I=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Nr(r.refs.scrollBarRef.wrapRef,"scroll",O,{passive:!0}),e.fit?zr(r.vnode.el,Z):Nr(window,"resize",Z),zr(r.refs.bodyWrapper,()=>{var L,G;Z(),(G=(L=r.refs)==null?void 0:L.scrollBarRef)==null||G.update()}))},Z=()=>{var L,G,$,j;const N=r.vnode.el;if(!r.$ready||!N)return;let z=!1;const{width:ne,height:X,headerHeight:Y}=l.value,pe=h.value=N.offsetWidth;ne!==pe&&(z=!0);const Te=N.offsetHeight;(e.height||C.value)&&X!==Te&&(z=!0);const de=e.tableLayout==="fixed"?r.refs.headerWrapper:(L=r.refs.tableHeaderRef)==null?void 0:L.$el;e.showHeader&&(de==null?void 0:de.offsetHeight)!==Y&&(z=!0),v.value=((G=r.refs.tableWrapper)==null?void 0:G.scrollHeight)||0,p.value=(de==null?void 0:de.scrollHeight)||0,d.value=(($=r.refs.footerWrapper)==null?void 0:$.offsetHeight)||0,m.value=((j=r.refs.appendWrapper)==null?void 0:j.offsetHeight)||0,f.value=v.value-p.value-d.value-m.value,z&&(l.value={width:pe,height:Te,headerHeight:e.showHeader&&(de==null?void 0:de.offsetHeight)||0},S())},E=jn(),B=re(()=>{const{bodyWidth:L,scrollY:G,gutterWidth:$}=t;return L.value?`${L.value-(G.value?$:0)}px`:""}),b=re(()=>e.maxHeight?"fixed":e.tableLayout),U=re(()=>{if(e.data&&e.data.length)return;let L="100%";e.height&&f.value&&(L=`${f.value}px`);const G=h.value;return{width:G?`${G}px`:"",height:L}}),ee=re(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+d.value}px)`}:{maxHeight:`${+e.maxHeight-p.value-d.value}px`}:{});return{isHidden:o,renderExpanded:i,setDragVisible:s,isGroup:u,handleMouseLeave:y,handleHeaderFooterMousewheel:_,tableSize:E,emptyBlockStyle:U,resizeProxyVisible:a,bodyWidth:B,resizeState:l,doLayout:S,tableBodyStyles:w,tableLayout:b,scrollbarViewStyle:c,scrollbarStyle:ee}}function gl(e){const t=q(),n=()=>{const o=e.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},a=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{a.forEach(s=>s())}),t.value.observe(o,i)};Rt(()=>{n()}),gr(()=>{var r;(r=t.value)==null||r.disconnect()})}var vl={data:{type:Array,default:()=>[]},size:ur,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function ta(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:o})=>Ye(o))&&(n=[]);const r=o=>{const i={key:`${e.tableLayout}_${o.id}`,style:{},name:void 0};return t?i.style={width:`${o.width}px`}:i.name=o.id,i};return Se("colgroup",{},n.map(o=>Se("col",r(o))))}ta.props=["columns","tableLayout"];const bl=()=>{const e=q(),t=(i,a)=>{const s=e.value;s&&s.scrollTo(i,a)},n=(i,a)=>{const s=e.value;s&&ct(a)&&["Top","Left"].includes(i)&&s[`setScroll${i}`](a)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};var Mr=!1,yt,Zn,Gn,un,cn,na,dn,Yn,Xn,Jn,ra,Qn,er,sa,aa;function Ke(){if(!Mr){Mr=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Qn=/\b(iPhone|iP[ao]d)/.exec(e),er=/\b(iP[ao]d)/.exec(e),Jn=/Android/i.exec(e),sa=/FBAN\/\w+;/i.exec(e),aa=/Mobile/i.exec(e),ra=!!/Win64/.exec(e),t){yt=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,yt&&document&&document.documentMode&&(yt=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);na=r?parseFloat(r[1])+4:yt,Zn=t[2]?parseFloat(t[2]):NaN,Gn=t[3]?parseFloat(t[3]):NaN,un=t[4]?parseFloat(t[4]):NaN,un?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),cn=t&&t[1]?parseFloat(t[1]):NaN):cn=NaN}else yt=Zn=Gn=cn=un=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);dn=o?parseFloat(o[1].replace("_",".")):!0}else dn=!1;Yn=!!n[2],Xn=!!n[3]}else dn=Yn=Xn=!1}}var tr={ie:function(){return Ke()||yt},ieCompatibilityMode:function(){return Ke()||na>yt},ie64:function(){return tr.ie()&&ra},firefox:function(){return Ke()||Zn},opera:function(){return Ke()||Gn},webkit:function(){return Ke()||un},safari:function(){return tr.webkit()},chrome:function(){return Ke()||cn},windows:function(){return Ke()||Yn},osx:function(){return Ke()||dn},linux:function(){return Ke()||Xn},iphone:function(){return Ke()||Qn},mobile:function(){return Ke()||Qn||er||Jn||aa},nativeApp:function(){return Ke()||sa},android:function(){return Ke()||Jn},ipad:function(){return Ke()||er}},yl=tr,wl=!!(typeof window<"u"&&window.document&&window.document.createElement),_l={canUseDOM:wl},ia=_l,oa;ia.canUseDOM&&(oa=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Cl(e,t){if(!ia.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&oa&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Sl=Cl,Ur=10,$r=40,Wr=800;function la(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Ur,o=n*Ur,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=$r,o*=$r):(r*=Wr,o*=Wr)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}la.getEventType=function(){return yl.firefox()?"DOMMouseScroll":Sl("wheel")?"wheel":"mousewheel"};var kl=la;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const xl=function(e,t){if(e&&e.addEventListener){const n=function(r){const o=kl(r);t&&Reflect.apply(t,this,[r,o])};e.addEventListener("wheel",n,{passive:!0})}},El={beforeMount(e,t){xl(e,t.value)}};let Rl=1;const Tl=Le({name:"ElTable",directives:{Mousewheel:El},components:{TableHeader:nl,TableBody:cl,TableFooter:hl,ElScrollbar:Ts,hColgroup:ta},props:vl,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=Os(),n=De("table"),r=He();hr(at,r);const o=Ko(r,e);r.store=o;const i=new Zo({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const a=re(()=>(o.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:h,toggleAllSelection:v,toggleRowExpansion:f,clearSort:p,sort:d,updateKeyChildren:m}=pl(o),{isHidden:y,renderExpanded:_,setDragVisible:C,isGroup:w,handleMouseLeave:S,handleHeaderFooterMousewheel:T,tableSize:R,emptyBlockStyle:F,resizeProxyVisible:O,bodyWidth:I,resizeState:Z,doLayout:E,tableBodyStyles:B,tableLayout:b,scrollbarViewStyle:U,scrollbarStyle:ee}=ml(e,i,o,r),{scrollBarRef:L,scrollTo:G,setScrollLeft:$,setScrollTop:j}=bl(),N=gn(E,50),z=`${n.namespace.value}-table_${Rl++}`;r.tableId=z,r.state={isGroup:w,resizeState:Z,doLayout:E,debouncedUpdateLayout:N};const ne=re(()=>{var pe;return(pe=e.sumText)!=null?pe:t("el.table.sumText")}),X=re(()=>{var pe;return(pe=e.emptyText)!=null?pe:t("el.table.emptyText")}),Y=re(()=>ea(o.states.originColumns.value)[0]);return gl(r),vr(()=>{N.cancel()}),{ns:n,layout:i,store:o,columns:Y,handleHeaderFooterMousewheel:T,handleMouseLeave:S,tableId:z,tableSize:R,isHidden:y,isEmpty:a,renderExpanded:_,resizeProxyVisible:O,resizeState:Z,isGroup:w,bodyWidth:I,tableBodyStyles:B,emptyBlockStyle:F,debouncedUpdateLayout:N,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:h,toggleAllSelection:v,toggleRowExpansion:f,clearSort:p,doLayout:E,sort:d,updateKeyChildren:m,t,setDragVisible:C,context:r,computedSumText:ne,computedEmptyText:X,tableLayout:b,scrollbarViewStyle:U,scrollbarStyle:ee,scrollBarRef:L,scrollTo:G,setScrollLeft:$,setScrollTop:j,allowDragLastColumn:e.allowDragLastColumn}}});function Ol(e,t,n,r,o,i){const a=et("hColgroup"),s=et("table-header"),l=et("table-body"),u=et("table-footer"),c=et("el-scrollbar"),h=Rs("mousewheel");return le(),ve("div",{ref:"tableWrapper",class:we([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:st(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[oe("div",{class:we(e.ns.e("inner-wrapper"))},[oe("div",{ref:"hiddenColumns",class:"hidden-columns"},[$e(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Ct((le(),ve("div",{key:0,ref:"headerWrapper",class:we(e.ns.e("header-wrapper"))},[oe("table",{ref:"tableHeader",class:we(e.ns.e("header")),style:st(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[_e(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),_e(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[h,e.handleHeaderFooterMousewheel]]):Ee("v-if",!0),oe("div",{ref:"bodyWrapper",class:we(e.ns.e("body-wrapper"))},[_e(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:v=>e.$emit("scroll",v)},{default:Ce(()=>[oe("table",{ref:"tableBody",class:we(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:st({width:e.bodyWidth,tableLayout:e.tableLayout})},[_e(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(le(),Ne(s,{key:0,ref:"tableHeaderRef",class:we(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Ee("v-if",!0),_e(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(le(),Ne(u,{key:1,class:we(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Ee("v-if",!0)],6),e.isEmpty?(le(),ve("div",{key:0,ref:"emptyBlock",style:st(e.emptyBlockStyle),class:we(e.ns.e("empty-block"))},[oe("span",{class:we(e.ns.e("empty-text"))},[$e(e.$slots,"empty",{},()=>[Be(fe(e.computedEmptyText),1)])],2)],6)):Ee("v-if",!0),e.$slots.append?(le(),ve("div",{key:1,ref:"appendWrapper",class:we(e.ns.e("append-wrapper"))},[$e(e.$slots,"append")],2)):Ee("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Ct((le(),ve("div",{key:1,ref:"footerWrapper",class:we(e.ns.e("footer-wrapper"))},[oe("table",{class:we(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:st(e.tableBodyStyles)},[_e(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),_e(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[$n,!e.isEmpty],[h,e.handleHeaderFooterMousewheel]]):Ee("v-if",!0),e.border||e.isGroup?(le(),ve("div",{key:2,class:we(e.ns.e("border-left-patch"))},null,2)):Ee("v-if",!0)],2),Ct(oe("div",{ref:"resizeProxy",class:we(e.ns.e("column-resize-proxy"))},null,2),[[$n,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Al=ft(Tl,[["render",Ol],["__file","table.vue"]]);const Fl={selection:"table-column--selection",expand:"table__expand-column"},Nl={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},zl=e=>Fl[e]||"",Ll={selection:{renderHeader({store:e,column:t}){var n;function r(){return e.states.data.value&&e.states.data.value.length===0}return Se(Lt,{disabled:r(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":(n=e.toggleAllSelection)!=null?n:void 0,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return Se(Lt,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:o=>o.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return ct(r)?n=t+r:tt(r)&&(n=r(t)),Se("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({column:e,row:t,store:n,expanded:r}){const{ns:o}=n,i=[o.e("expand-icon")];return!e.renderExpand&&r&&i.push(o.em("expand-icon","expanded")),Se("div",{class:i,onClick:function(s){s.stopPropagation(),n.toggleRowExpansion(t)}},{default:()=>e.renderExpand?[e.renderExpand({expanded:r})]:[Se(Nt,null,{default:()=>[Se(Fs)]})]})},sortable:!1,resizable:!1}};function Bl({row:e,column:t,$index:n}){var r;const o=t.property,i=o&&xs(e,o).value;return t&&t.formatter?t.formatter(e,t,i,n):((r=i==null?void 0:i.toString)==null?void 0:r.call(i))||""}function Il({row:e,treeNode:t,store:n},r=!1){const{ns:o}=n;if(!t)return r?[Se("span",{class:o.e("placeholder")})]:null;const i=[],a=function(s){s.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&i.push(Se("span",{class:o.e("indent"),style:{"padding-left":`${t.indent}px`}})),ut(t.expanded)&&!t.noLazyChildren){const s=[o.e("expand-icon"),t.expanded?o.em("expand-icon","expanded"):""];let l=Fs;t.loading&&(l=Ns),i.push(Se("div",{class:s,onClick:a},{default:()=>[Se(Nt,{class:{[o.is("loading")]:t.loading}},{default:()=>[Se(l)]})]}))}else i.push(Se("span",{class:o.e("placeholder")}));return i}function jr(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function Pl(e,t){const n=He();return{registerComplexWatchers:()=>{const i=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},s=jr(i,a);Object.keys(s).forEach(l=>{const u=a[l];At(t,u)&&We(()=>t[u],c=>{let h=c;u==="width"&&l==="realWidth"&&(h=br(c)),u==="minWidth"&&l==="realMinWidth"&&(h=Zs(c)),n.columnConfig.value[u]=h,n.columnConfig.value[l]=h;const v=u==="fixed";e.value.store.scheduleLayout(v)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],a=["showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=jr(i,s);Object.keys(l).forEach(u=>{const c=s[u];At(t,c)&&We(()=>t[c],h=>{n.columnConfig.value[u]=h})}),a.forEach(u=>{At(e.value.props,u)&&We(()=>e.value.props[u],c=>{n.columnConfig.value[u]=c})})}}}function Dl(e,t,n){const r=He(),o=q(""),i=q(!1),a=q(),s=q(),l=De("table");Vt(()=>{a.value=e.align?`is-${e.align}`:null,a.value}),Vt(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:a.value,s.value});const u=re(()=>{let w=r.vnode.vParent||r.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=re(()=>{const{store:w}=r.parent;if(!w)return!1;const{treeData:S}=w.states,T=S.value;return T&&Object.keys(T).length>0}),h=q(br(e.width)),v=q(Zs(e.minWidth)),f=w=>(h.value&&(w.width=h.value),v.value&&(w.minWidth=v.value),!h.value&&v.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(Ye(w.width)?w.minWidth:w.width),w),p=w=>{const S=w.type,T=Ll[S]||{};Object.keys(T).forEach(F=>{const O=T[F];F!=="className"&&!Ye(O)&&(w[F]=O)});const R=zl(S);if(R){const F=`${H(l.namespace)}-${R}`;w.className=w.className?`${w.className} ${F}`:F}return w},d=w=>{Ie(w)?w.forEach(T=>S(T)):S(w);function S(T){var R;((R=T==null?void 0:T.type)==null?void 0:R.name)==="ElTableColumn"&&(T.vParent=r)}};return{columnId:o,realAlign:a,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:f,setColumnForcedProps:p,setColumnRenders:w=>{e.renderHeader||w.type!=="selection"&&(w.renderHeader=T=>(r.columnConfig.value.label,$e(t,"header",T,()=>[w.label]))),t["filter-icon"]&&(w.renderFilterIcon=T=>$e(t,"filter-icon",T)),t.expand&&(w.renderExpand=T=>$e(t,"expand",T));let S=w.renderCell;return w.type==="expand"?(w.renderCell=T=>Se("div",{class:"cell"},[S(T)]),n.value.renderExpanded=T=>t.default?t.default(T):t.default):(S=S||Bl,w.renderCell=T=>{let R=null;if(t.default){const B=t.default(T);R=B.some(b=>b.type!==wi)?B:S(T)}else R=S(T);const{columns:F}=n.value.store.states,O=F.value.findIndex(B=>B.type==="default"),I=c.value&&T.cellIndex===O,Z=Il(T,I),E={class:"cell",style:{}};return w.showOverflowTooltip&&(E.class=`${E.class} ${H(l.namespace)}-tooltip`,E.style={width:`${(T.column.realWidth||Number(T.column.width))-1}px`}),d(R),Se("div",E,[Z,R])}),w},getPropsData:(...w)=>w.reduce((S,T)=>(Ie(T)&&T.forEach(R=>{S[R]=e[R]}),S),{}),getColumnElIndex:(w,S)=>Array.prototype.indexOf.call(w,S),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var Ml={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let Ul=1;var ua=Le({name:"ElTableColumn",components:{ElCheckbox:Lt},props:Ml,setup(e,{slots:t}){const n=He(),r=q({}),o=re(()=>{let C=n.parent;for(;C&&!C.tableId;)C=C.parent;return C}),{registerNormalWatchers:i,registerComplexWatchers:a}=Pl(o,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:v,setColumnRenders:f,getPropsData:p,getColumnElIndex:d,realAlign:m,updateColumnOrder:y}=Dl(e,t,o),_=c.value;s.value=`${"tableId"in _&&_.tableId||"columnId"in _&&_.columnId}_column_${Ul++}`,As(()=>{l.value=o.value!==_;const C=e.type||"default",w=e.sortable===""?!0:e.sortable,S=C==="selection"?!1:Ye(e.showOverflowTooltip)?_.props.showOverflowTooltip:e.showOverflowTooltip,T=Ye(e.tooltipFormatter)?_.props.tooltipFormatter:e.tooltipFormatter,R={...Nl[C],id:s.value,type:C,property:e.prop||e.property,align:m,headerAlign:u,showOverflowTooltip:S,tooltipFormatter:T,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:e.index,rawColumnKey:n.vnode.key};let E=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);E=Lo(R,E),E=Io(f,h,v)(E),r.value=E,i(),a()}),Rt(()=>{var C,w;const S=c.value,T=l.value?(C=S.vnode.el)==null?void 0:C.children:(w=S.refs.hiddenColumns)==null?void 0:w.children,R=()=>d(T||[],n.vnode.el);r.value.getColumnIndex=R,R()>-1&&o.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in S&&S.columnConfig.value:null,y)}),vr(()=>{const C=r.value.getColumnIndex;(C?C():-1)>-1&&o.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in _&&_.columnConfig.value:null,y)}),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),o=[];if(Ie(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?o.push(a):a.type===dt&&Ie(a.children)&&a.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!Xe(s==null?void 0:s.children)&&o.push(s)});return Se("div",o)}catch{return Se("div",[])}}});const $l=Gt(Al,{TableColumn:ua}),Wl=mr(ua),ca=e=>(Ci("data-v-170f0e7f"),e=e(),Si(),e),jl={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",style:{display:"none"}},Hl=_i('<symbol id="wave" data-v-170f0e7f><path d="M420,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C514,6.5,518,4.7,528.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H420z" data-v-170f0e7f></path><path d="M420,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C326,6.5,322,4.7,311.5,2.7C304.3,1.4,293.6-0.1,280,0c0,0,0,0,0,0v20H420z" data-v-170f0e7f></path><path d="M140,20c21.5-0.4,38.8-2.5,51.1-4.5c13.4-2.2,26.5-5.2,27.3-5.4C234,6.5,238,4.7,248.5,2.7c7.1-1.3,17.9-2.8,31.5-2.7c0,0,0,0,0,0v20H140z" data-v-170f0e7f></path><path d="M140,20c-21.5-0.4-38.8-2.5-51.1-4.5c-13.4-2.2-26.5-5.2-27.3-5.4C46,6.5,42,4.7,31.5,2.7C24.3,1.4,13.6-0.1,0,0c0,0,0,0,0,0l0,20H140z" data-v-170f0e7f></path></symbol>',1),Vl=[Hl],Kl={class:"percent"},ql={class:"percentNum",id:"count"},Zl=ca(()=>oe("div",{class:"percentB"},"%",-1)),Gl={viewBox:"0 0 560 20",class:"water_wave water_wave_back"},Yl=["fill"],Xl={viewBox:"0 0 560 20",class:"water_wave water_wave_front"},Jl=["fill"],Ql={key:0,class:"celebration"},eu={key:0,class:"success-icon-wrapper"},tu=ca(()=>oe("div",{class:"success-icon"},"",-1)),nu=[tu],ru={__name:"ProgressCircle",props:{percent:{type:Number,default:0}},setup(e){const t=e,n=q(0),r=q(0),o=q(!1),i=q(!1),a=f=>{const p=r.value,d=300,m=Date.now(),y=()=>{const _=Date.now(),C=Math.min((_-m)/d,1),w=1-(1-C)**2;r.value=Math.floor(p+(f-p)*w),C<1?requestAnimationFrame(y):r.value=f};requestAnimationFrame(y)};We(()=>t.percent,f=>{const p=Math.min(Math.max(f,0),100);n.value=p,a(p),p>=100&&!i.value?(i.value=!0,setTimeout(()=>{o.value=!0},300)):p<100&&(o.value=!1,i.value=!1)});const s=re(()=>{const f=n.value;return f>=100?"#67c23a":f>=70?"#409eff":f>=40?"#e6a23c":"#f56c6c"}),l=re(()=>{const f=n.value;return f>=100?"#b3e19d":f>=70?"#79bbff":f>=40?"#f3d19e":"#fab6b6"}),u=re(()=>({transform:`translate(0, ${100-n.value}%)`,background:s.value})),c=re(()=>o.value?{boxShadow:`0 0 30px ${s.value}, 0 0 60px ${s.value}80`}:{}),h=re(()=>({"box-completed":o.value})),v=f=>{const d=30*f*Math.PI/180,m=120,y=Math.cos(d)*m,_=Math.sin(d)*m;return{"--x":`${y}px`,"--y":`${_}px`,animationDelay:`${f*.05}s`}};return Rt(()=>{n.value=t.percent,r.value=t.percent,t.percent>=100&&(o.value=!0,i.value=!0)}),(f,p)=>(le(),ve(dt,null,[(le(),ve("svg",jl,Vl)),oe("div",{class:we(["progress-wrapper",{completed:o.value}])},[oe("div",{class:we(["box",H(h)]),style:st(H(c))},[oe("div",Kl,[oe("div",ql,fe(r.value),1),Zl]),oe("div",{id:"water",class:"water",style:st(H(u))},[(le(),ve("svg",Gl,[oe("use",{"xlink:href":"#wave",fill:H(l)},null,8,Yl)])),(le(),ve("svg",Xl,[oe("use",{"xlink:href":"#wave",fill:H(s)},null,8,Jl)]))],4),o.value?(le(),ve("div",Ql,[(le(),ve(dt,null,Kt(12,d=>oe("div",{key:d,class:"particle",style:st(v(d))},null,4)),64))])):Ee("",!0)],6),o.value?(le(),ve("div",eu,nu)):Ee("",!0)],2)],64))}},su=zs(ru,[["__scopeId","data-v-170f0e7f"]]);class au{constructor(){this._listeners=new Map}on(t,n){if(typeof n!="function")throw new Error("Callback must be a function");return this._listeners.has(t)||this._listeners.set(t,[]),this._listeners.get(t).push(n),this}emit(t,n){const r=this._listeners.get(t);!r||!r.length||r.forEach(o=>{try{o(n)}catch(i){console.error(`Error in ${t} listener:`,i)}})}off(t,n){if(!n){this._listeners.delete(t);return}const r=this._listeners.get(t);if(!r)return;const o=r.indexOf(n);o!==-1&&r.splice(o,1),r.length===0&&this._listeners.delete(t)}clear(){this._listeners.clear()}}function yn(e,t){return e.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}const sn=Yt.global.t;class iu{constructor(t,n){this.config=t,this.emitter=n,this.nameSpace=new Set,this.cellStringCache=new Map}async loopGetRecordIdList(t,n=[],r){if(Array.isArray(this.config.selectedRecordIds)&&this.config.selectedRecordIds.length){const l=Array.from(new Set(this.config.selectedRecordIds));for(const u of l){const[c,h]=await yn(t.getRecordById(u));if(c){console.log(c);continue}h&&n.push({recordId:u,fields:h.fields||{}})}return n}const i={pageSize:200,viewId:this.config.viewId};r&&(i.pageToken=r);const[a,s]=await yn(t.getRecordsByPage(i));if(console.log("response",s),a)console.log(a);else{const{hasMore:l,records:u=[],pageToken:c}=s;n.push(...u),l&&c&&await this.loopGetRecordIdList(t,n,c)}return n}async getCellsList(t){const n=await this.loopGetRecordIdList(t);let r=[];for(const o of this.config.attachmentFileds)for(const i of n){let a=i.fields[o];const s=i.recordId;a?(a=a.map(l=>({...l,name:Wt(l.name),recordId:s,fieldId:o,path:"",fileUrl:""})),r.push(...a),this.emitter.emit("preding",a)):this.emitter.emit("preding")}return r=r.map((o,i)=>({...o,order:i+1})),r}async _getCellStringCached(t,n,r){const o=`${n}::${t}`;if(this.cellStringCache.has(o))return this.cellStringCache.get(o);const i=await r.getCellString(t,n);return this.cellStringCache.set(o,i),i}async _prefetchAllFieldData(t,n){const r=new Set;if(this.config.fileNameType===1&&Array.isArray(this.config.fileNameByField)&&this.config.fileNameByField.forEach(s=>r.add(s)),this._supportsFolderClassification()&&this.config.downloadTypeByFolders&&(this.config.firstFolderKey&&r.add(this.config.firstFolderKey),this.config.secondFolderKey&&r.add(this.config.secondFolderKey)),r.size===0)return;const o=[...new Set(t.map(s=>s.recordId))],i=30,a=[];for(const s of o)for(const l of r){const u=`${s}::${l}`;this.cellStringCache.has(u)||a.push({recordId:s,fieldId:l})}for(let s=0;s<a.length;s+=i){const l=a.slice(s,s+i);await Promise.all(l.map(async({recordId:u,fieldId:c})=>{try{const h=await n.getCellString(c,u),v=`${u}::${c}`;this.cellStringCache.set(v,h)}catch(h){console.warn(`: recordId=${u}, fieldId=${c}`,h),this.cellStringCache.set(`${u}::${c}`,"")}}))}console.log(` : ${a.length} : ${i}`)}_supportsFolderClassification(){return this.config.downloadChannel==="websocket"||this.config.downloadChannel==="websocket_auth"||this.config.downloadType===1}async _ensureFolderPathReady(t,n){if(!t||t.__folderPathReady)return;if(!this._supportsFolderClassification()||!this.config.downloadTypeByFolders){t.path=t.path||"",t.__folderPathReady=!0;return}const r=async i=>{const a=i===this.config.firstFolderKey&&this.config.firstFolderMultiSelectMark;let s;if(a)try{s=await n.getCellValue(i,t.recordId)}catch(u){console.warn(`: fieldId=${i}, recordId=${t.recordId}`,u),s=await this._getCellStringCached(i,t.recordId,n)}else s=await this._getCellStringCached(i,t.recordId,n);const l=a?this.config.firstFolderMultiSelectMark:null;return Wt(Br(s,l))||sn("uncategorized")};let o="";this.config.firstFolderKey&&(o+=`${await r(this.config.firstFolderKey)}/`),this.config.secondFolderKey&&(o+=`${await r(this.config.secondFolderKey)}/`),t.path=o,t.__folderPathReady=!0}async _ensureCustomFileNameReady(t,n){if(!t||t.__customNameReady)return;if(this.config.fileNameType!==1){t.__customNameReady=!0;return}const r=Array.isArray(this.config.fileNameByField)?this.config.fileNameByField:[];if(!r.length){t.__customNameReady=!0;return}const i=(await Promise.all(r.map(s=>this._getCellStringCached(s,t.recordId,n)))).filter(s=>s).join(this.config.nameMark),a=Lr(t.name,i,sn("undefined"));t.name=Wt(a),t.__customNameReady=!0}getUniqueFileName(t,n){const r=t.substring(t.lastIndexOf(".")),o=t.substring(0,t.lastIndexOf("."));let i=1;for(;this.nameSpace.has(n+t);)t=`${o}_${i}${r}`,i++;return this.nameSpace.add(n+t),t}_prepareUniqueFileName(t){!t||t.__uniqueNameReady||(t.name=this.getUniqueFileName(t.name,t.path),t.__uniqueNameReady=!0)}async prepareFileInfoForDownload(t,n){t&&(await this._ensureFolderPathReady(t,n),await this._ensureCustomFileNameReady(t,n),this._prepareUniqueFileName(t))}async batchPrepareAllFiles(t,n){if(this.config.fileNameType===1){const r=Array.isArray(this.config.fileNameByField)?this.config.fileNameByField:[],o=async(l,u)=>(await Promise.all(u.map(h=>this._getCellStringCached(h,l.recordId,n)))).filter(h=>h).join(this.config.nameMark),i=(l,u)=>{const c=Lr(l.name,u,sn("undefined"));l.name=Wt(c),l.__customNameReady=!0},a=t.map(l=>o(l,r));(await Promise.all(a)).forEach((l,u)=>{i(t[u],l)})}if(this._supportsFolderClassification()&&this.config.downloadTypeByFolders){const r=async(i,a)=>{const s=i===this.config.firstFolderKey&&this.config.firstFolderMultiSelectMark;let l;if(s)try{l=await n.getCellValue(i,a)}catch(c){console.warn(`: fieldId=${i}, recordId=${a}`,c),l=await this._getCellStringCached(i,a,n)}else l=await this._getCellStringCached(i,a,n);const u=s?this.config.firstFolderMultiSelectMark:null;return Wt(Br(l,u))||sn("uncategorized")},o=async(i,a,s)=>{let l="";a&&(l+=`${await r(a,i.recordId)}/`),s&&(l+=`${await r(s,i.recordId)}/`),i.path=l,i.__folderPathReady=!0};await Promise.all(t.map(i=>o(i,this.config.firstFolderKey,this.config.secondFolderKey)))}for(const r of t)this._prepareUniqueFileName(r)}clearCache(){this.nameSpace.clear(),this.cellStringCache.clear()}}var fn={exports:{}},ou=fn.exports,Hr;function lu(){return Hr||(Hr=1,(function(e,t){(function(n,r){r()})(ou,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,h){var v=new XMLHttpRequest;v.open("GET",u),v.responseType="blob",v.onload=function(){l(v.response,c,h)},v.onerror=function(){console.error("could not download file")},v.send()}function o(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof mt=="object"&&mt.global===mt?mt:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,c,h){var v=a.URL||a.webkitURL,f=document.createElement("a");c=c||u.name||"download",f.download=c,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?i(f):o(f.href)?r(u,c,h):i(f,f.target="_blank")):(f.href=v.createObjectURL(u),setTimeout(function(){v.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),c);else if(o(u))r(u,c,h);else{var v=document.createElement("a");v.href=u,v.target="_blank",setTimeout(function(){i(v)})}}:function(u,c,h,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,h);var f=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||f&&p||s)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var C=m.result;C=d?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=C:location=C,v=null},m.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,_=y.createObjectURL(u);v?v.location=_:location.href=_,v=null,setTimeout(function(){y.revokeObjectURL(_)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(fn)),fn.exports}var uu=lu();function an(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var In={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Vr;function cu(){return Vr||(Vr=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,o,i){function a(u,c){if(!o[u]){if(!r[u]){var h=typeof an=="function"&&an;if(!c&&h)return h(u,!0);if(s)return s(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var f=o[u]={exports:{}};r[u][0].call(f.exports,function(p){var d=r[u][1][p];return a(d||p)},f,f.exports,n,r,o,i)}return o[u].exports}for(var s=typeof an=="function"&&an,l=0;l<i.length;l++)a(i[l]);return a})({1:[function(n,r,o){var i=n("./utils"),a=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(l){for(var u,c,h,v,f,p,d,m=[],y=0,_=l.length,C=_,w=i.getTypeOf(l)!=="string";y<l.length;)C=_-y,h=w?(u=l[y++],c=y<_?l[y++]:0,y<_?l[y++]:0):(u=l.charCodeAt(y++),c=y<_?l.charCodeAt(y++):0,y<_?l.charCodeAt(y++):0),v=u>>2,f=(3&u)<<4|c>>4,p=1<C?(15&c)<<2|h>>6:64,d=2<C?63&h:64,m.push(s.charAt(v)+s.charAt(f)+s.charAt(p)+s.charAt(d));return m.join("")},o.decode=function(l){var u,c,h,v,f,p,d=0,m=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,C=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&C--,l.charAt(l.length-2)===s.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|C):new Array(0|C);d<l.length;)u=s.indexOf(l.charAt(d++))<<2|(v=s.indexOf(l.charAt(d++)))>>4,c=(15&v)<<4|(f=s.indexOf(l.charAt(d++)))>>2,h=(3&f)<<6|(p=s.indexOf(l.charAt(d++))),_[m++]=u,f!==64&&(_[m++]=c),p!==64&&(_[m++]=h);return _}},{"./support":30,"./utils":32}],2:[function(n,r,o){var i=n("./external"),a=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,v,f,p){this.compressedSize=c,this.uncompressedSize=h,this.crc32=v,this.compression=f,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,v){return c.pipe(new s).pipe(new l("uncompressedSize")).pipe(h.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var i=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var i=n("./utils"),a=(function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l})();r.exports=function(s,l){return s!==void 0&&s.length?i.getTypeOf(s)!=="string"?(function(u,c,h,v){var f=a,p=v+h;u^=-1;for(var d=v;d<p;d++)u=u>>>8^f[255&(u^c[d])];return-1^u})(0|l,s,s.length,0):(function(u,c,h,v){var f=a,p=v+h;u^=-1;for(var d=v;d<p;d++)u=u>>>8^f[255&(u^c.charCodeAt(d))];return-1^u})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),s=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function c(h,v){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=v,this.meta={}}o.magic="\b\0",s.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(v){h.push({data:v,meta:h.meta})}},o.compressWorker=function(h){return new c("Deflate",h)},o.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function i(f,p){var d,m="";for(d=0;d<p;d++)m+=String.fromCharCode(255&f),f>>>=8;return m}function a(f,p,d,m,y,_){var C,w,S=f.file,T=f.compression,R=_!==u.utf8encode,F=s.transformTo("string",_(S.name)),O=s.transformTo("string",u.utf8encode(S.name)),I=S.comment,Z=s.transformTo("string",_(I)),E=s.transformTo("string",u.utf8encode(I)),B=O.length!==S.name.length,b=E.length!==I.length,U="",ee="",L="",G=S.dir,$=S.date,j={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(j.crc32=f.crc32,j.compressedSize=f.compressedSize,j.uncompressedSize=f.uncompressedSize);var N=0;p&&(N|=8),R||!B&&!b||(N|=2048);var z=0,ne=0;G&&(z|=16),y==="UNIX"?(ne=798,z|=(function(Y,pe){var Te=Y;return Y||(Te=pe?16893:33204),(65535&Te)<<16})(S.unixPermissions,G)):(ne=20,z|=(function(Y){return 63&(Y||0)})(S.dosPermissions)),C=$.getUTCHours(),C<<=6,C|=$.getUTCMinutes(),C<<=5,C|=$.getUTCSeconds()/2,w=$.getUTCFullYear()-1980,w<<=4,w|=$.getUTCMonth()+1,w<<=5,w|=$.getUTCDate(),B&&(ee=i(1,1)+i(c(F),4)+O,U+="up"+i(ee.length,2)+ee),b&&(L=i(1,1)+i(c(Z),4)+E,U+="uc"+i(L.length,2)+L);var X="";return X+=`
\0`,X+=i(N,2),X+=T.magic,X+=i(C,2),X+=i(w,2),X+=i(j.crc32,4),X+=i(j.compressedSize,4),X+=i(j.uncompressedSize,4),X+=i(F.length,2),X+=i(U.length,2),{fileRecord:h.LOCAL_FILE_HEADER+X+F+U,dirRecord:h.CENTRAL_FILE_HEADER+i(ne,2)+X+i(Z.length,2)+"\0\0\0\0"+i(z,4)+i(m,4)+F+U+Z}}var s=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function v(f,p,d,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(v,l),v.prototype.push=function(f){var p=f.meta.percent||0,d=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-m-1))/d:100}}))},v.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var d=a(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,d=a(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:(function(m){return h.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-f,m=(function(y,_,C,w,S){var T=s.transformTo("string",S(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(_,4)+i(C,4)+i(T.length,2)+T})(this.dirRecords.length,d,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(d){p.processChunk(d)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(d){p.error(d)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var d=0;d<p.length;d++)try{p[d].error(f)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var i=n("../compressions"),a=n("./ZipFileWorker");o.generateWorker=function(s,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{s.forEach(function(v,f){h++;var p=(function(_,C){var w=_||C,S=i[w];if(!S)throw new Error(w+" is not a valid compression method !");return S})(f.options.compression,l.compression),d=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,y=f.date;f._compressWorker(p,d).withStreamInfo("file",{name:v,dir:m,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(v){c.error(v)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,s){return new i().loadAsync(a,s)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var i=n("./utils"),a=n("./external"),s=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(v){return new a.Promise(function(f,p){var d=v.decompressed.getContentWorker().pipe(new u);d.on("error",function(m){p(m)}).on("end",function(){d.streamInfo.crc32!==v.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(v,f){var p=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(v)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,f.optimizedBinaryString,f.base64).then(function(d){var m=new l(f);return m.load(d),m}).then(function(d){var m=[a.Promise.resolve(d)],y=d.files;if(f.checkCRC32)for(var _=0;_<y.length;_++)m.push(h(y[_]));return a.Promise.all(m)}).then(function(d){for(var m=d.shift(),y=m.files,_=0;_<y.length;_++){var C=y[_],w=C.fileNameStr,S=i.resolve(C.fileNameStr);p.file(S,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:f.createFolders}),C.dir||(p.file(S).unsafeOriginalName=w)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var i=n("../utils"),a=n("../stream/GenericWorker");function s(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(s,a),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var i=n("readable-stream").Readable;function a(s,l,u){i.call(this,l),this._helper=s;var c=this;s.on("data",function(h,v){c.push(h)||c._helper.pause(),u&&u(v)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,o){function i(S,T,R){var F,O=s.getTypeOf(T),I=s.extend(R||{},c);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(S=y(S)),I.createFolders&&(F=m(S))&&_.call(this,F,!0);var Z=O==="string"&&I.binary===!1&&I.base64===!1;R&&R.binary!==void 0||(I.binary=!Z),(T instanceof h&&T.uncompressedSize===0||I.dir||!T||T.length===0)&&(I.base64=!1,I.binary=!0,T="",I.compression="STORE",O="string");var E=null;E=T instanceof h||T instanceof l?T:p.isNode&&p.isStream(T)?new d(S,T):s.prepareContent(S,T,I.binary,I.optimizedBinaryString,I.base64);var B=new v(S,E,I);this.files[S]=B}var a=n("./utf8"),s=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),v=n("./zipObject"),f=n("./generate"),p=n("./nodejsUtils"),d=n("./nodejs/NodejsStreamInputAdapter"),m=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,T){return T=T!==void 0?T:c.createFolders,S=y(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function C(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,R,F;for(T in this.files)F=this.files[T],(R=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(R,F)},filter:function(S){var T=[];return this.forEach(function(R,F){S(R,F)&&T.push(F)}),T},file:function(S,T,R){if(arguments.length!==1)return S=this.root+S,i.call(this,S,T,R),this;if(C(S)){var F=S;return this.filter(function(I,Z){return!Z.dir&&F.test(I)})}var O=this.files[this.root+S];return O&&!O.dir?O:null},folder:function(S){if(!S)return this;if(C(S))return this.filter(function(O,I){return I.dir&&S.test(O)});var T=this.root+S,R=_.call(this,T),F=this.clone();return F.root=R.name,F},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var R=this.filter(function(O,I){return I.name.slice(0,S.length)===S}),F=0;F<R.length;F++)delete this.files[R[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,R={};try{if((R=s.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");s.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var F=R.comment||this.comment||"";T=f.generateWorker(this,R,F)}catch(O){(T=new l("error")).error(O)}return new u(T,R.type||"string",R.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var i=n("./DataReader");function a(s){i.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}n("../utils").inherits(a,i),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),h=s.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===u&&this.data[v+2]===c&&this.data[v+3]===h)return v-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),h=s.charCodeAt(3),v=this.readData(4);return l===v[0]&&u===v[1]&&c===v[2]&&h===v[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var i=n("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return i.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,o){var i=n("./Uint8ArrayReader");function a(s){i.call(this,s)}n("../utils").inherits(a,i),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var i=n("./DataReader");function a(s){i.call(this,s)}n("../utils").inherits(a,i),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var i=n("./ArrayReader");function a(s){i.call(this,s)}n("../utils").inherits(a,i),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var i=n("../utils"),a=n("../support"),s=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var v=i.getTypeOf(h);return i.checkSupport(v),v!=="string"||a.uint8array?v==="nodebuffer"?new u(h):a.uint8array?new c(i.transformTo("uint8array",h)):new s(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var i=n("./GenericWorker"),a=n("../utils");function s(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,i),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var i=n("./GenericWorker"),a=n("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,i),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var i=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(s,a),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var i=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=i.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}i.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=i},{}],29:[function(n,r,o){var i=n("../utils"),a=n("./ConvertWorker"),s=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(p,d){return new c.Promise(function(m,y){var _=[],C=p._internalType,w=p._outputType,S=p._mimeType;p.on("data",function(T,R){_.push(T),d&&d(R)}).on("error",function(T){_=[],y(T)}).on("end",function(){try{var T=(function(R,F,O){switch(R){case"blob":return i.newBlob(i.transformTo("arraybuffer",F),O);case"base64":return l.encode(F);default:return i.transformTo(R,F)}})(w,(function(R,F){var O,I=0,Z=null,E=0;for(O=0;O<F.length;O++)E+=F[O].length;switch(R){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(Z=new Uint8Array(E),O=0;O<F.length;O++)Z.set(F[O],I),I+=F[O].length;return Z;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+R+"'")}})(C,_),S);m(T)}catch(R){y(R)}_=[]}).resume()})}function f(p,d,m){var y=d;switch(d){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=d,this._mimeType=m,i.checkSupport(y),this._worker=p.pipe(new a(y)),p.lock()}catch(_){this._worker=new s("error"),this._worker.error(_)}}f.prototype={accumulate:function(p){return v(this,p)},on:function(p,d){var m=this;return p==="data"?this._worker.on(p,function(y){d.call(m,y.data,y.meta)}):this._worker.on(p,function(){i.delay(d,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var i=n("./utils"),a=n("./support"),s=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}o.utf8encode=function(f){return a.nodebuffer?s.newBufferFrom(f,"utf-8"):(function(p){var d,m,y,_,C,w=p.length,S=0;for(_=0;_<w;_++)(64512&(m=p.charCodeAt(_)))==55296&&_+1<w&&(64512&(y=p.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),_++),S+=m<128?1:m<2048?2:m<65536?3:4;for(d=a.uint8array?new Uint8Array(S):new Array(S),_=C=0;C<S;_++)(64512&(m=p.charCodeAt(_)))==55296&&_+1<w&&(64512&(y=p.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),_++),m<128?d[C++]=m:(m<2048?d[C++]=192|m>>>6:(m<65536?d[C++]=224|m>>>12:(d[C++]=240|m>>>18,d[C++]=128|m>>>12&63),d[C++]=128|m>>>6&63),d[C++]=128|63&m);return d})(f)},o.utf8decode=function(f){return a.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):(function(p){var d,m,y,_,C=p.length,w=new Array(2*C);for(d=m=0;d<C;)if((y=p[d++])<128)w[m++]=y;else if(4<(_=u[y]))w[m++]=65533,d+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&d<C;)y=y<<6|63&p[d++],_--;1<_?w[m++]=65533:y<65536?w[m++]=y:(y-=65536,w[m++]=55296|y>>10&1023,w[m++]=56320|1023&y)}return w.length!==m&&(w.subarray?w=w.subarray(0,m):w.length=m),i.applyFromCharCode(w)})(f=i.transformTo(a.uint8array?"uint8array":"array",f))},i.inherits(h,l),h.prototype.processChunk=function(f){var p=i.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=(function(_,C){var w;for((C=C||_.length)>_.length&&(C=_.length),w=C-1;0<=w&&(192&_[w])==128;)w--;return w<0||w===0?C:w+u[_[w]]>C?w:C})(p),y=p;m!==p.length&&(a.uint8array?(y=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(y=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:o.utf8decode(y),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,i.inherits(v,l),v.prototype.processChunk=function(f){this.push({data:o.utf8encode(f.data),meta:f.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var i=n("./support"),a=n("./base64"),s=n("./nodejsUtils"),l=n("./external");function u(d){return d}function c(d,m){for(var y=0;y<d.length;++y)m[y]=255&d.charCodeAt(y);return m}n("setimmediate"),o.newBlob=function(d,m){o.checkSupport("blob");try{return new Blob([d],{type:m})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(d),y.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(d,m,y){var _=[],C=0,w=d.length;if(w<=y)return String.fromCharCode.apply(null,d);for(;C<w;)m==="array"||m==="nodebuffer"?_.push(String.fromCharCode.apply(null,d.slice(C,Math.min(C+y,w)))):_.push(String.fromCharCode.apply(null,d.subarray(C,Math.min(C+y,w)))),C+=y;return _.join("")},stringifyByChar:function(d){for(var m="",y=0;y<d.length;y++)m+=String.fromCharCode(d[y]);return m},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function v(d){var m=65536,y=o.getTypeOf(d),_=!0;if(y==="uint8array"?_=h.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=h.applyCanBeUsed.nodebuffer),_)for(;1<m;)try{return h.stringifyByChunk(d,y,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(d)}function f(d,m){for(var y=0;y<d.length;y++)m[y]=d[y];return m}o.applyFromCharCode=v;var p={};p.string={string:u,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:function(d){return c(d,s.allocBuffer(d.length))}},p.array={string:v,array:u,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(d)}},p.arraybuffer={string:function(d){return v(new Uint8Array(d))},array:function(d){return f(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:u,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:v,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:u,nodebuffer:function(d){return s.newBufferFrom(d)}},p.nodebuffer={string:v,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return f(d,new Uint8Array(d.length))},nodebuffer:u},o.transformTo=function(d,m){if(m=m||"",!d)return m;o.checkSupport(d);var y=o.getTypeOf(m);return p[y][d](m)},o.resolve=function(d){for(var m=d.split("/"),y=[],_=0;_<m.length;_++){var C=m[_];C==="."||C===""&&_!==0&&_!==m.length-1||(C===".."?y.pop():y.push(C))}return y.join("/")},o.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":i.nodebuffer&&s.isBuffer(d)?"nodebuffer":i.uint8array&&d instanceof Uint8Array?"uint8array":i.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(d){if(!i[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(d){var m,y,_="";for(y=0;y<(d||"").length;y++)_+="\\x"+((m=d.charCodeAt(y))<16?"0":"")+m.toString(16).toUpperCase();return _},o.delay=function(d,m,y){setImmediate(function(){d.apply(y||null,m||[])})},o.inherits=function(d,m){function y(){}y.prototype=m.prototype,d.prototype=new y},o.extend=function(){var d,m,y={};for(d=0;d<arguments.length;d++)for(m in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],m)&&y[m]===void 0&&(y[m]=arguments[d][m]);return y},o.prepareContent=function(d,m,y,_,C){return l.Promise.resolve(m).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,T){var R=new FileReader;R.onload=function(F){S(F.target.result)},R.onerror=function(F){T(F.target.error)},R.readAsArrayBuffer(w)}):w}).then(function(w){var S=o.getTypeOf(w);return S?(S==="arraybuffer"?w=o.transformTo("uint8array",w):S==="string"&&(C?w=a.decode(w):y&&_!==!0&&(w=(function(T){return c(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))})(w))),w):l.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var i=n("./reader/readerFor"),a=n("./utils"),s=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(v)+", expected "+a.pretty(h)+")")}},isSignature:function(h,v){var f=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===v;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),v=u.uint8array?"uint8array":"array",f=a.transformTo(v,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,v,f,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),v=this.reader.readInt(4),f=this.reader.readData(v),this.zip64ExtensibleData[h]={id:h,length:v,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,v;for(h=0;h<this.files.length;h++)v=this.files[h],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var v=h;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=v-f;if(0<p)this.isSignature(v,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var i=n("./reader/readerFor"),a=n("./utils"),s=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function v(f,p){this.options=f,this.loadOptions=p}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,d;if(f.skip(22),this.fileNameLength=f.readInt(2),d=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(m){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===m)return c[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,d,m,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)p=f.readInt(2),d=f.readInt(2),m=f.readData(d),this.extraFields[p]={id:p,length:d,value:m};f.setIndex(y)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var y=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=i(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=i(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function i(p,d,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=d,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(p){var d=null,m="string";try{if(!p)throw new Error("No output type specified.");var y=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),d=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(d=d.pipe(new l.Utf8EncodeWorker)),!_&&y&&(d=d.pipe(new l.Utf8DecodeWorker))}catch(C){(d=new c("error")).error(C)}return new a(d,m,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,p,d)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=v;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(i){var a,s,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,c=new l(p),h=i.document.createTextNode("");c.observe(h,{characterData:!0}),a=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var d=i.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},i.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var v=new i.MessageChannel;v.port1.onmessage=p,a=function(){v.port2.postMessage(0)}}var f=[];function p(){var d,m;s=!0;for(var y=f.length;y;){for(m=f,f=[],d=-1;++d<y;)m[d]();y=f.length}s=!1}r.exports=function(d){f.push(d)!==1||s||a()}}).call(this,typeof mt<"u"?mt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var i=n("immediate");function a(){}var s={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==a&&d(this,y)}function v(y,_,C){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function f(y,_,C){i(function(){var w;try{w=_(C)}catch(S){return s.reject(y,S)}w===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,w)})}function p(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function d(y,_){var C=!1;function w(R){C||(C=!0,s.reject(y,R))}function S(R){C||(C=!0,s.resolve(y,R))}var T=m(function(){_(S,w)});T.status==="error"&&w(T.value)}function m(y,_){var C={};try{C.value=y(_),C.status="success"}catch(w){C.status="error",C.value=w}return C}(r.exports=h).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(C){return _.resolve(y()).then(function(){return C})},function(C){return _.resolve(y()).then(function(){throw C})})},h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,_){if(typeof y!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var C=new this.constructor(a);return this.state!==c?f(C,this.state===u?y:_,this.outcome):this.queue.push(new v(C,y,_)),C},v.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},v.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},v.prototype.callRejected=function(y){s.reject(this.promise,y)},v.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},s.resolve=function(y,_){var C=m(p,_);if(C.status==="error")return s.reject(y,C.value);var w=C.value;if(w)d(y,w);else{y.state=u,y.outcome=_;for(var S=-1,T=y.queue.length;++S<T;)y.queue[S].callFulfilled(_)}return y},s.reject=function(y,_){y.state=l,y.outcome=_;for(var C=-1,w=y.queue.length;++C<w;)y.queue[C].callRejected(_);return y},h.resolve=function(y){return y instanceof this?y:s.resolve(new this(a),y)},h.reject=function(y){var _=new this(a);return s.reject(_,y)},h.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,w=!1;if(!C)return this.resolve([]);for(var S=new Array(C),T=0,R=-1,F=new this(a);++R<C;)O(y[R],R);return F;function O(I,Z){_.resolve(I).then(function(E){S[Z]=E,++T!==C||w||(w=!0,s.resolve(F,S))},function(E){w||(w=!0,s.reject(F,E))})}},h.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,w=!1;if(!C)return this.resolve([]);for(var S=-1,T=new this(a);++S<C;)R=y[S],_.resolve(R).then(function(F){w||(w=!0,s.resolve(T,F))},function(F){w||(w=!0,s.reject(T,F))});var R;return T}},{immediate:36}],38:[function(n,r,o){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var i=n("./zlib/deflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,v=-1,f=0,p=8;function d(y){if(!(this instanceof d))return new d(y);this.options=a.assign({level:v,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var C=i.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(C!==h)throw new Error(l[C]);if(_.header&&i.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?s.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(C=i.deflateSetDictionary(this.strm,w))!==h)throw new Error(l[C]);this._dict_set=!0}}function m(y,_){var C=new d(_);if(C.push(y,!0),C.err)throw C.msg||l[C.err];return C.result}d.prototype.push=function(y,_){var C,w,S=this.strm,T=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof y=="string"?S.input=s.string2buf(y):c.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(T),S.next_out=0,S.avail_out=T),(C=i.deflate(S,w))!==1&&C!==h)return this.onEnd(C),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&C!==1);return w===4?(C=i.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h):w!==2||(this.onEnd(h),!(S.avail_out=0))},d.prototype.onData=function(y){this.chunks.push(y)},d.prototype.onEnd=function(y){y===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},o.Deflate=d,o.deflate=m,o.deflateRaw=function(y,_){return(_=_||{}).raw=!0,m(y,_)},o.gzip=function(y,_){return(_=_||{}).gzip=!0,m(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var i=n("./zlib/inflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),v=Object.prototype.toString;function f(d){if(!(this instanceof f))return new f(d);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},d||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||d&&d.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,m.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function p(d,m){var y=new f(m);if(y.push(d,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(d,m){var y,_,C,w,S,T,R=this.strm,F=this.options.chunkSize,O=this.options.dictionary,I=!1;if(this.ended)return!1;_=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof d=="string"?R.input=s.binstring2buf(d):v.call(d)==="[object ArrayBuffer]"?R.input=new Uint8Array(d):R.input=d,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(F),R.next_out=0,R.avail_out=F),(y=i.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(T=typeof O=="string"?s.string2buf(O):v.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,y=i.inflateSetDictionary(this.strm,T)),y===l.Z_BUF_ERROR&&I===!0&&(y=l.Z_OK,I=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&y!==l.Z_STREAM_END&&(R.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=s.utf8border(R.output,R.next_out),w=R.next_out-C,S=s.buf2string(R.output,C),R.next_out=w,R.avail_out=F-w,w&&a.arraySet(R.output,R.output,C,w,0),this.onData(S)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(I=!0)}while((0<R.avail_in||R.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},o.Inflate=f,o.inflate=p,o.inflateRaw=function(d,m){return(m=m||{}).raw=!0,p(d,m)},o.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},o.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,h,v){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),v);else for(var f=0;f<h;f++)l[v+f]=u[c+f]},flattenChunks:function(l){var u,c,h,v,f,p;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(p=new Uint8Array(h),u=v=0,c=l.length;u<c;u++)f=l[u],p.set(f,v),v+=f.length;return p}},s={arraySet:function(l,u,c,h,v){for(var f=0;f<h;f++)l[v+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};o.setTyped=function(l){l?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,s))},o.setTyped(i)},{}],42:[function(n,r,o){var i=n("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,v){if(v<65537&&(h.subarray&&s||!h.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(h,v));for(var f="",p=0;p<v;p++)f+=String.fromCharCode(h[p]);return f}l[254]=l[254]=1,o.string2buf=function(h){var v,f,p,d,m,y=h.length,_=0;for(d=0;d<y;d++)(64512&(f=h.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=h.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),_+=f<128?1:f<2048?2:f<65536?3:4;for(v=new i.Buf8(_),d=m=0;m<_;d++)(64512&(f=h.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=h.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),f<128?v[m++]=f:(f<2048?v[m++]=192|f>>>6:(f<65536?v[m++]=224|f>>>12:(v[m++]=240|f>>>18,v[m++]=128|f>>>12&63),v[m++]=128|f>>>6&63),v[m++]=128|63&f);return v},o.buf2binstring=function(h){return c(h,h.length)},o.binstring2buf=function(h){for(var v=new i.Buf8(h.length),f=0,p=v.length;f<p;f++)v[f]=h.charCodeAt(f);return v},o.buf2string=function(h,v){var f,p,d,m,y=v||h.length,_=new Array(2*y);for(f=p=0;f<y;)if((d=h[f++])<128)_[p++]=d;else if(4<(m=l[d]))_[p++]=65533,f+=m-1;else{for(d&=m===2?31:m===3?15:7;1<m&&f<y;)d=d<<6|63&h[f++],m--;1<m?_[p++]=65533:d<65536?_[p++]=d:(d-=65536,_[p++]=55296|d>>10&1023,_[p++]=56320|1023&d)}return c(_,p)},o.utf8border=function(h,v){var f;for((v=v||h.length)>h.length&&(v=h.length),f=v-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?v:f+l[h[f]]>v?f:v}},{"./common":41}],43:[function(n,r,o){r.exports=function(i,a,s,l){for(var u=65535&i|0,c=i>>>16&65535|0,h=0;s!==0;){for(s-=h=2e3<s?2e3:s;c=c+(u=u+a[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var i=(function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s})();r.exports=function(a,s,l,u){var c=i,h=u+l;a^=-1;for(var v=u;v<h;v++)a=a>>>8^c[255&(a^s[v])];return-1^a}},{}],46:[function(n,r,o){var i,a=n("../utils/common"),s=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,v=4,f=0,p=-2,d=-1,m=4,y=2,_=8,C=9,w=286,S=30,T=19,R=2*w+1,F=15,O=3,I=258,Z=I+O+1,E=42,B=113,b=1,U=2,ee=3,L=4;function G(g,W){return g.msg=c[W],W}function $(g){return(g<<1)-(4<g?9:0)}function j(g){for(var W=g.length;0<=--W;)g[W]=0}function N(g){var W=g.state,D=W.pending;D>g.avail_out&&(D=g.avail_out),D!==0&&(a.arraySet(g.output,W.pending_buf,W.pending_out,D,g.next_out),g.next_out+=D,W.pending_out+=D,g.total_out+=D,g.avail_out-=D,W.pending-=D,W.pending===0&&(W.pending_out=0))}function z(g,W){s._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,W),g.block_start=g.strstart,N(g.strm)}function ne(g,W){g.pending_buf[g.pending++]=W}function X(g,W){g.pending_buf[g.pending++]=W>>>8&255,g.pending_buf[g.pending++]=255&W}function Y(g,W){var D,x,k=g.max_chain_length,A=g.strstart,V=g.prev_length,K=g.nice_match,P=g.strstart>g.w_size-Z?g.strstart-(g.w_size-Z):0,J=g.window,ie=g.w_mask,Q=g.prev,ce=g.strstart+I,Ae=J[A+V-1],ke=J[A+V];g.prev_length>=g.good_match&&(k>>=2),K>g.lookahead&&(K=g.lookahead);do if(J[(D=W)+V]===ke&&J[D+V-1]===Ae&&J[D]===J[A]&&J[++D]===J[A+1]){A+=2,D++;do;while(J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&J[++A]===J[++D]&&A<ce);if(x=I-(ce-A),A=ce-I,V<x){if(g.match_start=W,K<=(V=x))break;Ae=J[A+V-1],ke=J[A+V]}}while((W=Q[W&ie])>P&&--k!=0);return V<=g.lookahead?V:g.lookahead}function pe(g){var W,D,x,k,A,V,K,P,J,ie,Q=g.w_size;do{if(k=g.window_size-g.lookahead-g.strstart,g.strstart>=Q+(Q-Z)){for(a.arraySet(g.window,g.window,Q,Q,0),g.match_start-=Q,g.strstart-=Q,g.block_start-=Q,W=D=g.hash_size;x=g.head[--W],g.head[W]=Q<=x?x-Q:0,--D;);for(W=D=Q;x=g.prev[--W],g.prev[W]=Q<=x?x-Q:0,--D;);k+=Q}if(g.strm.avail_in===0)break;if(V=g.strm,K=g.window,P=g.strstart+g.lookahead,J=k,ie=void 0,ie=V.avail_in,J<ie&&(ie=J),D=ie===0?0:(V.avail_in-=ie,a.arraySet(K,V.input,V.next_in,ie,P),V.state.wrap===1?V.adler=l(V.adler,K,ie,P):V.state.wrap===2&&(V.adler=u(V.adler,K,ie,P)),V.next_in+=ie,V.total_in+=ie,ie),g.lookahead+=D,g.lookahead+g.insert>=O)for(A=g.strstart-g.insert,g.ins_h=g.window[A],g.ins_h=(g.ins_h<<g.hash_shift^g.window[A+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[A+O-1])&g.hash_mask,g.prev[A&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=A,A++,g.insert--,!(g.lookahead+g.insert<O)););}while(g.lookahead<Z&&g.strm.avail_in!==0)}function Te(g,W){for(var D,x;;){if(g.lookahead<Z){if(pe(g),g.lookahead<Z&&W===h)return b;if(g.lookahead===0)break}if(D=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),D!==0&&g.strstart-D<=g.w_size-Z&&(g.match_length=Y(g,D)),g.match_length>=O)if(x=s._tr_tally(g,g.strstart-g.match_start,g.match_length-O),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=O){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else x=s._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(x&&(z(g,!1),g.strm.avail_out===0))return b}return g.insert=g.strstart<O-1?g.strstart:O-1,W===v?(z(g,!0),g.strm.avail_out===0?ee:L):g.last_lit&&(z(g,!1),g.strm.avail_out===0)?b:U}function de(g,W){for(var D,x,k;;){if(g.lookahead<Z){if(pe(g),g.lookahead<Z&&W===h)return b;if(g.lookahead===0)break}if(D=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=O-1,D!==0&&g.prev_length<g.max_lazy_match&&g.strstart-D<=g.w_size-Z&&(g.match_length=Y(g,D),g.match_length<=5&&(g.strategy===1||g.match_length===O&&4096<g.strstart-g.match_start)&&(g.match_length=O-1)),g.prev_length>=O&&g.match_length<=g.prev_length){for(k=g.strstart+g.lookahead-O,x=s._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-O),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=k&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=O-1,g.strstart++,x&&(z(g,!1),g.strm.avail_out===0))return b}else if(g.match_available){if((x=s._tr_tally(g,0,g.window[g.strstart-1]))&&z(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return b}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(x=s._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<O-1?g.strstart:O-1,W===v?(z(g,!0),g.strm.avail_out===0?ee:L):g.last_lit&&(z(g,!1),g.strm.avail_out===0)?b:U}function he(g,W,D,x,k){this.good_length=g,this.max_lazy=W,this.nice_length=D,this.max_chain=x,this.func=k}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*T+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(F+1),this.heap=new a.Buf16(2*w+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(g){var W;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=y,(W=g.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?E:B,g.adler=W.wrap===2?0:1,W.last_flush=h,s._tr_init(W),f):G(g,p)}function me(g){var W=se(g);return W===f&&(function(D){D.window_size=2*D.w_size,j(D.head),D.max_lazy_match=i[D.level].max_lazy,D.good_match=i[D.level].good_length,D.nice_match=i[D.level].nice_length,D.max_chain_length=i[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=O-1,D.match_available=0,D.ins_h=0})(g.state),W}function Re(g,W,D,x,k,A){if(!g)return p;var V=1;if(W===d&&(W=6),x<0?(V=0,x=-x):15<x&&(V=2,x-=16),k<1||C<k||D!==_||x<8||15<x||W<0||9<W||A<0||m<A)return G(g,p);x===8&&(x=9);var K=new te;return(g.state=K).strm=g,K.wrap=V,K.gzhead=null,K.w_bits=x,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=k+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+O-1)/O),K.window=new a.Buf8(2*K.w_size),K.head=new a.Buf16(K.hash_size),K.prev=new a.Buf16(K.w_size),K.lit_bufsize=1<<k+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new a.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=W,K.strategy=A,K.method=D,me(g)}i=[new he(0,0,0,0,function(g,W){var D=65535;for(D>g.pending_buf_size-5&&(D=g.pending_buf_size-5);;){if(g.lookahead<=1){if(pe(g),g.lookahead===0&&W===h)return b;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var x=g.block_start+D;if((g.strstart===0||g.strstart>=x)&&(g.lookahead=g.strstart-x,g.strstart=x,z(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-Z&&(z(g,!1),g.strm.avail_out===0))return b}return g.insert=0,W===v?(z(g,!0),g.strm.avail_out===0?ee:L):(g.strstart>g.block_start&&(z(g,!1),g.strm.avail_out),b)}),new he(4,4,8,4,Te),new he(4,5,16,8,Te),new he(4,6,32,32,Te),new he(4,4,16,16,de),new he(8,16,32,32,de),new he(8,16,128,128,de),new he(8,32,128,256,de),new he(32,128,258,1024,de),new he(32,258,258,4096,de)],o.deflateInit=function(g,W){return Re(g,W,_,15,8,0)},o.deflateInit2=Re,o.deflateReset=me,o.deflateResetKeep=se,o.deflateSetHeader=function(g,W){return g&&g.state?g.state.wrap!==2?p:(g.state.gzhead=W,f):p},o.deflate=function(g,W){var D,x,k,A;if(!g||!g.state||5<W||W<0)return g?G(g,p):p;if(x=g.state,!g.output||!g.input&&g.avail_in!==0||x.status===666&&W!==v)return G(g,g.avail_out===0?-5:p);if(x.strm=g,D=x.last_flush,x.last_flush=W,x.status===E)if(x.wrap===2)g.adler=0,ne(x,31),ne(x,139),ne(x,8),x.gzhead?(ne(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),ne(x,255&x.gzhead.time),ne(x,x.gzhead.time>>8&255),ne(x,x.gzhead.time>>16&255),ne(x,x.gzhead.time>>24&255),ne(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ne(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(ne(x,255&x.gzhead.extra.length),ne(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(g.adler=u(g.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(ne(x,0),ne(x,0),ne(x,0),ne(x,0),ne(x,0),ne(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ne(x,3),x.status=B);else{var V=_+(x.w_bits-8<<4)<<8;V|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(V|=32),V+=31-V%31,x.status=B,X(x,V),x.strstart!==0&&(X(x,g.adler>>>16),X(x,65535&g.adler)),g.adler=1}if(x.status===69)if(x.gzhead.extra){for(k=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),N(g),k=x.pending,x.pending!==x.pending_buf_size));)ne(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){k=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),N(g),k=x.pending,x.pending===x.pending_buf_size)){A=1;break}A=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,ne(x,A)}while(A!==0);x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),A===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){k=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),N(g),k=x.pending,x.pending===x.pending_buf_size)){A=1;break}A=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,ne(x,A)}while(A!==0);x.gzhead.hcrc&&x.pending>k&&(g.adler=u(g.adler,x.pending_buf,x.pending-k,k)),A===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&N(g),x.pending+2<=x.pending_buf_size&&(ne(x,255&g.adler),ne(x,g.adler>>8&255),g.adler=0,x.status=B)):x.status=B),x.pending!==0){if(N(g),g.avail_out===0)return x.last_flush=-1,f}else if(g.avail_in===0&&$(W)<=$(D)&&W!==v)return G(g,-5);if(x.status===666&&g.avail_in!==0)return G(g,-5);if(g.avail_in!==0||x.lookahead!==0||W!==h&&x.status!==666){var K=x.strategy===2?(function(P,J){for(var ie;;){if(P.lookahead===0&&(pe(P),P.lookahead===0)){if(J===h)return b;break}if(P.match_length=0,ie=s._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,ie&&(z(P,!1),P.strm.avail_out===0))return b}return P.insert=0,J===v?(z(P,!0),P.strm.avail_out===0?ee:L):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?b:U})(x,W):x.strategy===3?(function(P,J){for(var ie,Q,ce,Ae,ke=P.window;;){if(P.lookahead<=I){if(pe(P),P.lookahead<=I&&J===h)return b;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=O&&0<P.strstart&&(Q=ke[ce=P.strstart-1])===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]){Ae=P.strstart+I;do;while(Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&Q===ke[++ce]&&ce<Ae);P.match_length=I-(Ae-ce),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=O?(ie=s._tr_tally(P,1,P.match_length-O),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(ie=s._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),ie&&(z(P,!1),P.strm.avail_out===0))return b}return P.insert=0,J===v?(z(P,!0),P.strm.avail_out===0?ee:L):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?b:U})(x,W):i[x.level].func(x,W);if(K!==ee&&K!==L||(x.status=666),K===b||K===ee)return g.avail_out===0&&(x.last_flush=-1),f;if(K===U&&(W===1?s._tr_align(x):W!==5&&(s._tr_stored_block(x,0,0,!1),W===3&&(j(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),N(g),g.avail_out===0))return x.last_flush=-1,f}return W!==v?f:x.wrap<=0?1:(x.wrap===2?(ne(x,255&g.adler),ne(x,g.adler>>8&255),ne(x,g.adler>>16&255),ne(x,g.adler>>24&255),ne(x,255&g.total_in),ne(x,g.total_in>>8&255),ne(x,g.total_in>>16&255),ne(x,g.total_in>>24&255)):(X(x,g.adler>>>16),X(x,65535&g.adler)),N(g),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?f:1)},o.deflateEnd=function(g){var W;return g&&g.state?(W=g.state.status)!==E&&W!==69&&W!==73&&W!==91&&W!==103&&W!==B&&W!==666?G(g,p):(g.state=null,W===B?G(g,-3):f):p},o.deflateSetDictionary=function(g,W){var D,x,k,A,V,K,P,J,ie=W.length;if(!g||!g.state||(A=(D=g.state).wrap)===2||A===1&&D.status!==E||D.lookahead)return p;for(A===1&&(g.adler=l(g.adler,W,ie,0)),D.wrap=0,ie>=D.w_size&&(A===0&&(j(D.head),D.strstart=0,D.block_start=0,D.insert=0),J=new a.Buf8(D.w_size),a.arraySet(J,W,ie-D.w_size,D.w_size,0),W=J,ie=D.w_size),V=g.avail_in,K=g.next_in,P=g.input,g.avail_in=ie,g.next_in=0,g.input=W,pe(D);D.lookahead>=O;){for(x=D.strstart,k=D.lookahead-(O-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[x+O-1])&D.hash_mask,D.prev[x&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=x,x++,--k;);D.strstart=x,D.lookahead=O-1,pe(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=O-1,D.match_available=0,g.next_in=K,g.input=P,g.avail_in=V,D.wrap=A,f},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(i,a){var s,l,u,c,h,v,f,p,d,m,y,_,C,w,S,T,R,F,O,I,Z,E,B,b,U;s=i.state,l=i.next_in,b=i.input,u=l+(i.avail_in-5),c=i.next_out,U=i.output,h=c-(a-i.avail_out),v=c+(i.avail_out-257),f=s.dmax,p=s.wsize,d=s.whave,m=s.wnext,y=s.window,_=s.hold,C=s.bits,w=s.lencode,S=s.distcode,T=(1<<s.lenbits)-1,R=(1<<s.distbits)-1;e:do{C<15&&(_+=b[l++]<<C,C+=8,_+=b[l++]<<C,C+=8),F=w[_&T];t:for(;;){if(_>>>=O=F>>>24,C-=O,(O=F>>>16&255)===0)U[c++]=65535&F;else{if(!(16&O)){if((64&O)==0){F=w[(65535&F)+(_&(1<<O)-1)];continue t}if(32&O){s.mode=12;break e}i.msg="invalid literal/length code",s.mode=30;break e}I=65535&F,(O&=15)&&(C<O&&(_+=b[l++]<<C,C+=8),I+=_&(1<<O)-1,_>>>=O,C-=O),C<15&&(_+=b[l++]<<C,C+=8,_+=b[l++]<<C,C+=8),F=S[_&R];n:for(;;){if(_>>>=O=F>>>24,C-=O,!(16&(O=F>>>16&255))){if((64&O)==0){F=S[(65535&F)+(_&(1<<O)-1)];continue n}i.msg="invalid distance code",s.mode=30;break e}if(Z=65535&F,C<(O&=15)&&(_+=b[l++]<<C,(C+=8)<O&&(_+=b[l++]<<C,C+=8)),f<(Z+=_&(1<<O)-1)){i.msg="invalid distance too far back",s.mode=30;break e}if(_>>>=O,C-=O,(O=c-h)<Z){if(d<(O=Z-O)&&s.sane){i.msg="invalid distance too far back",s.mode=30;break e}if(B=y,(E=0)===m){if(E+=p-O,O<I){for(I-=O;U[c++]=y[E++],--O;);E=c-Z,B=U}}else if(m<O){if(E+=p+m-O,(O-=m)<I){for(I-=O;U[c++]=y[E++],--O;);if(E=0,m<I){for(I-=O=m;U[c++]=y[E++],--O;);E=c-Z,B=U}}}else if(E+=m-O,O<I){for(I-=O;U[c++]=y[E++],--O;);E=c-Z,B=U}for(;2<I;)U[c++]=B[E++],U[c++]=B[E++],U[c++]=B[E++],I-=3;I&&(U[c++]=B[E++],1<I&&(U[c++]=B[E++]))}else{for(E=c-Z;U[c++]=U[E++],U[c++]=U[E++],U[c++]=U[E++],2<(I-=3););I&&(U[c++]=U[E++],1<I&&(U[c++]=U[E++]))}break}}break}}while(l<u&&c<v);l-=I=C>>3,_&=(1<<(C-=I<<3))-1,i.next_in=l,i.next_out=c,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=c<v?v-c+257:257-(c-v),s.hold=_,s.bits=C}},{}],49:[function(n,r,o){var i=n("../utils/common"),a=n("./adler32"),s=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,v=0,f=-2,p=1,d=852,m=592;function y(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(E){var B;return E&&E.state?(B=E.state,E.total_in=E.total_out=B.total=0,E.msg="",B.wrap&&(E.adler=1&B.wrap),B.mode=p,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new i.Buf32(d),B.distcode=B.distdyn=new i.Buf32(m),B.sane=1,B.back=-1,v):f}function w(E){var B;return E&&E.state?((B=E.state).wsize=0,B.whave=0,B.wnext=0,C(E)):f}function S(E,B){var b,U;return E&&E.state?(U=E.state,B<0?(b=0,B=-B):(b=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?f:(U.window!==null&&U.wbits!==B&&(U.window=null),U.wrap=b,U.wbits=B,w(E))):f}function T(E,B){var b,U;return E?(U=new _,(E.state=U).window=null,(b=S(E,B))!==v&&(E.state=null),b):f}var R,F,O=!0;function I(E){if(O){var B;for(R=new i.Buf32(512),F=new i.Buf32(32),B=0;B<144;)E.lens[B++]=8;for(;B<256;)E.lens[B++]=9;for(;B<280;)E.lens[B++]=7;for(;B<288;)E.lens[B++]=8;for(u(c,E.lens,0,288,R,0,E.work,{bits:9}),B=0;B<32;)E.lens[B++]=5;u(h,E.lens,0,32,F,0,E.work,{bits:5}),O=!1}E.lencode=R,E.lenbits=9,E.distcode=F,E.distbits=5}function Z(E,B,b,U){var ee,L=E.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new i.Buf8(L.wsize)),U>=L.wsize?(i.arraySet(L.window,B,b-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(U<(ee=L.wsize-L.wnext)&&(ee=U),i.arraySet(L.window,B,b-U,ee,L.wnext),(U-=ee)?(i.arraySet(L.window,B,b-U,U,0),L.wnext=U,L.whave=L.wsize):(L.wnext+=ee,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=ee))),0}o.inflateReset=w,o.inflateReset2=S,o.inflateResetKeep=C,o.inflateInit=function(E){return T(E,15)},o.inflateInit2=T,o.inflate=function(E,B){var b,U,ee,L,G,$,j,N,z,ne,X,Y,pe,Te,de,he,te,se,me,Re,g,W,D,x,k=0,A=new i.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return f;(b=E.state).mode===12&&(b.mode=13),G=E.next_out,ee=E.output,j=E.avail_out,L=E.next_in,U=E.input,$=E.avail_in,N=b.hold,z=b.bits,ne=$,X=j,W=v;e:for(;;)switch(b.mode){case p:if(b.wrap===0){b.mode=13;break}for(;z<16;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(2&b.wrap&&N===35615){A[b.check=0]=255&N,A[1]=N>>>8&255,b.check=s(b.check,A,2,0),z=N=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&N)<<8)+(N>>8))%31){E.msg="incorrect header check",b.mode=30;break}if((15&N)!=8){E.msg="unknown compression method",b.mode=30;break}if(z-=4,g=8+(15&(N>>>=4)),b.wbits===0)b.wbits=g;else if(g>b.wbits){E.msg="invalid window size",b.mode=30;break}b.dmax=1<<g,E.adler=b.check=1,b.mode=512&N?10:12,z=N=0;break;case 2:for(;z<16;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(b.flags=N,(255&b.flags)!=8){E.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){E.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=N>>8&1),512&b.flags&&(A[0]=255&N,A[1]=N>>>8&255,b.check=s(b.check,A,2,0)),z=N=0,b.mode=3;case 3:for(;z<32;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.head&&(b.head.time=N),512&b.flags&&(A[0]=255&N,A[1]=N>>>8&255,A[2]=N>>>16&255,A[3]=N>>>24&255,b.check=s(b.check,A,4,0)),z=N=0,b.mode=4;case 4:for(;z<16;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.head&&(b.head.xflags=255&N,b.head.os=N>>8),512&b.flags&&(A[0]=255&N,A[1]=N>>>8&255,b.check=s(b.check,A,2,0)),z=N=0,b.mode=5;case 5:if(1024&b.flags){for(;z<16;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.length=N,b.head&&(b.head.extra_len=N),512&b.flags&&(A[0]=255&N,A[1]=N>>>8&255,b.check=s(b.check,A,2,0)),z=N=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&($<(Y=b.length)&&(Y=$),Y&&(b.head&&(g=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,U,L,Y,g)),512&b.flags&&(b.check=s(b.check,U,Y,L)),$-=Y,L+=Y,b.length-=Y),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if($===0)break e;for(Y=0;g=U[L+Y++],b.head&&g&&b.length<65536&&(b.head.name+=String.fromCharCode(g)),g&&Y<$;);if(512&b.flags&&(b.check=s(b.check,U,Y,L)),$-=Y,L+=Y,g)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if($===0)break e;for(Y=0;g=U[L+Y++],b.head&&g&&b.length<65536&&(b.head.comment+=String.fromCharCode(g)),g&&Y<$;);if(512&b.flags&&(b.check=s(b.check,U,Y,L)),$-=Y,L+=Y,g)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;z<16;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(N!==(65535&b.check)){E.msg="header crc mismatch",b.mode=30;break}z=N=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),E.adler=b.check=0,b.mode=12;break;case 10:for(;z<32;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}E.adler=b.check=y(N),z=N=0,b.mode=11;case 11:if(b.havedict===0)return E.next_out=G,E.avail_out=j,E.next_in=L,E.avail_in=$,b.hold=N,b.bits=z,2;E.adler=b.check=1,b.mode=12;case 12:if(B===5||B===6)break e;case 13:if(b.last){N>>>=7&z,z-=7&z,b.mode=27;break}for(;z<3;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}switch(b.last=1&N,z-=1,3&(N>>>=1)){case 0:b.mode=14;break;case 1:if(I(b),b.mode=20,B!==6)break;N>>>=2,z-=2;break e;case 2:b.mode=17;break;case 3:E.msg="invalid block type",b.mode=30}N>>>=2,z-=2;break;case 14:for(N>>>=7&z,z-=7&z;z<32;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if((65535&N)!=(N>>>16^65535)){E.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&N,z=N=0,b.mode=15,B===6)break e;case 15:b.mode=16;case 16:if(Y=b.length){if($<Y&&(Y=$),j<Y&&(Y=j),Y===0)break e;i.arraySet(ee,U,L,Y,G),$-=Y,L+=Y,j-=Y,G+=Y,b.length-=Y;break}b.mode=12;break;case 17:for(;z<14;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(b.nlen=257+(31&N),N>>>=5,z-=5,b.ndist=1+(31&N),N>>>=5,z-=5,b.ncode=4+(15&N),N>>>=4,z-=4,286<b.nlen||30<b.ndist){E.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;z<3;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.lens[V[b.have++]]=7&N,N>>>=3,z-=3}for(;b.have<19;)b.lens[V[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,D={bits:b.lenbits},W=u(0,b.lens,0,19,b.lencode,0,b.work,D),b.lenbits=D.bits,W){E.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;he=(k=b.lencode[N&(1<<b.lenbits)-1])>>>16&255,te=65535&k,!((de=k>>>24)<=z);){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(te<16)N>>>=de,z-=de,b.lens[b.have++]=te;else{if(te===16){for(x=de+2;z<x;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(N>>>=de,z-=de,b.have===0){E.msg="invalid bit length repeat",b.mode=30;break}g=b.lens[b.have-1],Y=3+(3&N),N>>>=2,z-=2}else if(te===17){for(x=de+3;z<x;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}z-=de,g=0,Y=3+(7&(N>>>=de)),N>>>=3,z-=3}else{for(x=de+7;z<x;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}z-=de,g=0,Y=11+(127&(N>>>=de)),N>>>=7,z-=7}if(b.have+Y>b.nlen+b.ndist){E.msg="invalid bit length repeat",b.mode=30;break}for(;Y--;)b.lens[b.have++]=g}}if(b.mode===30)break;if(b.lens[256]===0){E.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,D={bits:b.lenbits},W=u(c,b.lens,0,b.nlen,b.lencode,0,b.work,D),b.lenbits=D.bits,W){E.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,D={bits:b.distbits},W=u(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,D),b.distbits=D.bits,W){E.msg="invalid distances set",b.mode=30;break}if(b.mode=20,B===6)break e;case 20:b.mode=21;case 21:if(6<=$&&258<=j){E.next_out=G,E.avail_out=j,E.next_in=L,E.avail_in=$,b.hold=N,b.bits=z,l(E,X),G=E.next_out,ee=E.output,j=E.avail_out,L=E.next_in,U=E.input,$=E.avail_in,N=b.hold,z=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;he=(k=b.lencode[N&(1<<b.lenbits)-1])>>>16&255,te=65535&k,!((de=k>>>24)<=z);){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(he&&(240&he)==0){for(se=de,me=he,Re=te;he=(k=b.lencode[Re+((N&(1<<se+me)-1)>>se)])>>>16&255,te=65535&k,!(se+(de=k>>>24)<=z);){if($===0)break e;$--,N+=U[L++]<<z,z+=8}N>>>=se,z-=se,b.back+=se}if(N>>>=de,z-=de,b.back+=de,b.length=te,he===0){b.mode=26;break}if(32&he){b.back=-1,b.mode=12;break}if(64&he){E.msg="invalid literal/length code",b.mode=30;break}b.extra=15&he,b.mode=22;case 22:if(b.extra){for(x=b.extra;z<x;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.length+=N&(1<<b.extra)-1,N>>>=b.extra,z-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;he=(k=b.distcode[N&(1<<b.distbits)-1])>>>16&255,te=65535&k,!((de=k>>>24)<=z);){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if((240&he)==0){for(se=de,me=he,Re=te;he=(k=b.distcode[Re+((N&(1<<se+me)-1)>>se)])>>>16&255,te=65535&k,!(se+(de=k>>>24)<=z);){if($===0)break e;$--,N+=U[L++]<<z,z+=8}N>>>=se,z-=se,b.back+=se}if(N>>>=de,z-=de,b.back+=de,64&he){E.msg="invalid distance code",b.mode=30;break}b.offset=te,b.extra=15&he,b.mode=24;case 24:if(b.extra){for(x=b.extra;z<x;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}b.offset+=N&(1<<b.extra)-1,N>>>=b.extra,z-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){E.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(j===0)break e;if(Y=X-j,b.offset>Y){if((Y=b.offset-Y)>b.whave&&b.sane){E.msg="invalid distance too far back",b.mode=30;break}pe=Y>b.wnext?(Y-=b.wnext,b.wsize-Y):b.wnext-Y,Y>b.length&&(Y=b.length),Te=b.window}else Te=ee,pe=G-b.offset,Y=b.length;for(j<Y&&(Y=j),j-=Y,b.length-=Y;ee[G++]=Te[pe++],--Y;);b.length===0&&(b.mode=21);break;case 26:if(j===0)break e;ee[G++]=b.length,j--,b.mode=21;break;case 27:if(b.wrap){for(;z<32;){if($===0)break e;$--,N|=U[L++]<<z,z+=8}if(X-=j,E.total_out+=X,b.total+=X,X&&(E.adler=b.check=b.flags?s(b.check,ee,X,G-X):a(b.check,ee,X,G-X)),X=j,(b.flags?N:y(N))!==b.check){E.msg="incorrect data check",b.mode=30;break}z=N=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;z<32;){if($===0)break e;$--,N+=U[L++]<<z,z+=8}if(N!==(4294967295&b.total)){E.msg="incorrect length check",b.mode=30;break}z=N=0}b.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return f}return E.next_out=G,E.avail_out=j,E.next_in=L,E.avail_in=$,b.hold=N,b.bits=z,(b.wsize||X!==E.avail_out&&b.mode<30&&(b.mode<27||B!==4))&&Z(E,E.output,E.next_out,X-E.avail_out)?(b.mode=31,-4):(ne-=E.avail_in,X-=E.avail_out,E.total_in+=ne,E.total_out+=X,b.total+=X,b.wrap&&X&&(E.adler=b.check=b.flags?s(b.check,ee,X,E.next_out-X):a(b.check,ee,X,E.next_out-X)),E.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(ne==0&&X===0||B===4)&&W===v&&(W=-5),W)},o.inflateEnd=function(E){if(!E||!E.state)return f;var B=E.state;return B.window&&(B.window=null),E.state=null,v},o.inflateGetHeader=function(E,B){var b;return E&&E.state?(2&(b=E.state).wrap)==0?f:((b.head=B).done=!1,v):f},o.inflateSetDictionary=function(E,B){var b,U=B.length;return E&&E.state?(b=E.state).wrap!==0&&b.mode!==11?f:b.mode===11&&a(1,B,U,0)!==b.check?-3:Z(E,B,U,U)?(b.mode=31,-4):(b.havedict=1,v):f},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,v,f,p,d,m,y){var _,C,w,S,T,R,F,O,I,Z=y.bits,E=0,B=0,b=0,U=0,ee=0,L=0,G=0,$=0,j=0,N=0,z=null,ne=0,X=new i.Buf16(16),Y=new i.Buf16(16),pe=null,Te=0;for(E=0;E<=15;E++)X[E]=0;for(B=0;B<f;B++)X[h[v+B]]++;for(ee=Z,U=15;1<=U&&X[U]===0;U--);if(U<ee&&(ee=U),U===0)return p[d++]=20971520,p[d++]=20971520,y.bits=1,0;for(b=1;b<U&&X[b]===0;b++);for(ee<b&&(ee=b),E=$=1;E<=15;E++)if($<<=1,($-=X[E])<0)return-1;if(0<$&&(c===0||U!==1))return-1;for(Y[1]=0,E=1;E<15;E++)Y[E+1]=Y[E]+X[E];for(B=0;B<f;B++)h[v+B]!==0&&(m[Y[h[v+B]]++]=B);if(R=c===0?(z=pe=m,19):c===1?(z=a,ne-=257,pe=s,Te-=257,256):(z=l,pe=u,-1),E=b,T=d,G=B=N=0,w=-1,S=(j=1<<(L=ee))-1,c===1&&852<j||c===2&&592<j)return 1;for(;;){for(F=E-G,I=m[B]<R?(O=0,m[B]):m[B]>R?(O=pe[Te+m[B]],z[ne+m[B]]):(O=96,0),_=1<<E-G,b=C=1<<L;p[T+(N>>G)+(C-=_)]=F<<24|O<<16|I|0,C!==0;);for(_=1<<E-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,B++,--X[E]==0){if(E===U)break;E=h[v+m[B]]}if(ee<E&&(N&S)!==w){for(G===0&&(G=ee),T+=b,$=1<<(L=E-G);L+G<U&&!(($-=X[L+G])<=0);)L++,$<<=1;if(j+=1<<L,c===1&&852<j||c===2&&592<j)return 1;p[w=N&S]=ee<<24|L<<16|T-d|0}}return N!==0&&(p[T+N]=E-G<<24|64<<16|0),y.bits=ee,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var i=n("../utils/common"),a=0,s=1;function l(k){for(var A=k.length;0<=--A;)k[A]=0}var u=0,c=29,h=256,v=h+1+c,f=30,p=19,d=2*v+1,m=15,y=16,_=7,C=256,w=16,S=17,T=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(v+2));l(Z);var E=new Array(2*f);l(E);var B=new Array(512);l(B);var b=new Array(256);l(b);var U=new Array(c);l(U);var ee,L,G,$=new Array(f);function j(k,A,V,K,P){this.static_tree=k,this.extra_bits=A,this.extra_base=V,this.elems=K,this.max_length=P,this.has_stree=k&&k.length}function N(k,A){this.dyn_tree=k,this.max_code=0,this.stat_desc=A}function z(k){return k<256?B[k]:B[256+(k>>>7)]}function ne(k,A){k.pending_buf[k.pending++]=255&A,k.pending_buf[k.pending++]=A>>>8&255}function X(k,A,V){k.bi_valid>y-V?(k.bi_buf|=A<<k.bi_valid&65535,ne(k,k.bi_buf),k.bi_buf=A>>y-k.bi_valid,k.bi_valid+=V-y):(k.bi_buf|=A<<k.bi_valid&65535,k.bi_valid+=V)}function Y(k,A,V){X(k,V[2*A],V[2*A+1])}function pe(k,A){for(var V=0;V|=1&k,k>>>=1,V<<=1,0<--A;);return V>>>1}function Te(k,A,V){var K,P,J=new Array(m+1),ie=0;for(K=1;K<=m;K++)J[K]=ie=ie+V[K-1]<<1;for(P=0;P<=A;P++){var Q=k[2*P+1];Q!==0&&(k[2*P]=pe(J[Q]++,Q))}}function de(k){var A;for(A=0;A<v;A++)k.dyn_ltree[2*A]=0;for(A=0;A<f;A++)k.dyn_dtree[2*A]=0;for(A=0;A<p;A++)k.bl_tree[2*A]=0;k.dyn_ltree[2*C]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function he(k){8<k.bi_valid?ne(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function te(k,A,V,K){var P=2*A,J=2*V;return k[P]<k[J]||k[P]===k[J]&&K[A]<=K[V]}function se(k,A,V){for(var K=k.heap[V],P=V<<1;P<=k.heap_len&&(P<k.heap_len&&te(A,k.heap[P+1],k.heap[P],k.depth)&&P++,!te(A,K,k.heap[P],k.depth));)k.heap[V]=k.heap[P],V=P,P<<=1;k.heap[V]=K}function me(k,A,V){var K,P,J,ie,Q=0;if(k.last_lit!==0)for(;K=k.pending_buf[k.d_buf+2*Q]<<8|k.pending_buf[k.d_buf+2*Q+1],P=k.pending_buf[k.l_buf+Q],Q++,K===0?Y(k,P,A):(Y(k,(J=b[P])+h+1,A),(ie=R[J])!==0&&X(k,P-=U[J],ie),Y(k,J=z(--K),V),(ie=F[J])!==0&&X(k,K-=$[J],ie)),Q<k.last_lit;);Y(k,C,A)}function Re(k,A){var V,K,P,J=A.dyn_tree,ie=A.stat_desc.static_tree,Q=A.stat_desc.has_stree,ce=A.stat_desc.elems,Ae=-1;for(k.heap_len=0,k.heap_max=d,V=0;V<ce;V++)J[2*V]!==0?(k.heap[++k.heap_len]=Ae=V,k.depth[V]=0):J[2*V+1]=0;for(;k.heap_len<2;)J[2*(P=k.heap[++k.heap_len]=Ae<2?++Ae:0)]=1,k.depth[P]=0,k.opt_len--,Q&&(k.static_len-=ie[2*P+1]);for(A.max_code=Ae,V=k.heap_len>>1;1<=V;V--)se(k,J,V);for(P=ce;V=k.heap[1],k.heap[1]=k.heap[k.heap_len--],se(k,J,1),K=k.heap[1],k.heap[--k.heap_max]=V,k.heap[--k.heap_max]=K,J[2*P]=J[2*V]+J[2*K],k.depth[P]=(k.depth[V]>=k.depth[K]?k.depth[V]:k.depth[K])+1,J[2*V+1]=J[2*K+1]=P,k.heap[1]=P++,se(k,J,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],(function(ke,Je){var Tt,ae,ge,ue,ye,Oe,xe=Je.dyn_tree,Fe=Je.max_code,nt=Je.stat_desc.static_tree,rt=Je.stat_desc.has_stree,Ot=Je.stat_desc.extra_bits,vt=Je.stat_desc.extra_base,Ut=Je.stat_desc.max_length,nn=0;for(ue=0;ue<=m;ue++)ke.bl_count[ue]=0;for(xe[2*ke.heap[ke.heap_max]+1]=0,Tt=ke.heap_max+1;Tt<d;Tt++)Ut<(ue=xe[2*xe[2*(ae=ke.heap[Tt])+1]+1]+1)&&(ue=Ut,nn++),xe[2*ae+1]=ue,Fe<ae||(ke.bl_count[ue]++,ye=0,vt<=ae&&(ye=Ot[ae-vt]),Oe=xe[2*ae],ke.opt_len+=Oe*(ue+ye),rt&&(ke.static_len+=Oe*(nt[2*ae+1]+ye)));if(nn!==0){do{for(ue=Ut-1;ke.bl_count[ue]===0;)ue--;ke.bl_count[ue]--,ke.bl_count[ue+1]+=2,ke.bl_count[Ut]--,nn-=2}while(0<nn);for(ue=Ut;ue!==0;ue--)for(ae=ke.bl_count[ue];ae!==0;)Fe<(ge=ke.heap[--Tt])||(xe[2*ge+1]!==ue&&(ke.opt_len+=(ue-xe[2*ge+1])*xe[2*ge],xe[2*ge+1]=ue),ae--)}})(k,A),Te(J,Ae,k.bl_count)}function g(k,A,V){var K,P,J=-1,ie=A[1],Q=0,ce=7,Ae=4;for(ie===0&&(ce=138,Ae=3),A[2*(V+1)+1]=65535,K=0;K<=V;K++)P=ie,ie=A[2*(K+1)+1],++Q<ce&&P===ie||(Q<Ae?k.bl_tree[2*P]+=Q:P!==0?(P!==J&&k.bl_tree[2*P]++,k.bl_tree[2*w]++):Q<=10?k.bl_tree[2*S]++:k.bl_tree[2*T]++,J=P,Ae=(Q=0)===ie?(ce=138,3):P===ie?(ce=6,3):(ce=7,4))}function W(k,A,V){var K,P,J=-1,ie=A[1],Q=0,ce=7,Ae=4;for(ie===0&&(ce=138,Ae=3),K=0;K<=V;K++)if(P=ie,ie=A[2*(K+1)+1],!(++Q<ce&&P===ie)){if(Q<Ae)for(;Y(k,P,k.bl_tree),--Q!=0;);else P!==0?(P!==J&&(Y(k,P,k.bl_tree),Q--),Y(k,w,k.bl_tree),X(k,Q-3,2)):Q<=10?(Y(k,S,k.bl_tree),X(k,Q-3,3)):(Y(k,T,k.bl_tree),X(k,Q-11,7));J=P,Ae=(Q=0)===ie?(ce=138,3):P===ie?(ce=6,3):(ce=7,4)}}l($);var D=!1;function x(k,A,V,K){X(k,(u<<1)+(K?1:0),3),(function(P,J,ie,Q){he(P),ne(P,ie),ne(P,~ie),i.arraySet(P.pending_buf,P.window,J,ie,P.pending),P.pending+=ie})(k,A,V)}o._tr_init=function(k){D||((function(){var A,V,K,P,J,ie=new Array(m+1);for(P=K=0;P<c-1;P++)for(U[P]=K,A=0;A<1<<R[P];A++)b[K++]=P;for(b[K-1]=P,P=J=0;P<16;P++)for($[P]=J,A=0;A<1<<F[P];A++)B[J++]=P;for(J>>=7;P<f;P++)for($[P]=J<<7,A=0;A<1<<F[P]-7;A++)B[256+J++]=P;for(V=0;V<=m;V++)ie[V]=0;for(A=0;A<=143;)Z[2*A+1]=8,A++,ie[8]++;for(;A<=255;)Z[2*A+1]=9,A++,ie[9]++;for(;A<=279;)Z[2*A+1]=7,A++,ie[7]++;for(;A<=287;)Z[2*A+1]=8,A++,ie[8]++;for(Te(Z,v+1,ie),A=0;A<f;A++)E[2*A+1]=5,E[2*A]=pe(A,5);ee=new j(Z,R,h+1,v,m),L=new j(E,F,0,f,m),G=new j(new Array(0),O,0,p,_)})(),D=!0),k.l_desc=new N(k.dyn_ltree,ee),k.d_desc=new N(k.dyn_dtree,L),k.bl_desc=new N(k.bl_tree,G),k.bi_buf=0,k.bi_valid=0,de(k)},o._tr_stored_block=x,o._tr_flush_block=function(k,A,V,K){var P,J,ie=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=(function(Q){var ce,Ae=4093624447;for(ce=0;ce<=31;ce++,Ae>>>=1)if(1&Ae&&Q.dyn_ltree[2*ce]!==0)return a;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return s;for(ce=32;ce<h;ce++)if(Q.dyn_ltree[2*ce]!==0)return s;return a})(k)),Re(k,k.l_desc),Re(k,k.d_desc),ie=(function(Q){var ce;for(g(Q,Q.dyn_ltree,Q.l_desc.max_code),g(Q,Q.dyn_dtree,Q.d_desc.max_code),Re(Q,Q.bl_desc),ce=p-1;3<=ce&&Q.bl_tree[2*I[ce]+1]===0;ce--);return Q.opt_len+=3*(ce+1)+5+5+4,ce})(k),P=k.opt_len+3+7>>>3,(J=k.static_len+3+7>>>3)<=P&&(P=J)):P=J=V+5,V+4<=P&&A!==-1?x(k,A,V,K):k.strategy===4||J===P?(X(k,2+(K?1:0),3),me(k,Z,E)):(X(k,4+(K?1:0),3),(function(Q,ce,Ae,ke){var Je;for(X(Q,ce-257,5),X(Q,Ae-1,5),X(Q,ke-4,4),Je=0;Je<ke;Je++)X(Q,Q.bl_tree[2*I[Je]+1],3);W(Q,Q.dyn_ltree,ce-1),W(Q,Q.dyn_dtree,Ae-1)})(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ie+1),me(k,k.dyn_ltree,k.dyn_dtree)),de(k),K&&he(k)},o._tr_tally=function(k,A,V){return k.pending_buf[k.d_buf+2*k.last_lit]=A>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&A,k.pending_buf[k.l_buf+k.last_lit]=255&V,k.last_lit++,A===0?k.dyn_ltree[2*V]++:(k.matches++,A--,k.dyn_ltree[2*(b[V]+h+1)]++,k.dyn_dtree[2*z(A)]++),k.last_lit===k.lit_bufsize-1},o._tr_align=function(k){X(k,2,3),Y(k,C,Z),(function(A){A.bi_valid===16?(ne(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(k)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(i){(function(a,s){if(!a.setImmediate){var l,u,c,h,v=1,f={},p=!1,d=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,l={}.toString.call(a.process)==="[object process]"?function(w){process.nextTick(function(){_(w)})}:(function(){if(a.postMessage&&!a.importScripts){var w=!0,S=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=S,w}})()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(w){a.postMessage(h+w,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){_(w.data)},function(w){c.port2.postMessage(w)}):d&&"onreadystatechange"in d.createElement("script")?(u=d.documentElement,function(w){var S=d.createElement("script");S.onreadystatechange=function(){_(w),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(w){setTimeout(_,0,w)},m.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var R={callback:w,args:S};return f[v]=R,l(v),v++},m.clearImmediate=y}function y(w){delete f[w]}function _(w){if(p)setTimeout(_,0,w);else{var S=f[w];if(S){p=!0;try{(function(T){var R=T.callback,F=T.args;switch(F.length){case 0:R();break;case 1:R(F[0]);break;case 2:R(F[0],F[1]);break;case 3:R(F[0],F[1],F[2]);break;default:R.apply(s,F)}})(S)}finally{y(w),p=!1}}}}function C(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(h)===0&&_(+w.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof mt<"u"?mt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(In)),In.exports}var du=cu();const fu=ki(du);function da(e,t){return function(){return e.apply(t,arguments)}}const{toString:hu}=Object.prototype,{getPrototypeOf:Sr}=Object,{iterator:kn,toStringTag:fa}=Symbol,xn=(e=>t=>{const n=hu.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),it=e=>(e=e.toLowerCase(),t=>xn(t)===e),En=e=>t=>typeof t===e,{isArray:Dt}=Array,It=En("undefined");function Jt(e){return e!==null&&!It(e)&&e.constructor!==null&&!It(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ha=it("ArrayBuffer");function pu(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ha(e.buffer),t}const mu=En("string"),Ze=En("function"),pa=En("number"),Qt=e=>e!==null&&typeof e=="object",gu=e=>e===!0||e===!1,hn=e=>{if(xn(e)!=="object")return!1;const t=Sr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(fa in e)&&!(kn in e)},vu=e=>{if(!Qt(e)||Jt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bu=it("Date"),yu=it("File"),wu=it("Blob"),_u=it("FileList"),Cu=e=>Qt(e)&&Ze(e.pipe),Su=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ze(e.append)&&((t=xn(e))==="formdata"||t==="object"&&Ze(e.toString)&&e.toString()==="[object FormData]"))},ku=it("URLSearchParams"),[xu,Eu,Ru,Tu]=["ReadableStream","Request","Response","Headers"].map(it),Ou=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function en(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Dt(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Jt(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function ma(e,t){if(Jt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const wt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ga=e=>!It(e)&&e!==wt;function nr(){const{caseless:e,skipUndefined:t}=ga(this)&&this||{},n={},r=(o,i)=>{const a=e&&ma(n,i)||i;hn(n[a])&&hn(o)?n[a]=nr(n[a],o):hn(o)?n[a]=nr({},o):Dt(o)?n[a]=o.slice():(!t||!It(o))&&(n[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&en(arguments[o],r);return n}const Au=(e,t,n,{allOwnKeys:r}={})=>(en(t,(o,i)=>{n&&Ze(o)?e[i]=da(o,n):e[i]=o},{allOwnKeys:r}),e),Fu=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Nu=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},zu=(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&Sr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Lu=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Bu=e=>{if(!e)return null;if(Dt(e))return e;let t=e.length;if(!pa(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Iu=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sr(Uint8Array)),Pu=(e,t)=>{const r=(e&&e[kn]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Du=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Mu=it("HTMLFormElement"),Uu=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Kr=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$u=it("RegExp"),va=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};en(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},Wu=e=>{va(e,(t,n)=>{if(Ze(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ze(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ju=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Dt(e)?r(e):r(String(e).split(t)),n},Hu=()=>{},Vu=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ku(e){return!!(e&&Ze(e.append)&&e[fa]==="FormData"&&e[kn])}const qu=e=>{const t=new Array(10),n=(r,o)=>{if(Qt(r)){if(t.indexOf(r)>=0)return;if(Jt(r))return r;if(!("toJSON"in r)){t[o]=r;const i=Dt(r)?[]:{};return en(r,(a,s)=>{const l=n(a,o+1);!It(l)&&(i[s]=l)}),t[o]=void 0,i}}return r};return n(e,0)},Zu=it("AsyncFunction"),Gu=e=>e&&(Qt(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),ba=((e,t)=>e?setImmediate:t?((n,r)=>(wt.addEventListener("message",({source:o,data:i})=>{o===wt&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),wt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ze(wt.postMessage)),Yu=typeof queueMicrotask<"u"?queueMicrotask.bind(wt):typeof process<"u"&&process.nextTick||ba,Xu=e=>e!=null&&Ze(e[kn]),M={isArray:Dt,isArrayBuffer:ha,isBuffer:Jt,isFormData:Su,isArrayBufferView:pu,isString:mu,isNumber:pa,isBoolean:gu,isObject:Qt,isPlainObject:hn,isEmptyObject:vu,isReadableStream:xu,isRequest:Eu,isResponse:Ru,isHeaders:Tu,isUndefined:It,isDate:bu,isFile:yu,isBlob:wu,isRegExp:$u,isFunction:Ze,isStream:Cu,isURLSearchParams:ku,isTypedArray:Iu,isFileList:_u,forEach:en,merge:nr,extend:Au,trim:Ou,stripBOM:Fu,inherits:Nu,toFlatObject:zu,kindOf:xn,kindOfTest:it,endsWith:Lu,toArray:Bu,forEachEntry:Pu,matchAll:Du,isHTMLForm:Mu,hasOwnProperty:Kr,hasOwnProp:Kr,reduceDescriptors:va,freezeMethods:Wu,toObjectSet:ju,toCamelCase:Uu,noop:Hu,toFiniteNumber:Vu,findKey:ma,global:wt,isContextDefined:ga,isSpecCompliantForm:Ku,toJSONObject:qu,isAsyncFn:Zu,isThenable:Gu,setImmediate:ba,asap:Yu,isIterable:Xu};function be(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}M.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const ya=be.prototype,wa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wa[e]={value:e}});Object.defineProperties(be,wa);Object.defineProperty(ya,"isAxiosError",{value:!0});be.from=(e,t,n,r,o,i)=>{const a=Object.create(ya);M.toFlatObject(e,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return be.call(a,s,l,n,r,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Ju=null;function rr(e){return M.isPlainObject(e)||M.isArray(e)}function _a(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function qr(e,t,n){return e?e.concat(t).map(function(o,i){return o=_a(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Qu(e){return M.isArray(e)&&!e.some(rr)}const ec=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Rn(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,m){return!M.isUndefined(m[d])});const r=n.metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(o))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(M.isDate(p))return p.toISOString();if(M.isBoolean(p))return p.toString();if(!l&&M.isBlob(p))throw new be("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(p)||M.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,d,m){let y=p;if(p&&!m&&typeof p=="object"){if(M.endsWith(d,"{}"))d=r?d:d.slice(0,-2),p=JSON.stringify(p);else if(M.isArray(p)&&Qu(p)||(M.isFileList(p)||M.endsWith(d,"[]"))&&(y=M.toArray(p)))return d=_a(d),y.forEach(function(C,w){!(M.isUndefined(C)||C===null)&&t.append(a===!0?qr([d],w,i):a===null?d:d+"[]",u(C))}),!1}return rr(p)?!0:(t.append(qr(m,d,i),u(p)),!1)}const h=[],v=Object.assign(ec,{defaultVisitor:c,convertValue:u,isVisitable:rr});function f(p,d){if(!M.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+d.join("."));h.push(p),M.forEach(p,function(y,_){(!(M.isUndefined(y)||y===null)&&o.call(t,y,M.isString(_)?_.trim():_,d,v))===!0&&f(y,d?d.concat(_):[_])}),h.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Zr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function kr(e,t){this._pairs=[],e&&Rn(e,this,t)}const Ca=kr.prototype;Ca.append=function(t,n){this._pairs.push([t,n])};Ca.toString=function(t){const n=t?function(r){return t.call(this,r,Zr)}:Zr;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function tc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sa(e,t,n){if(!t)return e;const r=n&&n.encode||tc;M.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=M.isURLSearchParams(t)?t.toString():new kr(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Gr{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ka={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nc=typeof URLSearchParams<"u"?URLSearchParams:kr,rc=typeof FormData<"u"?FormData:null,sc=typeof Blob<"u"?Blob:null,ac={isBrowser:!0,classes:{URLSearchParams:nc,FormData:rc,Blob:sc},protocols:["http","https","file","blob","url","data"]},xr=typeof window<"u"&&typeof document<"u",sr=typeof navigator=="object"&&navigator||void 0,ic=xr&&(!sr||["ReactNative","NativeScript","NS"].indexOf(sr.product)<0),oc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lc=xr&&window.location.href||"http://localhost",uc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xr,hasStandardBrowserEnv:ic,hasStandardBrowserWebWorkerEnv:oc,navigator:sr,origin:lc},Symbol.toStringTag,{value:"Module"})),Ue={...uc,...ac};function cc(e,t){return Rn(e,new Ue.classes.URLSearchParams,{visitor:function(n,r,o,i){return Ue.isNode&&M.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function dc(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fc(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function xa(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=i>=n.length;return a=!a&&M.isArray(o)?o.length:a,l?(M.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!M.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&M.isArray(o[a])&&(o[a]=fc(o[a])),!s)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(r,o)=>{t(dc(r),o,n,0)}),n}return null}function hc(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const tn={transitional:ka,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=M.isObject(t);if(i&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return o?JSON.stringify(xa(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cc(t,this.formSerializer).toString();if((s=M.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rn(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),hc(t)):t}],transformResponse:[function(t){const n=this.transitional||tn.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?be.from(s,be.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{tn.headers[e]={}});const pc=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mc=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&pc[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Yr=Symbol("internals");function jt(e){return e&&String(e).trim().toLowerCase()}function pn(e){return e===!1||e==null?e:M.isArray(e)?e.map(pn):String(e)}function gc(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const vc=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pn(e,t,n,r,o){if(M.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!M.isString(t)){if(M.isString(r))return t.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(t)}}function bc(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yc(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}let Ge=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(s,l,u){const c=jt(l);if(!c)throw new Error("header name must be a non-empty string");const h=M.findKey(o,c);(!h||o[h]===void 0||u===!0||u===void 0&&o[h]!==!1)&&(o[h||l]=pn(s))}const a=(s,l)=>M.forEach(s,(u,c)=>i(u,c,l));if(M.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(M.isString(t)&&(t=t.trim())&&!vc(t))a(mc(t),n);else if(M.isObject(t)&&M.isIterable(t)){let s={},l,u;for(const c of t){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[u=c[0]]=(l=s[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(s,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=jt(t),t){const r=M.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return gc(o);if(M.isFunction(n))return n.call(this,o,r);if(M.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jt(t),t){const r=M.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Pn(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=jt(a),a){const s=M.findKey(r,a);s&&(!n||Pn(r,r[s],s,n))&&(delete r[s],o=!0)}}return M.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||Pn(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return M.forEach(this,(o,i)=>{const a=M.findKey(r,i);if(a){n[a]=pn(o),delete n[i];return}const s=t?bc(i):String(i).trim();s!==i&&delete n[i],n[s]=pn(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&M.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Yr]=this[Yr]={accessors:{}}).accessors,o=this.prototype;function i(a){const s=jt(a);r[s]||(yc(o,a),r[s]=!0)}return M.isArray(t)?t.forEach(i):i(t),this}};Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ge.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});M.freezeMethods(Ge);function Dn(e,t){const n=this||tn,r=t||n,o=Ge.from(r.headers);let i=r.data;return M.forEach(e,function(s){i=s.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Ea(e){return!!(e&&e.__CANCEL__)}function Mt(e,t,n){be.call(this,e??"canceled",be.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(Mt,be,{__CANCEL__:!0});function Ra(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wc(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _c(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];a||(a=u),n[o]=l,r[o]=u;let h=i,v=0;for(;h!==o;)v+=n[h++],h=h%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),u-a<t)return;const f=c&&u-c;return f?Math.round(v*1e3/f):void 0}}function Cc(e,t){let n=0,r=1e3/t,o,i;const a=(u,c=Date.now())=>{n=c,o=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=r?a(u,c):(o=u,i||(i=setTimeout(()=>{i=null,a(o)},r-h)))},()=>o&&a(o)]}const wn=(e,t,n=3)=>{let r=0;const o=_c(50,250);return Cc(i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,l=a-r,u=o(l),c=a<=s;r=a;const h={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-a)/u:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(h)},n)},Xr=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Jr=e=>(...t)=>M.asap(()=>e(...t)),Sc=Ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,kc=Ue.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),M.isString(r)&&a.push("path="+r),M.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xc(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ec(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ta(e,t,n){let r=!xc(t);return e&&(r||n==!1)?Ec(e,t):t}const Qr=e=>e instanceof Ge?{...e}:e;function Et(e,t){t=t||{};const n={};function r(u,c,h,v){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:v},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function o(u,c,h,v){if(M.isUndefined(c)){if(!M.isUndefined(u))return r(void 0,u,h,v)}else return r(u,c,h,v)}function i(u,c){if(!M.isUndefined(c))return r(void 0,c)}function a(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,h){if(h in t)return r(u,c);if(h in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c,h)=>o(Qr(u),Qr(c),h,!0)};return M.forEach(Object.keys({...e,...t}),function(c){const h=l[c]||o,v=h(e[c],t[c],c);M.isUndefined(v)&&h!==s||(n[c]=v)}),n}const Oa=e=>{const t=Et({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:s}=t;if(t.headers=a=Ge.from(a),t.url=Sa(Ta(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),M.isFormData(n)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&a.set(c,h)})}}if(Ue.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(t)),r||r!==!1&&Sc(t.url))){const l=o&&i&&kc.read(i);l&&a.set(o,l)}return t},Rc=typeof XMLHttpRequest<"u",Tc=Rc&&function(e){return new Promise(function(n,r){const o=Oa(e);let i=o.data;const a=Ge.from(o.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=o,c,h,v,f,p;function d(){f&&f(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(c),o.signal&&o.signal.removeEventListener("abort",c)}let m=new XMLHttpRequest;m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout;function y(){if(!m)return;const C=Ge.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:C,config:e,request:m};Ra(function(R){n(R),d()},function(R){r(R),d()},S),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(r(new be("Request aborted",be.ECONNABORTED,e,m)),m=null)},m.onerror=function(w){const S=w&&w.message?w.message:"Network Error",T=new be(S,be.ERR_NETWORK,e,m);T.event=w||null,r(T),m=null},m.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||ka;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new be(w,S.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,e,m)),m=null},i===void 0&&a.setContentType(null),"setRequestHeader"in m&&M.forEach(a.toJSON(),function(w,S){m.setRequestHeader(S,w)}),M.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),s&&s!=="json"&&(m.responseType=o.responseType),u&&([v,p]=wn(u,!0),m.addEventListener("progress",v)),l&&m.upload&&([h,f]=wn(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",f)),(o.cancelToken||o.signal)&&(c=C=>{m&&(r(!C||C.type?new Mt(null,e,m):C),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(c),o.signal&&(o.signal.aborted?c():o.signal.addEventListener("abort",c)));const _=wc(o.url);if(_&&Ue.protocols.indexOf(_)===-1){r(new be("Unsupported protocol "+_+":",be.ERR_BAD_REQUEST,e));return}m.send(i||null)})},Oc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(u){if(!o){o=!0,s();const c=u instanceof Error?u:this.reason;r.abort(c instanceof be?c:new Mt(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,i(new be(`timeout ${t} of ms exceeded`,be.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>M.asap(s),l}},Ac=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Fc=async function*(e,t){for await(const n of Nc(e))yield*Ac(n,t)},Nc=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},es=(e,t,n,r)=>{const o=Fc(e,t);let i=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await o.next();if(u){s(),l.close();return}let h=c.byteLength;if(n){let v=i+=h;n(v)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),o.return()}},{highWaterMark:2})},ts=64*1024,{isFunction:on}=M,Aa=(({fetch:e,Request:t,Response:n})=>({fetch:e,Request:t,Response:n}))(M.global),{ReadableStream:ns,TextEncoder:rs}=M.global,ss=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zc=e=>{const{fetch:t,Request:n,Response:r}=Object.assign({},Aa,e),o=on(t),i=on(n),a=on(r);if(!o)return!1;const s=o&&on(ns),l=o&&(typeof rs=="function"?(p=>d=>p.encode(d))(new rs):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=i&&s&&ss(()=>{let p=!1;const d=new n(Ue.origin,{body:new ns,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!d}),c=a&&s&&ss(()=>M.isReadableStream(new r("").body)),h={stream:c&&(p=>p.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(d,m)=>{let y=d&&d[p];if(y)return y.call(d);throw new be(`Response type '${p}' is not supported`,be.ERR_NOT_SUPPORT,m)})});const v=async p=>{if(p==null)return 0;if(M.isBlob(p))return p.size;if(M.isSpecCompliantForm(p))return(await new n(Ue.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(M.isArrayBufferView(p)||M.isArrayBuffer(p))return p.byteLength;if(M.isURLSearchParams(p)&&(p=p+""),M.isString(p))return(await l(p)).byteLength},f=async(p,d)=>{const m=M.toFiniteNumber(p.getContentLength());return m??v(d)};return async p=>{let{url:d,method:m,data:y,signal:_,cancelToken:C,timeout:w,onDownloadProgress:S,onUploadProgress:T,responseType:R,headers:F,withCredentials:O="same-origin",fetchOptions:I}=Oa(p);R=R?(R+"").toLowerCase():"text";let Z=Oc([_,C&&C.toAbortSignal()],w),E=null;const B=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let b;try{if(T&&u&&m!=="get"&&m!=="head"&&(b=await f(F,y))!==0){let j=new n(d,{method:"POST",body:y,duplex:"half"}),N;if(M.isFormData(y)&&(N=j.headers.get("content-type"))&&F.setContentType(N),j.body){const[z,ne]=Xr(b,wn(Jr(T)));y=es(j.body,ts,z,ne)}}M.isString(O)||(O=O?"include":"omit");const U=i&&"credentials"in n.prototype,ee={...I,signal:Z,method:m.toUpperCase(),headers:F.normalize().toJSON(),body:y,duplex:"half",credentials:U?O:void 0};E=i&&new n(d,ee);let L=await(i?t(E,I):t(d,ee));const G=c&&(R==="stream"||R==="response");if(c&&(S||G&&B)){const j={};["status","statusText","headers"].forEach(X=>{j[X]=L[X]});const N=M.toFiniteNumber(L.headers.get("content-length")),[z,ne]=S&&Xr(N,wn(Jr(S),!0))||[];L=new r(es(L.body,ts,z,()=>{ne&&ne(),B&&B()}),j)}R=R||"text";let $=await h[M.findKey(h,R)||"text"](L,p);return!G&&B&&B(),await new Promise((j,N)=>{Ra(j,N,{data:$,headers:Ge.from(L.headers),status:L.status,statusText:L.statusText,config:p,request:E})})}catch(U){throw B&&B(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,p,E),{cause:U.cause||U}):be.from(U,U&&U.code,p,E)}}},Lc=new Map,Fa=e=>{let t=M.merge.call({skipUndefined:!0},Aa,e?e.env:null);const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let a=i.length,s=a,l,u,c=Lc;for(;s--;)l=i[s],u=c.get(l),u===void 0&&c.set(l,u=s?new Map:zc(t)),c=u;return u};Fa();const ar={http:Ju,xhr:Tc,fetch:{get:Fa}};M.forEach(ar,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const as=e=>`- ${e}`,Bc=e=>M.isFunction(e)||e===null||e===!1,Na={getAdapter:(e,t)=>{e=M.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let a=0;a<n;a++){r=e[a];let s;if(o=r,!Bc(r)&&(o=ar[(s=String(r)).toLowerCase()],o===void 0))throw new be(`Unknown adapter '${s}'`);if(o&&(M.isFunction(o)||(o=o.get(t))))break;i[s||"#"+a]=o}if(!o){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(as).join(`
`):" "+as(a[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return o},adapters:ar};function Mn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mt(null,e)}function is(e){return Mn(e),e.headers=Ge.from(e.headers),e.data=Dn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Na.getAdapter(e.adapter||tn.adapter,e)(e).then(function(r){return Mn(e),r.data=Dn.call(e,e.transformResponse,r),r.headers=Ge.from(r.headers),r},function(r){return Ea(r)||(Mn(e),r&&r.response&&(r.response.data=Dn.call(e,e.transformResponse,r.response),r.response.headers=Ge.from(r.response.headers))),Promise.reject(r)})}const za="1.12.0",Tn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const os={};Tn.transitional=function(t,n,r){function o(i,a){return"[Axios v"+za+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,s)=>{if(t===!1)throw new be(o(a," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!os[a]&&(os[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,s):!0}};Tn.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ic(e,t,n){if(typeof e!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const s=e[i],l=s===void 0||a(s,i,e);if(l!==!0)throw new be("option "+i+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const mn={assertOptions:Ic,validators:Tn},lt=mn.validators;let kt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gr,response:new Gr}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Et(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&mn.assertOptions(r,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1),o!=null&&(M.isFunction(o)?n.paramsSerializer={serialize:o}:mn.assertOptions(o,{encode:lt.function,serialize:lt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mn.assertOptions(n,{baseUrl:lt.spelling("baseURL"),withXsrfToken:lt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&M.merge(i.common,i[n.method]);i&&M.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=Ge.concat(a,i);const s=[];let l=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(n)===!1||(l=l&&d.synchronous,s.unshift(d.fulfilled,d.rejected))});const u=[];this.interceptors.response.forEach(function(d){u.push(d.fulfilled,d.rejected)});let c,h=0,v;if(!l){const p=[is.bind(this),void 0];for(p.unshift(...s),p.push(...u),v=p.length,c=Promise.resolve(n);h<v;)c=c.then(p[h++],p[h++]);return c}v=s.length;let f=n;for(h=0;h<v;){const p=s[h++],d=s[h++];try{f=p(f)}catch(m){d.call(this,m);break}}try{c=is.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,v=u.length;h<v;)c=c.then(u[h++],u[h++]);return c}getUri(t){t=Et(this.defaults,t);const n=Ta(t.baseURL,t.url,t.allowAbsoluteUrls);return Sa(n,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){kt.prototype[t]=function(n,r){return this.request(Et(r||{},{method:t,url:n,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,s){return this.request(Et(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}kt.prototype[t]=n(),kt.prototype[t+"Form"]=n(!0)});let Pc=class La{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,s){r.reason||(r.reason=new Mt(i,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new La(function(o){t=o}),cancel:t}}};function Dc(e){return function(n){return e.apply(null,n)}}function Mc(e){return M.isObject(e)&&e.isAxiosError===!0}const ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ir).forEach(([e,t])=>{ir[t]=e});function Ba(e){const t=new kt(e),n=da(kt.prototype.request,t);return M.extend(n,kt.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Ba(Et(e,o))},n}const ze=Ba(tn);ze.Axios=kt;ze.CanceledError=Mt;ze.CancelToken=Pc;ze.isCancel=Ea;ze.VERSION=za;ze.toFormData=Rn;ze.AxiosError=be;ze.Cancel=ze.CanceledError;ze.all=function(t){return Promise.all(t)};ze.spread=Dc;ze.isAxiosError=Mc;ze.mergeConfig=Et;ze.AxiosHeaders=Ge;ze.formToJSON=e=>xa(M.isHTMLForm(e)?new FormData(e):e);ze.getAdapter=Na.getAdapter;ze.HttpStatusCode=ir;ze.default=ze;const{Axios:Qd,AxiosError:ef,CanceledError:tf,isCancel:nf,CancelToken:rf,VERSION:sf,all:af,Cancel:of,isAxiosError:lf,spread:uf,toFormData:cf,AxiosHeaders:df,HttpStatusCode:ff,formToJSON:hf,getAdapter:pf,mergeConfig:mf}=ze;class Uc{constructor(t){On(this,"value");On(this,"next");this.value=t}}var qe,pt,_t;class $c{constructor(){rn(this,qe);rn(this,pt);rn(this,_t);this.clear()}enqueue(t){const n=new Uc(t);Qe(this,qe)?(Qe(this,pt).next=n,ot(this,pt,n)):(ot(this,qe,n),ot(this,pt,n)),An(this,_t)._++}dequeue(){const t=Qe(this,qe);if(t)return ot(this,qe,Qe(this,qe).next),An(this,_t)._--,Qe(this,qe)||ot(this,pt,void 0),t.value}peek(){if(Qe(this,qe))return Qe(this,qe).value}clear(){ot(this,qe,void 0),ot(this,pt,void 0),ot(this,_t,0)}get size(){return Qe(this,_t)}*[Symbol.iterator](){let t=Qe(this,qe);for(;t;)yield t.value,t=t.next}*drain(){for(;Qe(this,qe);)yield this.dequeue()}}qe=new WeakMap,pt=new WeakMap,_t=new WeakMap;function Wc(e){ls(e);const t=new $c;let n=0;const r=()=>{n<e&&t.size>0&&(n++,t.dequeue()())},o=()=>{n--,r()},i=async(l,u,c)=>{const h=(async()=>l(...c))();u(h);try{await h}catch{}o()},a=(l,u,c)=>{new Promise(h=>{t.enqueue(h)}).then(i.bind(void 0,l,u,c)),n<e&&r()},s=(l,...u)=>new Promise(c=>{a(l,c,u)});return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(l){ls(l),e=l,queueMicrotask(()=>{for(;n<e&&t.size>0;)r()})}},map:{async value(l,u){const c=Array.from(l,(h,v)=>this(u,h,v));return Promise.all(c)}}}),s}function ls(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}class jc{constructor(t,n=100){this.emitter=t,this.throttleInterval=n,this.pendingUpdates=new Map,this.timerId=null,this.lastFlushTime=Date.now()}updateProgress(t){const{index:n,percentage:r}=t;if(r===100){this.pendingUpdates.delete(n),this.emitter.emit("progress",t);return}this.pendingUpdates.set(n,t),this.timerId||(this.timerId=setTimeout(()=>{this.flush()},this.throttleInterval))}flush(){if(this.pendingUpdates.size===0){this.timerId=null;return}for(const t of this.pendingUpdates.values())this.emitter.emit("progress",t);this.pendingUpdates.clear(),this.lastFlushTime=Date.now(),this.timerId=null}destroy(){this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.flush(),this.pendingUpdates.clear()}}class Hc{constructor(t){this.emitter=t,this.failedFiles=new Map}classifyError(t){var o;const n=(o=t==null?void 0:t.response)==null?void 0:o.status,r=(t==null?void 0:t.message)||"";return(t==null?void 0:t.code)==="ECONNABORTED"||r.toLowerCase().includes("timeout")||r.toLowerCase().includes("network")?"network":n===401||n===403?"auth":[400,404,410].includes(n)?"expired_url":n>=500?"server":"unknown"}shouldRefreshUrl(t,n){const r=Number(n);return t==="expired_url"||[400,401,403,404,410].includes(r)}recordFailure(t,n,r=0){const o=this.classifyError(n),{order:i}=t;this.failedFiles.set(i,{fileInfo:t,error:n,retryCount:r,errorType:o,timestamp:Date.now()}),this.emitter.emit("file_failed",{index:i,name:t.name,errorType:o,message:(n==null?void 0:n.message)||""})}getFailedFiles(){return Array.from(this.failedFiles.values()).map(t=>t.fileInfo)}getFailureStats(){const t={total:this.failedFiles.size,byType:{network:0,auth:0,expired_url:0,server:0,unknown:0}};for(const n of this.failedFiles.values())t.byType[n.errorType]++;return t}clear(){this.failedFiles.clear()}removeFailure(t){this.failedFiles.delete(t)}}const bt=Yt.global.t,Vc=1,Kc=Vc*1024*1024*1024,us=50,qc=30,Zc=100;class Gc{constructor(t,n){this.emitter=t,this.fileProcessor=n,this.zip=null,this.isCancelled=!1,this.abortController=null,this.progressThrottler=new jc(t,Zc),this.failureManager=new Hc(t),this.objectUrls=new Set,this.urlFetchLimit=Wc(50),this.emitter.on("cancelled",()=>{this.cancel()})}cancel(){this.isCancelled=!0,this.abortController&&this.abortController.abort(),this.urlFetchLimit.clearQueue()}async runWithConcurrency(t,n,r=us){const o=Array.isArray(t)?t:[];if(!o.length)return;const i=Math.max(1,Math.min(r,o.length));let a=0;const s=()=>{if(this.isCancelled||a>=o.length)return null;const u=o[a];return a+=1,u},l=Array.from({length:i},async()=>{let u=s();for(;u&&!this.isCancelled;)await n(u),u=s()});await Promise.all(l)}async _getAttachmentUrlQueued(t,n){const{token:r,fieldId:o,recordId:i}=t;return this.urlFetchLimit(()=>n.getAttachmentUrl(r,o,i))}async getAttachmentUrl(t,n){if(await this.fileProcessor.prepareFileInfoForDownload(t,n),t.fileUrl)return t.fileUrl;const r=l=>new Promise(u=>setTimeout(u,l)),o=l=>{if((l==null?void 0:l.code)==="ECONNABORTED")return!0;const c=(l==null?void 0:l.msg)||(l==null?void 0:l.message)||"";return typeof c=="string"&&c.toLowerCase().includes("timeout")},i=3;let a=null;for(let l=1;l<=i;l++)try{return t.fileUrl=await this._getAttachmentUrlQueued(t,n),t.fileUrl}catch(u){if(a=u,o(u)&&l<i){await r(300*l);continue}const c=u==null?void 0:u.logId;if(o(u))throw new Error(bt("error_temp_download_url_timeout",{logId:c?` (logId: ${c})`:""}));const h=(u==null?void 0:u.msg)||(u==null?void 0:u.message)||bt("file_download_failed");throw new Error(`${h}${c?` (logId: ${c})`:""}`)}const s=a==null?void 0:a.logId;throw new Error(bt("error_temp_download_url_timeout",{logId:s?` (logId: ${s})`:""}))}async downloadFile(t,n){var l,u;await this.fileProcessor.prepareFileInfoForDownload(t,n);const{name:r,order:o,size:i}=t,a=3,s=c=>new Promise(h=>setTimeout(h,c));if(this.isCancelled)return null;this.progressThrottler.updateProgress({index:o,name:r,size:i,percentage:0});for(let c=1;c<=a;c++){if(this.isCancelled)return null;try{await this.getAttachmentUrl(t,n)}catch(m){const y=this.failureManager.classifyError(m);if(this.failureManager.shouldRefreshUrl(y,(l=m==null?void 0:m.response)==null?void 0:l.status)&&(t.fileUrl=null),c<a){await s(300*c);continue}return this.failureManager.recordFailure(t,m,c),this.emitter.emit("error",{message:(m==null?void 0:m.message)||bt("file_download_failed"),index:o}),null}const h=new AbortController;let v=!1;const[f,p]=await yn(ze({method:"get",responseType:"blob",url:t.fileUrl,signal:h.signal,onDownloadProgress:m=>{if(!v){if(this.isCancelled){h.abort();return}if(m.lengthComputable&&m.total>0){const y=Math.round(m.loaded*100/m.total),_=Math.min(Math.max(y,0),99);this.progressThrottler.updateProgress({index:o,percentage:_})}}}}));if(v=!0,f&&f.code==="ERR_CANCELED")return null;if(!f){const m=p.data;if(i>0&&m.size!==i&&(console.warn(` ${r} :  ${i},  ${m.size}`),Math.abs(m.size-i)>1024&&c<a)){await s(300*c);continue}return this.progressThrottler.updateProgress({index:o,percentage:100}),m}if(f.code==="ERR_CANCELED")return null;const d=this.failureManager.classifyError(f);if(this.failureManager.shouldRefreshUrl(d,(u=f==null?void 0:f.response)==null?void 0:u.status)&&(t.fileUrl=null),c<a){await s(300*c);continue}return this.failureManager.recordFailure(t,f,c),this.emitter.emit("error",{message:(f==null?void 0:f.message)||bt("file_download_failed"),index:o}),null}return null}async processFile(t,n){const r=await this.downloadFile(t,n);r&&this.zip.file(`${t.path}${t.name}`,r)}async zipDownLoad(t,n,r){const{chunks:o,maxChunks:i}=xi(t,Kc);o.length>1&&this.emitter.emit("warn",bt("text19",{length:o.length})),i.length&&this.emitter.emit("warn",bt("text20",{length:i.length}));for(const a of o){if(this.isCancelled)return;if(this.zip=new fu,await this.runWithConcurrency(a,u=>this.processFile(u,r),qc),this.isCancelled){this.zip=null;return}const[s,l]=await yn(this.zip.generateAsync({type:"blob"},u=>{if(this.isCancelled)return;const c=u.percent.toFixed(2);this.emitter.emit("zip_progress",c)}));s?this.emitter.emit("max_size_warning"):this.isCancelled||(uu.saveAs(l,`${n}.zip`),setTimeout(()=>{l&&typeof l.close=="function"&&l.close()},1e3)),this.zip=null}if(!this.isCancelled){for(const a of i){if(this.isCancelled)return;await this.sigleDownLoad([a],r)}this.progressThrottler.flush()}}async sigleDownLoad(t,n){const r=async o=>{const i=await this.downloadFile(o,n);if(i){const a=URL.createObjectURL(i);this.objectUrls.add(a);const s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",o.name),s.click(),setTimeout(()=>{URL.revokeObjectURL(a),this.objectUrls.delete(a)},100)}};await this.runWithConcurrency(t,async o=>{await r(o)},us),this.progressThrottler.flush()}async download(t,n,r){if(n.downloadType===2){await this.sigleDownLoad(t,r);return}await this.zipDownLoad(t,n.zipName,r)}getFailedFiles(){return this.failureManager.getFailedFiles()}getFailureStats(){return this.failureManager.getFailureStats()}destroy(){for(const t of this.objectUrls)URL.revokeObjectURL(t);this.objectUrls.clear(),this.progressThrottler.destroy(),this.failureManager.clear(),this.zip=null,this.isCancelled=!1,this.abortController=null}}const Ve=Yt.global.t,cs="feishu_attachment_link",Yc="feishu_attachment_config",ds="feishu_attachment_complete",fs="feishu_attachment_refresh",Xc="feishu_attachment_ack";class Jc{constructor(t,n,r){this.emitter=t,this.fileProcessor=n,this.browserDownloader=r}_buildWebSocketUrl(t){const n=(t.wsHost||"").trim();if(!n)throw new Error(Ve("error_websocket_host_required"));if(/^wss?:\/\//i.test(n))return n;const r=t.wsPort?String(t.wsPort).trim():"";return n.includes(":")||!r?`ws://${n}`:`ws://${n}:${r}`}_createWebSocket(t){return new Promise((n,r)=>{const o=new WebSocket(t),i=()=>{o.onopen=null,o.onerror=null};o.onopen=()=>{i(),n(o)},o.onerror=()=>{i(),r(new Error(Ve("websocket_connection_failed")))}})}_sendMessage(t,n){if(t.readyState!==WebSocket.OPEN)throw new Error(Ve("websocket_connection_failed"));t.send(JSON.stringify(n))}_bindLifecycle(t,n={}){return new Promise((r,o)=>{let i=!1,a=!1;const s=u=>{if(typeof n.onFatalError=="function")try{n.onFatalError(u)}catch(c){console.error("onFatalError hook failed",c)}},l=u=>{i||(i=!0,u?o(u):r())};t.onmessage=u=>{try{const c=JSON.parse(u.data);if(c.type!==Xc)return;const h=c.data||{},v=h.order,f=Number(v),p=h.status,d=h.stage;if(d==="server_info"){if(typeof n.onServerInfo=="function")try{n.onServerInfo(h)}catch(m){console.error("onServerInfo hook failed",m)}return}if(Number.isInteger(f)&&f>0){if(p==="progress"){const m=h.percentage;typeof m=="number"&&this.emitter.emit("progress",{index:f,percentage:Math.min(Math.max(m,0),99)})}else if(p==="success")this.emitter.emit("progress",{index:f,percentage:100});else if(p==="refresh"){const m=h.message||Ve("file_download_failed");typeof n.onRefreshUrl=="function"&&Promise.resolve().then(()=>n.onRefreshUrl(f,h)).then(y=>{this._sendMessage(t,{type:fs,data:{order:f,downloadUrl:y}})}).catch(y=>{const _=(y==null?void 0:y.message)||m;try{this._sendMessage(t,{type:fs,data:{order:f,error:_}})}catch(C){console.error("failed to send refresh error",C)}})}else this.emitter.emit("error",{index:f,message:h.message||Ve("file_download_failed")});return}if(d==="zip"){this.emitter.emit("zip_progress",{stage:d,path:h.path,message:h.message});return}if(d==="retry_failed_files"){this.emitter.emit("zip_progress",{stage:d,message:h.message,failed:h.failed});return}if(d==="job_complete"){a=!0,this.emitter.emit("zip_progress",{stage:d,message:h.message}),l();return}if(p==="error"){const m=h.message||Ve("file_download_failed");this.emitter.emit("warn",m),s(m),l(new Error(m))}}catch(c){console.error("failed to parse websocket ack",c)}},t.onerror=()=>{s(Ve("websocket_connection_failed")),l(new Error(Ve("websocket_connection_failed")))},t.onclose=()=>{a?l():(s(Ve("websocket_connection_failed")),l(new Error(Ve("websocket_connection_failed"))))}})}async _pushTokenFilesInBatches(t,n,r,{sleep:o,drainSocketBuffer:i,shouldAbort:a}){const s=Math.max(1,Math.min(Number(r.tokenPushBatchSize)||50,1e4));let l=[];const u=async()=>{l.length&&(this._sendMessage(t,{type:cs,data:{files:l}}),l=[],await i(),await o(0))};for(const c of n){if(typeof a=="function"&&a())break;const{order:h}=c;this.fileProcessor._prepareUniqueFileName(c),this.emitter.emit("progress",{index:h,name:c.name,size:c.size,percentage:0}),l.push({name:c.name,path:c.path,order:c.order,size:c.size,token:c.token,fieldId:c.fieldId,recordId:c.recordId}),l.length>=s&&await u()}typeof a=="function"&&a()||await u()}async download(t,n,r){const o=this._buildWebSocketUrl(n),i=await this._createWebSocket(o);let a=!1;const s=f=>new Promise(p=>setTimeout(p,f)),l=async(f=2*1024*1024)=>{for(;i.bufferedAmount>f;){if(a)return;await s(20)}},u=f=>{if(a)return;a=!0;const p=(f==null?void 0:f.message)||f;p&&this.emitter.emit("warn",p)},c=`${Date.now()}`,h=n.downloadChannel==="websocket_auth";if(h&&!n.appToken)throw new Error(Ve("error_app_token_missing"));const v=h?Promise.resolve():this._bindLifecycle(i,{onFatalError:u,onRefreshUrl:(()=>{const f=new Map((t||[]).map(w=>[Number(w==null?void 0:w.order),w])),p=new Map,d=Number.POSITIVE_INFINITY;let m=0;const y=[],_=async()=>{if(m<d){m+=1;return}await new Promise(w=>y.push(w)),m+=1},C=()=>{m=Math.max(m-1,0);const w=y.shift();typeof w=="function"&&w()};return async w=>{if(p.has(w))return p.get(w);const S=(async()=>{const T=f.get(w);if(!T)throw new Error(Ve("file_download_failed"));await _();try{T.fileUrl=null;const R=await this.browserDownloader.getAttachmentUrl(T,r);if(!R)throw new Error(Ve("file_download_failed"));return R}finally{C()}})();p.set(w,S);try{return await S}finally{p.delete(w)}}})()});try{if(this._sendMessage(i,{type:Yc,data:{concurrent:1,zipAfterDownload:!!n.zipAfterDownload,jobId:c,jobName:n.zipName||c,zipName:n.zipName||c,total:t.length,downloadMode:h?"token":"url",...h?{tableId:n.tableId,appToken:n.appToken}:{}}}),h){if(await this._pushTokenFilesInBatches(i,t,n,{sleep:s,drainSocketBuffer:l,shouldAbort:()=>a}),a)return;this.emitter.emit("zip_progress",{message:Ve("token_push_waiting_message")}),this._sendMessage(i,{type:ds,data:{jobId:c}}),await l(),await s(0);return}let f=0;for(const p of t){if(a)break;const{order:d}=p;try{if(this.fileProcessor._prepareUniqueFileName(p),a)break;this.emitter.emit("progress",{index:d,name:p.name,size:p.size,percentage:0});const m={name:p.name,path:p.path,order:p.order,size:p.size,token:p.token,fieldId:p.fieldId,recordId:p.recordId};if(a)break;this._sendMessage(i,{type:cs,data:m}),f+=1,f%50===0&&await s(0),await l()}catch(m){const y=(m==null?void 0:m.message)||Ve("file_download_failed");this.emitter.emit("error",{index:d,message:y}),u(m)}}a?await v.catch(()=>{}):(this._sendMessage(i,{type:ds,data:{jobId:c}}),await v)}finally{(i.readyState===WebSocket.OPEN||i.readyState===WebSocket.CONNECTING)&&i.close()}}getFailureStats(){return this.browserDownloader&&typeof this.browserDownloader.getFailureStats=="function"?this.browserDownloader.getFailureStats():{total:0,byType:{network:0,auth:0,expired_url:0,server:0,unknown:0}}}}class Qc{constructor(){this.isEnabled=typeof window<"u"&&typeof window.umami<"u"}trackDownloadStart(t={}){if(!this.isEnabled)return;const{downloadChannel:n,downloadType:r,fileCount:o,totalSize:i}=t,a={browser:"",websocket:"WebSocket",websocket_auth:"WebSocket"},s={1:"ZIP",2:""};window.umami.track("download_start",{download_mode:a[n]||n,download_type:r?s[r]:"WebSocket",file_count:o||0,total_size_mb:i?(i/(1024*1024)).toFixed(2):0})}trackDownloadComplete(t={}){if(!this.isEnabled)return;const{fileCount:n,successCount:r,failedCount:o,duration:i,isCancelled:a,failureStats:s}=t,l={file_count:n||0,success_count:r||0,failed_count:o||0,duration_seconds:i?Math.round(i/1e3):0,success_rate:n?(r/n*100).toFixed(2):0,is_cancelled:!!a};s&&s.byType&&(l.failure_network=s.byType.network||0,l.failure_auth=s.byType.auth||0,l.failure_expired_url=s.byType.expired_url||0,l.failure_server=s.byType.server||0,l.failure_unknown=s.byType.unknown||0),window.umami.track("download_complete",l)}trackDownloadError(t={}){this.isEnabled&&window.umami.track("download_error",{error_type:t.type||"unknown",error_message:t.message||"",download_mode:t.downloadMode||"unknown"})}trackDownloadCancel(t={}){if(!this.isEnabled)return;const{reason:n,fileCount:r,successCount:o,failedCount:i,duration:a}=t;window.umami.track("download_cancel",{cancel_reason:n||"user_cancel",file_count:r||0,success_count:o||0,failed_count:i||0,duration_seconds:a?Math.round(a/1e3):0})}trackZipProgress(t={}){if(!this.isEnabled)return;const{stage:n,fileCount:r}=t;n==="complete"&&window.umami.track("zip_package_complete",{file_count:r||0})}trackWebSocketConnection(t={}){if(!this.isEnabled)return;const{status:n,mode:r}=t;window.umami.track("websocket_connection",{status:n||"unknown",mode:r||"unknown"})}trackUserConfig(t={}){if(!this.isEnabled)return;const{fileNameType:n,downloadTypeByFolders:r,attachmentFieldsCount:o}=t;window.umami.track("download_config",{use_custom_filename:n===1,use_folder_classification:!!r,attachment_fields_count:o||0})}}const hs=Yt.global.t;class ed{constructor(t){this.config={...t},this.oTable=null,this.cellList=[],this.startTime=0,this.successCount=0,this.failedCount=0,this.isCancelled=!1,this.cancelReason="",this.isDownloading=!1,this.emitter=new au,this.umamiTracker=new Qc,this.fileProcessor=new iu(this.config,this.emitter),this.browserDownloader=new Gc(this.emitter,this.fileProcessor),this.webSocketDownloader=new Jc(this.emitter,this.fileProcessor,this.browserDownloader),this._bindStatisticsEvents()}_isWebSocketChannel(){return this.config.downloadChannel==="websocket"||this.config.downloadChannel==="websocket_auth"}_bindStatisticsEvents(){this.emitter.on("progress",t=>{t.percentage===100&&this.successCount++}),this.emitter.on("error",()=>{this.failedCount++}),this.emitter.on("zip_progress",t=>{t&&typeof t=="object"&&t.stage==="job_complete"&&this.umamiTracker.trackZipProgress({stage:"complete",fileCount:this.cellList.length})})}on(t,n){return this.emitter.on(t,n),this}async startDownload(){var n;if(this.oTable=await Ei.base.getTableById(this.config.tableId),this.cellList=await this.fileProcessor.getCellsList(this.oTable),!this.cellList.length)return this.emitter.emit("info",hs("no_files_to_download_message")),this.emitter.emit("finshed"),"";const t=this.cellList.reduce((r,o)=>r+(o.size||0),0);this.umamiTracker.trackUserConfig({fileNameType:this.config.fileNameType,downloadTypeByFolders:this.config.downloadTypeByFolders,attachmentFieldsCount:((n=this.config.attachmentFileds)==null?void 0:n.length)||0}),this.umamiTracker.trackDownloadStart({downloadChannel:this.config.downloadChannel,downloadType:this.config.downloadType,fileCount:this.cellList.length,totalSize:t}),this.startTime=Date.now(),this.successCount=0,this.failedCount=0,this.isCancelled=!1,this.cancelReason="",this.isDownloading=!0,this.browserDownloader.isCancelled=!1;try{if(this._isWebSocketChannel()){await this.fileProcessor.batchPrepareAllFiles(this.cellList,this.oTable);try{await this.webSocketDownloader.download(this.cellList,this.config,this.oTable),this.umamiTracker.trackWebSocketConnection({status:"success",mode:this.config.downloadChannel==="websocket_auth"?"token":"url"})}catch(o){throw this.umamiTracker.trackWebSocketConnection({status:"failed",mode:this.config.downloadChannel==="websocket_auth"?"token":"url"}),o}}else await this.browserDownloader.download(this.cellList,this.config,this.oTable);const r=this._isWebSocketChannel()?this.webSocketDownloader.getFailureStats():this.browserDownloader.getFailureStats();if(this.isCancelled&&this.cancelReason==="user_manual_cancel"){const o=Date.now()-this.startTime;this.umamiTracker.trackDownloadCancel({reason:this.cancelReason,fileCount:this.cellList.length,successCount:this.successCount,failedCount:this.failedCount,duration:o})}else{const o=Date.now()-this.startTime;this.umamiTracker.trackDownloadComplete({fileCount:this.cellList.length,successCount:this.successCount,failedCount:this.failedCount,duration:o,isCancelled:this.isCancelled,failureStats:r})}}catch(r){console.error("download failed",r);const o=(r==null?void 0:r.message)||hs("file_download_failed");if(this.emitter.emit("warn",o),!this.isCancelled){this.isCancelled=!0;const a=this._classifyErrorType(r);this.cancelReason=a}const i=Date.now()-this.startTime;this.umamiTracker.trackDownloadCancel({reason:this.cancelReason,fileCount:this.cellList.length,successCount:this.successCount,failedCount:this.failedCount,duration:i}),this.umamiTracker.trackDownloadError({type:(r==null?void 0:r.name)||"unknown",message:(r==null?void 0:r.message)||"",downloadMode:this.config.downloadChannel})}finally{this.isDownloading=!1,this.emitter.emit("finshed")}}_classifyErrorType(t){var o;const n=(o=t==null?void 0:t.response)==null?void 0:o.status,r=(t==null?void 0:t.message)||"";return(t==null?void 0:t.code)==="ECONNABORTED"||r.toLowerCase().includes("timeout")||r.toLowerCase().includes("network")||r.toLowerCase().includes("websocket")?"network_error":n===401||n===403||r.includes("")||r.includes("auth")?"auth_error":n>=500?"server_error":"unknown_error"}cancelDownload(){this.isDownloading&&(this.isCancelled=!0,this.cancelReason="user_manual_cancel",this.emitter.emit("cancelled"))}getDownloadStats(){const t=this._isWebSocketChannel()?this.webSocketDownloader.getFailureStats():this.browserDownloader.getFailureStats();return{total:this.cellList.length,success:this.successCount,failed:this.failedCount,failureStats:t,isCancelled:this.isCancelled,isDownloading:this.isDownloading}}destroy(){this.emitter.clear(),this.fileProcessor.clearCache(),this.browserDownloader.destroy(),this.cellList=[],this.oTable=null}}const td={class:"dialog-process"},nd={class:"dialog-circle"},rd={key:0,class:"warning-section"},sd={class:"prompt"},ad={class:"stat-card"},id={class:"stat-label"},od={class:"stat-value"},ld={class:"stat-card"},ud={class:"stat-label"},cd={class:"stat-value stat-success"},dd={class:"stat-card"},fd={class:"stat-label"},hd={class:"stat-value stat-danger"},pd={class:"stat-card"},md={class:"stat-label"},gd={class:"stat-value stat-info"},vd={class:"speed-time-info"},bd={class:"info-item"},yd={class:"info-label"},wd={class:"info-value"},_d={class:"info-item"},Cd={class:"info-label"},Sd={class:"info-value"},kd={key:0,class:"failure-stats-info"},xd={class:"failure-stats-header"},Ed={class:"stats-title"},Rd={class:"failure-stats-grid"},Td={key:0,class:"failure-item"},Od={class:"failure-label"},Ad={class:"failure-value"},Fd={key:1,class:"failure-item"},Nd={class:"failure-label"},zd={class:"failure-value"},Ld={key:2,class:"failure-item"},Bd={class:"failure-label"},Id={class:"failure-value"},Pd={key:3,class:"failure-item"},Dd={class:"failure-label"},Md={class:"failure-value"},Ud={key:4,class:"failure-item"},$d={class:"failure-label"},Wd={class:"failure-value"},jd={key:1,class:"status-info"},Hd={key:0,class:"status-text"},Vd={key:1,class:"status-text"},Kd={class:"button-group"},qd={key:0},Zd={__name:"DownModel",props:{zipName:{type:String,default:""},formData:{type:Object,default:()=>{}}},emits:["finsh","cancel"],setup(e,{emit:t}){const n=e,r=Yt.global.t,o=1073741824*1,i=q([]),a=q(new Set),s=q(new Set),l=q(!1),u=q(0),c=q(0),h=q(""),v=q(0),f=q(""),p=q(!1),d=new Map,m=q([]),y=q([]),_=q(!1),C=q(!1),w=q({total:0,byType:{network:0,auth:0,expired_url:0,server:0,unknown:0}});let S=null;const T=q(0),R=q(0),F=q(0);q(0);const O=new Map,I=re(()=>a.value.size),Z=re(()=>s.value.size),E=30,B=re(()=>p.value?y.value:m.value),b=()=>{const te=Array.from(d.values()).filter(se=>se.type==="loading").sort((se,me)=>se.index-me.index).slice(0,E);m.value=te},U=te=>{const se=[te,...y.value.filter(me=>me.index!==te.index)];y.value=se.slice(0,E)},ee=te=>{const se=y.value.filter(me=>me.index!==te);se.length!==y.value.length&&(y.value=se)},L=te=>{if(!te||te<=0||!isFinite(te))return"--";const se=Math.floor(te/3600),me=Math.floor(te%3600/60),Re=Math.floor(te%60);return se>0?`${se}h ${me}m ${Re}s`:me>0?`${me}m ${Re}s`:`${Re}s`},G=te=>!te||te<=0||!isFinite(te)?"--":`${zn(te)}/s`,$=re(()=>{const se=(Date.now()-T.value)/1e3;return se<=0||R.value<=0?0:R.value/se}),j=re(()=>{const te=$.value;if(te<=0||u.value<=0)return 0;const se=u.value-R.value;return se<=0?0:se/te}),N=re(()=>G($.value)),z=re(()=>L(j.value)),ne=re(()=>w.value.total>0),X=({row:te})=>te.type==="success"?"success-row":te.type==="error"?"error-row":te.type==="loading"?"loading-row":"",Y=async()=>{try{await Li.confirm(r("cancel_download_tip"),r("confirm_cancel"),{confirmButtonText:r("yes"),cancelButtonText:r("no"),type:"warning"}),S&&S.cancelDownload()}catch{}},pe=()=>{if(S){const te=S.getDownloadStats();w.value=te.failureStats||w.value}},Te=re(()=>{if(!c.value||!u.value)return 0;const te=u.value,se=R.value;if(te<=0)return 0;if(a.value.size+s.value.size===c.value&&c.value>0)return 100;const Re=(se/te*100).toFixed(2)-0;return Math.min(Math.max(Re||0,0),100)}),{formData:de,zipName:he}=pr(n);return Rt(async()=>{S=new ed({...de.value,zipName:he.value}),_.value=!0,S.on("warn",te=>{i.value.push(te)}),S.on("preding",te=>{v.value+=1,T.value||(T.value=Date.now(),F.value=Date.now()),te&&(c.value+=te.length,te.forEach(se=>{u.value+=se.size}))}),S.on("error",te=>{const{index:se,message:me}=te;if(!Number.isInteger(se))return;s.value.add(se);const Re=d.get(se)||{index:se,name:r("undefined"),size:0,percentage:0,errorMessage:"",type:"error"};Re.type="error",Re.errorMessage=me||r("file_download_failed"),d.delete(se),U(Re),b(),pe();const g=O.get(se);if(g){O.set(se,{...g,percentage:100});let W=0;O.forEach(D=>{const x=D.size||0,k=D.percentage||0;W+=x*(k/100)}),R.value=W}}),S.on("max_size_warning",te=>{l.value=!0}),S.on("progress",te=>{const{index:se,percentage:me=0,name:Re,size:g}=te;if(!Number.isInteger(se)||a.value.has(se))return;if(g!==void 0){const x=O.get(se)||{};O.set(se,{...x,size:g,percentage:me,name:Re||x.name})}let W=d.get(se);if(W?(Re&&(W.name=Re),g!==void 0&&(W.size=g),W.percentage=me):W={index:se,name:Re||r("undefined"),size:g,percentage:me,errorMessage:"",type:"loading"},W.type="loading",W.errorMessage="",ee(se),s.value.delete(se),me>=100){W.type="success",a.value.add(se),d.delete(se);const x=O.get(se);x&&O.set(se,{...x,percentage:100})}else d.set(se,W);b();let D=0;O.forEach(x=>{const k=x.size||0,A=x.percentage||0;D+=k*(A/100)}),R.value=D,F.value=Date.now()}),S.on("finshed",te=>{_.value=!1,pe(),t("finsh")}),S.on("cancelled",()=>{C.value=!0,_.value=!1,setTimeout(()=>{t("cancel")},500)}),S.on("zip_progress",te=>{if(h.value="",te&&typeof te=="object"){if(te.stage==="zip"){const me=te.path||te.message||"";f.value=r("websocket_zip_stage_message",{path:me});return}if(te.stage==="retry_failed_files"){const me=Number(te.failed)||0;f.value=r("websocket_retry_failed_files_message",{count:me});return}if(te.stage==="job_complete"){f.value=r("websocket_job_stage_message");return}if(te.message){f.value=te.message;return}}const se=r("file_packing_progress_message").replace("percentage",te);f.value=se}),await S.startDownload()}),(te,se)=>{const me=Nt,Re=io,g=ko,W=Fo,D=Ni,x=Wl,k=$l;return le(),ve("div",td,[oe("h4",null,[_e(me,{class:"title-icon"},{default:Ce(()=>[_e(H(Ri))]),_:1}),Be(" "+fe(H(r)("download_progress")),1)]),oe("div",nd,[_e(su,{percent:H(Te)},null,8,["percent"])]),u.value>o||i.value.length||l.value?(le(),ve("div",rd,[u.value>o?(le(),Ne(Re,{key:0,type:"warning",closable:!1,"show-icon":"",style:{"margin-bottom":"8px"}},{default:Ce(()=>[Be(fe(H(r)("text7")),1)]),_:1})):Ee("",!0),(le(!0),ve(dt,null,Kt(i.value,A=>(le(),Ne(Re,{key:A,type:"warning",closable:!1,"show-icon":"",style:{"margin-bottom":"8px"}},{default:Ce(()=>[Be(fe(A),1)]),_:2},1024))),128)),l.value?(le(),Ne(Re,{key:1,type:"error",closable:!1,"show-icon":"",style:{"margin-bottom":"8px"}},{default:Ce(()=>[Be(fe(H(r)("text11")),1)]),_:1})):Ee("",!0)])):Ee("",!0),oe("h4",null,fe(H(r)("download_details")),1),oe("div",sd,[_e(W,{gutter:8,class:"stats-row"},{default:Ce(()=>[_e(g,{span:12},{default:Ce(()=>[oe("div",ad,[oe("div",id,fe(H(r)("text8",{totalLength:""}).replace(/\d+/,"").trim()),1),oe("div",od,fe(c.value),1)])]),_:1}),_e(g,{span:12},{default:Ce(()=>[oe("div",ld,[oe("div",ud,fe(H(r)("text10",{getCompletedIdsLength:""}).replace(/\d+/,"").trim()),1),oe("div",cd,fe(H(I)),1)])]),_:1})]),_:1}),_e(W,{gutter:8,class:"stats-row"},{default:Ce(()=>[_e(g,{span:12},{default:Ce(()=>[oe("div",dd,[oe("div",fd,fe(H(r)("text21",{failedCount:""}).replace(/\d+/,"").trim()),1),oe("div",hd,fe(H(Z)),1)])]),_:1}),_e(g,{span:12},{default:Ce(()=>[oe("div",pd,[oe("div",md,fe(H(r)("text9",{totalSize:""}).split(":")[0]),1),oe("div",gd,fe(H(zn)(u.value)),1)])]),_:1})]),_:1}),oe("div",vd,[oe("div",bd,[_e(me,{class:"info-icon"},{default:Ce(()=>[_e(H(Ti))]),_:1}),oe("span",yd,fe(H(r)("download_speed"))+":",1),oe("span",wd,fe(H(N)),1)]),oe("div",_d,[_e(me,{class:"info-icon"},{default:Ce(()=>[_e(H(Oi))]),_:1}),oe("span",Cd,fe(H(r)("remaining_time"))+":",1),oe("span",Sd,fe(H(z)),1)])]),H(ne)?(le(),ve("div",kd,[oe("div",xd,[_e(me,{class:"stats-icon"},{default:Ce(()=>[_e(H(Ai))]),_:1}),oe("span",Ed,fe(H(r)("failure_stats")),1)]),oe("div",Rd,[w.value.byType.network>0?(le(),ve("div",Td,[oe("span",Od,fe(H(r)("failure_network"))+":",1),oe("span",Ad,fe(w.value.byType.network),1)])):Ee("",!0),w.value.byType.auth>0?(le(),ve("div",Fd,[oe("span",Nd,fe(H(r)("failure_auth"))+":",1),oe("span",zd,fe(w.value.byType.auth),1)])):Ee("",!0),w.value.byType.expired_url>0?(le(),ve("div",Ld,[oe("span",Bd,fe(H(r)("failure_expired_url"))+":",1),oe("span",Id,fe(w.value.byType.expired_url),1)])):Ee("",!0),w.value.byType.server>0?(le(),ve("div",Pd,[oe("span",Dd,fe(H(r)("failure_server"))+":",1),oe("span",Md,fe(w.value.byType.server),1)])):Ee("",!0),w.value.byType.unknown>0?(le(),ve("div",Ud,[oe("span",$d,fe(H(r)("failure_unknown"))+":",1),oe("span",Wd,fe(w.value.byType.unknown),1)])):Ee("",!0)])])):Ee("",!0),h.value||f.value?(le(),ve("div",jd,[h.value?(le(),ve("p",Hd,fe(h.value),1)):Ee("",!0),f.value?(le(),ve("p",Vd,[_e(me,{class:"status-icon"},{default:Ce(()=>[_e(H(Ns))]),_:1}),Be(" "+fe(f.value),1)])):Ee("",!0)])):Ee("",!0),oe("div",Kd,[_.value&&!C.value?(le(),Ne(D,{key:0,size:"small",type:"danger",onClick:Y,class:"action-button"},{default:Ce(()=>[_e(me,{class:"button-icon"},{default:Ce(()=>[_e(H(Fi))]),_:1}),Be(" "+fe(H(r)("cancel_download")),1)]),_:1})):Ee("",!0),H(Z)>0?(le(),Ne(D,{key:1,size:"small",type:p.value?"primary":"default",onClick:se[0]||(se[0]=A=>p.value=!p.value),class:"action-button"},{default:Ce(()=>[_e(me,{class:"button-icon"},{default:Ce(()=>[_e(H(zi))]),_:1}),Be(" "+fe(p.value?H(r)("text22"):H(r)("text23")),1)]),_:1},8,["type"])):Ee("",!0)]),_e(k,{data:H(B),style:{width:"100%"},"show-overflow-tooltip":"",size:"small","row-class-name":X,"header-cell-style":{background:"var(--el-fill-color-lighter)",fontWeight:"600"},stripe:""},{default:Ce(()=>[_e(x,{type:"index",width:"50"}),_e(x,{prop:"name",label:H(r)("text12"),width:""},null,8,["label"]),_e(x,{prop:"percentage",label:H(r)("text13")},{default:Ce(A=>[Be(fe(A.row.percentage)+"% ",1)]),_:1},8,["label"]),_e(x,{prop:"size",label:H(r)("text14")},{default:Ce(A=>[Be(fe(H(zn)(A.row.size)),1)]),_:1},8,["label"]),_e(x,{prop:"status",label:H(r)("text15")},{default:Ce(A=>[A.row.type==="loading"?(le(),Ne(D,{key:0,type:"primary",size:"small",link:""},{default:Ce(()=>[Be(fe(H(r)("text16")),1)]),_:1})):Ee("",!0),A.row.type==="success"?(le(),Ne(D,{key:1,type:"success",link:"",size:"small"},{default:Ce(()=>[Be(fe(H(r)("text17")),1)]),_:1})):Ee("",!0),A.row.type==="error"?(le(),Ne(D,{key:2,type:"danger",link:"",size:"small"},{default:Ce(()=>[Be(fe(H(r)("text18")),1)]),_:1})):Ee("",!0)]),_:1},8,["label"]),_e(x,{prop:"errorMessage",label:H(r)("error_message")},{default:Ce(A=>[A.row.type==="error"?(le(),ve("span",qd,fe(A.row.errorMessage),1)):Ee("",!0)]),_:1},8,["label"])]),_:1},8,["data","header-cell-style"])])])}}},gf=zs(Zd,[["__scopeId","data-v-76bb945c"]]);export{gf as default};
